"use strict";(self.webpackChunkmaster_degree=self.webpackChunkmaster_degree||[]).push([[124],{2874:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(7462),r=n(4942),i=n(1413),o=n(5671),s=n(3144),l=n(9340),c=n(8557),u=n(7294),p=n(4184),h=n.n(p);const g=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),a=h()(n,"".concat(n,"-").concat(e.page),(t={},(0,r.Z)(t,"".concat(n,"-active"),e.active),(0,r.Z)(t,"".concat(n,"-disabled"),!e.page),(0,r.Z)(t,e.className,!!e.className),t));return u.createElement("li",{title:e.showTitle?e.page:null,className:a,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",u.createElement("a",{rel:"nofollow"},e.page)))},m=13,d=38,v=40;var f=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,a=n.goButton,r=n.quickGo,i=n.rootPrefixCls,o=e.state.goInputText;a||""===o||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||r(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==m&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,s.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,a=t.locale,r=t.rootPrefixCls,i=t.changeSize,o=t.quickGo,s=t.goButton,l=t.selectComponentClass,c=t.buildOptionText,p=t.selectPrefixCls,h=t.disabled,g=this.state.goInputText,m="".concat(r,"-options"),d=l,v=null,f=null,x=null;if(!i&&!o)return null;var C=this.getPageSizeOptions();if(i&&d){var P=C.map((function(t,n){return u.createElement(d.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));v=u.createElement(d,{disabled:h,prefixCls:p,showSearch:!1,className:"".concat(m,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||C[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode}},P)}return o&&(s&&(x="boolean"==typeof s?u.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:h,className:"".concat(m,"-quick-jumper-button")},a.jump_to_confirm):u.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),f=u.createElement("div",{className:"".concat(m,"-quick-jumper")},a.jump_to,u.createElement("input",{disabled:h,type:"text",value:g,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),a.page,x)),u.createElement("li",{className:"".concat(m)},v,f)}}]),n}(u.Component);f.defaultProps={pageSizeOptions:["10","20","50","100"]};const x=f;function C(){}function P(e,t,n){var a=void 0===e?t.pageSize:e;return Math.floor((n.total-1)/a)+1}var y=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;(0,o.Z)(this,n),(a=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,a.state.current-(a.props.showLessItems?3:5))},a.getJumpNextPage=function(){return Math.min(P(void 0,a.state,a.props),a.state.current+(a.props.showLessItems?3:5))},a.getItemIcon=function(e,t){var n=a.props.prefixCls,r=e||u.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"==typeof e&&(r=u.createElement(e,(0,i.Z)({},a.props))),r},a.savePaginationNode=function(e){a.paginationNode=e},a.isValid=function(e){return"number"==typeof(t=e)&&isFinite(t)&&Math.floor(t)===t&&e!==a.state.current;var t},a.shouldDisplayQuickJumper=function(){var e=a.props,t=e.showQuickJumper,n=e.pageSize;return!(e.total<=n)&&t},a.handleKeyDown=function(e){e.keyCode!==d&&e.keyCode!==v||e.preventDefault()},a.handleKeyUp=function(e){var t=a.getValidValue(e);t!==a.state.currentInputValue&&a.setState({currentInputValue:t}),e.keyCode===m?a.handleChange(t):e.keyCode===d?a.handleChange(t-1):e.keyCode===v&&a.handleChange(t+1)},a.changePageSize=function(e){var t=a.state.current,n=P(e,a.state,a.props);t=t>n?n:t,0===n&&(t=a.state.current),"number"==typeof e&&("pageSize"in a.props||a.setState({pageSize:e}),"current"in a.props||a.setState({current:t,currentInputValue:t})),a.props.onShowSizeChange(t,e),"onChange"in a.props&&a.props.onChange&&a.props.onChange(t,e)},a.handleChange=function(e){var t=a.props.disabled,n=e;if(a.isValid(n)&&!t){var r=P(void 0,a.state,a.props);n>r?n=r:n<1&&(n=1),"current"in a.props||a.setState({current:n,currentInputValue:n});var i=a.state.pageSize;return a.props.onChange(n,i),n}return a.state.current},a.prev=function(){a.hasPrev()&&a.handleChange(a.state.current-1)},a.next=function(){a.hasNext()&&a.handleChange(a.state.current+1)},a.jumpPrev=function(){a.handleChange(a.getJumpPrevPage())},a.jumpNext=function(){a.handleChange(a.getJumpNextPage())},a.hasPrev=function(){return a.state.current>1},a.hasNext=function(){return a.state.current<P(void 0,a.state,a.props)},a.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];t.apply(void 0,a)}},a.runIfEnterPrev=function(e){a.runIfEnter(e,a.prev)},a.runIfEnterNext=function(e){a.runIfEnter(e,a.next)},a.runIfEnterJumpPrev=function(e){a.runIfEnter(e,a.jumpPrev)},a.runIfEnterJumpNext=function(e){a.runIfEnter(e,a.jumpNext)},a.handleGoTO=function(e){e.keyCode!==m&&"click"!==e.type||a.handleChange(a.state.currentInputValue)};var r=e.onChange!==C;"current"in e&&!r&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=e.defaultCurrent;"current"in e&&(s=e.current);var l=e.defaultPageSize;return"pageSize"in e&&(l=e.pageSize),s=Math.min(s,P(l,void 0,e)),a.state={current:s,currentInputValue:s,pageSize:l},a}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var a=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));a&&document.activeElement===a&&a.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=P(void 0,this.state,this.props),a=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?a:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,a=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>a}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,a=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),r=!this.hasPrev();return(0,u.isValidElement)(a)?(0,u.cloneElement)(a,{disabled:r}):a}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,a=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),r=!this.hasNext();return(0,u.isValidElement)(a)?(0,u.cloneElement)(a,{disabled:r}):a}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.className,o=t.style,s=t.disabled,l=t.hideOnSinglePage,c=t.total,p=t.locale,m=t.showQuickJumper,d=t.showLessItems,v=t.showTitle,f=t.showTotal,C=t.simple,y=t.itemRender,N=t.showPrevNextJumpers,S=t.jumpPrevIcon,k=t.jumpNextIcon,b=t.selectComponentClass,I=t.selectPrefixCls,E=t.pageSizeOptions,z=this.state,_=z.current,w=z.pageSize,T=z.currentInputValue;if(!0===l&&c<=w)return null;var j=P(void 0,this.state,this.props),Z=[],K=null,V=null,O=null,J=null,G=null,U=m&&m.goButton,B=d?1:2,R=_-1>0?_-1:0,D=_+1<j?_+1:j,M=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(C)return U&&(G="boolean"==typeof U?u.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},p.jump_to_confirm):u.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},U),G=u.createElement("li",{title:v?"".concat(p.jump_to).concat(_,"/").concat(j):null,className:"".concat(n,"-simple-pager")},G)),u.createElement("ul",(0,a.Z)({className:h()(n,"".concat(n,"-simple"),(0,r.Z)({},"".concat(n,"-disabled"),s),i),style:o,ref:this.savePaginationNode},M),u.createElement("li",{title:v?p.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:h()("".concat(n,"-prev"),(0,r.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),u.createElement("li",{title:v?"".concat(_,"/").concat(j):null,className:"".concat(n,"-simple-pager")},u.createElement("input",{type:"text",value:T,disabled:s,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),u.createElement("span",{className:"".concat(n,"-slash")},"/"),j),u.createElement("li",{title:v?p.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:h()("".concat(n,"-next"),(0,r.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(D)),G);if(j<=3+2*B){var q={locale:p,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:v,itemRender:y};j||Z.push(u.createElement(g,(0,a.Z)({},q,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var L=1;L<=j;L+=1){var Q=_===L;Z.push(u.createElement(g,(0,a.Z)({},q,{key:L,page:L,active:Q})))}}else{var A=d?p.prev_3:p.prev_5,F=d?p.next_3:p.next_5;N&&(K=u.createElement("li",{title:v?A:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:h()("".concat(n,"-jump-prev"),(0,r.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!S))},y(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(S,"prev page"))),V=u.createElement("li",{title:v?F:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:h()("".concat(n,"-jump-next"),(0,r.Z)({},"".concat(n,"-jump-next-custom-icon"),!!k))},y(this.getJumpNextPage(),"jump-next",this.getItemIcon(k,"next page")))),J=u.createElement(g,{locale:p,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:j,page:j,active:!1,showTitle:v,itemRender:y}),O=u.createElement(g,{locale:p,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:v,itemRender:y});var W=Math.max(1,_-B),Y=Math.min(_+B,j);_-1<=B&&(Y=1+2*B),j-_<=B&&(W=j-2*B);for(var H=W;H<=Y;H+=1){var X=_===H;Z.push(u.createElement(g,{locale:p,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:H,page:H,active:X,showTitle:v,itemRender:y}))}_-1>=2*B&&3!==_&&(Z[0]=(0,u.cloneElement)(Z[0],{className:"".concat(n,"-item-after-jump-prev")}),Z.unshift(K)),j-_>=2*B&&_!==j-2&&(Z[Z.length-1]=(0,u.cloneElement)(Z[Z.length-1],{className:"".concat(n,"-item-before-jump-next")}),Z.push(V)),1!==W&&Z.unshift(O),Y!==j&&Z.push(J)}var $=null;f&&($=u.createElement("li",{className:"".concat(n,"-total-text")},f(c,[0===c?0:(_-1)*w+1,_*w>c?c:_*w])));var ee=!this.hasPrev()||!j,te=!this.hasNext()||!j;return u.createElement("ul",(0,a.Z)({className:h()(n,i,(0,r.Z)({},"".concat(n,"-disabled"),s)),style:o,unselectable:"unselectable",ref:this.savePaginationNode},M),$,u.createElement("li",{title:v?p.prev_page:null,onClick:this.prev,tabIndex:ee?null:0,onKeyPress:this.runIfEnterPrev,className:h()("".concat(n,"-prev"),(0,r.Z)({},"".concat(n,"-disabled"),ee)),"aria-disabled":ee},this.renderPrev(R)),Z,u.createElement("li",{title:v?p.next_page:null,onClick:this.next,tabIndex:te?null:0,onKeyPress:this.runIfEnterNext,className:h()("".concat(n,"-next"),(0,r.Z)({},"".concat(n,"-disabled"),te)),"aria-disabled":te},this.renderNext(D)),u.createElement(x,{disabled:s,locale:p,rootPrefixCls:n,selectComponentClass:b,selectPrefixCls:I,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:_,pageSize:w,pageSizeOptions:E,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:U}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var a=t.current,r=P(e.pageSize,t,e);a=a>r?r:a,"current"in e||(n.current=a,n.currentInputValue=a),n.pageSize=e.pageSize}return n}}]),n}(u.Component);y.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:C,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:C,locale:{items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};const N=y},2906:(e,t,n)=>{n.d(t,{Z:()=>a});const a={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzEwZmYwZWRlNWVkNDYwMDViZjcuanMiLCJtYXBwaW5ncyI6InFPQStCQSxRQXpCWSxTQUFlQSxHQUN6QixJQUFJQyxFQUVBQyxFQUFZLEdBQUdDLE9BQU9ILEVBQU1JLGNBQWUsU0FDM0NDLEVBQU0sSUFBV0gsRUFBVyxHQUFHQyxPQUFPRCxFQUFXLEtBQUtDLE9BQU9ILEVBQU1NLE9BQVFMLEVBQWMsSUFBSSxPQUFnQkEsRUFBYSxHQUFHRSxPQUFPRCxFQUFXLFdBQVlGLEVBQU1PLFNBQVMsT0FBZ0JOLEVBQWEsR0FBR0UsT0FBT0QsRUFBVyxjQUFlRixFQUFNTSxPQUFPLE9BQWdCTCxFQUFhRCxFQUFNUSxZQUFhUixFQUFNUSxXQUFZUCxJQVU5VCxPQUFvQixnQkFBb0IsS0FBTSxDQUM1Q1EsTUFBT1QsRUFBTVUsVUFBWVYsRUFBTU0sS0FBTyxLQUN0Q0UsVUFBV0gsRUFDWE0sUUFYZ0IsV0FDaEJYLEVBQU1XLFFBQVFYLEVBQU1NLE9BV3BCTSxXQVJtQixTQUF3QkMsR0FDM0NiLEVBQU1ZLFdBQVdDLEVBQUdiLEVBQU1XLFFBQVNYLEVBQU1NLE9BUXpDUSxTQUFVLEtBQ1RkLEVBQU1lLFdBQVdmLEVBQU1NLEtBQU0sT0FBcUIsZ0JBQW9CLElBQUssQ0FDNUVVLElBQUssWUFDSmhCLEVBQU1NLFNDNUJYLEVBT1MsR0FQVCxFQVFZLEdBUlosRUFTYyxHQ0FkLElBQUlXLEVBQXVCLFNBQVVDLElBQ25DLE9BQVVELEVBQVNDLEdBRW5CLElBQUlDLEdBQVMsT0FBYUYsR0FFMUIsU0FBU0EsSUFDUCxJQUFJRyxHQUVKLE9BQWdCQyxLQUFNSixHQUV0QixJQUFLLElBQUlLLEVBQU9DLFVBQVVDLE9BQVFDLEVBQU8sSUFBSUMsTUFBTUosR0FBT0ssRUFBTyxFQUFHQSxFQUFPTCxFQUFNSyxJQUMvRUYsRUFBS0UsR0FBUUosVUFBVUksR0E0RHpCLE9BekRBUCxFQUFRRCxFQUFPUyxLQUFLQyxNQUFNVixFQUFRLENBQUNFLE1BQU1sQixPQUFPc0IsS0FDMUNLLE1BQVEsQ0FDWkMsWUFBYSxJQUdmWCxFQUFNWSxnQkFBa0IsU0FBVUMsR0FDaEMsTUFBTyxHQUFHOUIsT0FBTzhCLEVBQU8sS0FBSzlCLE9BQU9pQixFQUFNcEIsTUFBTWtDLE9BQU9DLGlCQUd6RGYsRUFBTWdCLFdBQWEsU0FBVUgsR0FDM0JiLEVBQU1wQixNQUFNb0MsV0FBV0MsT0FBT0osS0FHaENiLEVBQU1rQixhQUFlLFNBQVV6QixHQUM3Qk8sRUFBTW1CLFNBQVMsQ0FDYlIsWUFBYWxCLEVBQUUyQixPQUFPUCxTQUkxQmIsRUFBTXFCLFdBQWEsU0FBVTVCLEdBQzNCLElBQUk2QixFQUFjdEIsRUFBTXBCLE1BQ3BCMkMsRUFBV0QsRUFBWUMsU0FDdkJDLEVBQVVGLEVBQVlFLFFBQ3RCeEMsRUFBZ0JzQyxFQUFZdEMsY0FDNUIyQixFQUFjWCxFQUFNVSxNQUFNQyxZQUUxQlksR0FBNEIsS0FBaEJaLElBSWhCWCxFQUFNbUIsU0FBUyxDQUNiUixZQUFhLEtBR1hsQixFQUFFZ0MsZ0JBQWtCaEMsRUFBRWdDLGNBQWNyQyxVQUFVc0MsUUFBUSxHQUFHM0MsT0FBT0MsRUFBZSxnQkFBa0IsR0FBS1MsRUFBRWdDLGNBQWNyQyxVQUFVc0MsUUFBUSxHQUFHM0MsT0FBT0MsRUFBZSxXQUFhLElBSWxMd0MsRUFBUXhCLEVBQU0yQixtQkFHaEIzQixFQUFNNEIsR0FBSyxTQUFVbkMsR0FHQyxLQUZGTyxFQUFNVSxNQUFNQyxjQU0xQmxCLEVBQUVvQyxVQUFZLEdBQTRCLFVBQVhwQyxFQUFFcUMsT0FDbkM5QixFQUFNbUIsU0FBUyxDQUNiUixZQUFhLEtBR2ZYLEVBQU1wQixNQUFNNEMsUUFBUXhCLEVBQU0yQixvQkFJdkIzQixFQWtIVCxPQS9HQSxPQUFhSCxFQUFTLENBQUMsQ0FDckJrQyxJQUFLLGdCQUNMbEIsTUFBTyxXQUNMLElBQUlGLEVBQWNWLEtBQUtTLE1BQU1DLFlBRTdCLE9BQVFBLEdBQWVxQixNQUFNckIsUUFBZXNCLEVBQVloQixPQUFPTixLQUVoRSxDQUNEb0IsSUFBSyxxQkFDTGxCLE1BQU8sV0FDTCxJQUFJcUIsRUFBZWpDLEtBQUtyQixNQUNwQnVELEVBQVdELEVBQWFDLFNBQ3hCQyxFQUFrQkYsRUFBYUUsZ0JBRW5DLE9BQUlBLEVBQWdCQyxNQUFLLFNBQVVDLEdBQ2pDLE9BQU9BLEVBQU9DLGFBQWVKLEVBQVNJLGNBRS9CSCxFQUdGQSxFQUFnQnJELE9BQU8sQ0FBQ29ELEVBQVNJLGFBQWFDLE1BQUssU0FBVUMsRUFBR0MsR0FLckUsT0FIY1YsTUFBTWYsT0FBT3dCLElBQU0sRUFBSXhCLE9BQU93QixLQUU5QlQsTUFBTWYsT0FBT3lCLElBQU0sRUFBSXpCLE9BQU95QixTQUkvQyxDQUNEWCxJQUFLLFNBQ0xsQixNQUFPLFdBQ0wsSUFBSThCLEVBQVMxQyxLQUVUMkMsRUFBZTNDLEtBQUtyQixNQUNwQnVELEVBQVdTLEVBQWFULFNBQ3hCckIsRUFBUzhCLEVBQWE5QixPQUN0QjlCLEVBQWdCNEQsRUFBYTVELGNBQzdCZ0MsRUFBYTRCLEVBQWE1QixXQUMxQlEsRUFBVW9CLEVBQWFwQixRQUN2QkQsRUFBV3FCLEVBQWFyQixTQUN4QnNCLEVBQXVCRCxFQUFhQyxxQkFDcENqQyxFQUFrQmdDLEVBQWFoQyxnQkFDL0JrQyxFQUFrQkYsRUFBYUUsZ0JBQy9CQyxFQUFXSCxFQUFhRyxTQUN4QnBDLEVBQWNWLEtBQUtTLE1BQU1DLFlBQ3pCN0IsRUFBWSxHQUFHQyxPQUFPQyxFQUFlLFlBQ3JDZ0UsRUFBU0gsRUFDVEksRUFBZSxLQUNmQyxFQUFVLEtBQ1ZDLEVBQWEsS0FFakIsSUFBS25DLElBQWVRLEVBQ2xCLE9BQU8sS0FHVCxJQUFJWSxFQUFrQm5DLEtBQUttRCxxQkFFM0IsR0FBSXBDLEdBQWNnQyxFQUFRLENBQ3hCLElBQUlLLEVBQVVqQixFQUFnQmtCLEtBQUksU0FBVUMsRUFBS0MsR0FDL0MsT0FBb0IsZ0JBQW9CUixFQUFPUyxPQUFRLENBQ3JEMUIsSUFBS3lCLEVBQ0wzQyxNQUFPMEMsRUFBSWhCLGFBQ1QzQixHQUFtQitCLEVBQU8vQixpQkFBaUIyQyxPQUVqRE4sRUFBNEIsZ0JBQW9CRCxFQUFRLENBQ3RERCxTQUFVQSxFQUNWakUsVUFBV2dFLEVBQ1hZLFlBQVksRUFDWnRFLFVBQVcsR0FBR0wsT0FBT0QsRUFBVyxpQkFDaEM2RSxnQkFBaUIsV0FDakJDLDBCQUEwQixFQUMxQi9DLE9BQVFzQixHQUFZQyxFQUFnQixJQUFJRyxXQUN4Q3NCLFNBQVU1RCxLQUFLZSxXQUNmOEMsa0JBQW1CLFNBQTJCQyxHQUM1QyxPQUFPQSxFQUFZQyxhQUVwQlgsR0E2QkwsT0ExQkk3QixJQUNFRCxJQUNGNEIsRUFBaUMsa0JBQWI1QixFQUFzQyxnQkFBb0IsU0FBVSxDQUN0Rk8sS0FBTSxTQUNOdkMsUUFBU1UsS0FBSzJCLEdBQ2RxQyxRQUFTaEUsS0FBSzJCLEdBQ2RtQixTQUFVQSxFQUNWM0QsVUFBVyxHQUFHTCxPQUFPRCxFQUFXLHlCQUMvQmdDLEVBQU9vRCxpQkFBZ0MsZ0JBQW9CLE9BQVEsQ0FDcEUzRSxRQUFTVSxLQUFLMkIsR0FDZHFDLFFBQVNoRSxLQUFLMkIsSUFDYkwsSUFHTDJCLEVBQXVCLGdCQUFvQixNQUFPLENBQ2hEOUQsVUFBVyxHQUFHTCxPQUFPRCxFQUFXLGtCQUMvQmdDLEVBQU9xRCxRQUFzQixnQkFBb0IsUUFBUyxDQUMzRHBCLFNBQVVBLEVBQ1ZqQixLQUFNLE9BQ05qQixNQUFPRixFQUNQa0QsU0FBVTVELEtBQUtpQixhQUNmK0MsUUFBU2hFLEtBQUsyQixHQUNkd0MsT0FBUW5FLEtBQUtvQixhQUNYUCxFQUFPNUIsS0FBTWlFLElBR0MsZ0JBQW9CLEtBQU0sQ0FDNUMvRCxVQUFXLEdBQUdMLE9BQU9ELElBQ3BCbUUsRUFBY0MsT0FJZHJELEVBekxrQixDQTBMekIsYUFFRkEsRUFBUXdFLGFBQWUsQ0FDckJqQyxnQkFBaUIsQ0FBQyxLQUFNLEtBQU0sS0FBTSxRQUV0QyxVQ3hMQSxTQUFTa0MsS0FZVCxTQUFTQyxFQUFjQyxFQUFHOUQsRUFBTzlCLEdBQy9CLElBQUl1RCxPQUF3QixJQUFOcUMsRUFBb0I5RCxFQUFNeUIsU0FBV3FDLEVBQzNELE9BQU9DLEtBQUtDLE9BQU85RixFQUFNK0YsTUFBUSxHQUFLeEMsR0FBWSxFQUdwRCxJQUFJeUMsRUFBMEIsU0FBVTlFLElBQ3RDLE9BQVU4RSxFQUFZOUUsR0FFdEIsSUFBSUMsR0FBUyxPQUFhNkUsR0FFMUIsU0FBU0EsRUFBV2hHLEdBQ2xCLElBQUlvQixHQUVKLE9BQWdCQyxLQUFNMkUsSUFFdEI1RSxFQUFRRCxFQUFPUyxLQUFLUCxLQUFNckIsSUFFcEJpRyxnQkFBa0IsV0FDdEIsT0FBT0osS0FBS0ssSUFBSSxFQUFHOUUsRUFBTVUsTUFBTXFFLFNBQVcvRSxFQUFNcEIsTUFBTW9HLGNBQWdCLEVBQUksS0FHNUVoRixFQUFNaUYsZ0JBQWtCLFdBQ3RCLE9BQU9SLEtBQUtTLElBQUlYLE9BQWN0QyxFQUFXakMsRUFBTVUsTUFBT1YsRUFBTXBCLE9BQVFvQixFQUFNVSxNQUFNcUUsU0FBVy9FLEVBQU1wQixNQUFNb0csY0FBZ0IsRUFBSSxLQUc3SGhGLEVBQU1tRixZQUFjLFNBQVVDLEVBQU1DLEdBQ2xDLElBQUl2RyxFQUFZa0IsRUFBTXBCLE1BQU1FLFVBQ3hCd0csRUFBV0YsR0FBcUIsZ0JBQW9CLFNBQVUsQ0FDaEV0RCxLQUFNLFNBQ04sYUFBY3VELEVBQ2RqRyxVQUFXLEdBQUdMLE9BQU9ELEVBQVcsZ0JBT2xDLE1BSm9CLG1CQUFUc0csSUFDVEUsRUFBd0IsZ0JBQW9CRixHQUFNLE9BQWMsR0FBSXBGLEVBQU1wQixTQUdyRTBHLEdBR1R0RixFQUFNdUYsbUJBQXFCLFNBQVVDLEdBQ25DeEYsRUFBTXlGLGVBQWlCRCxHQUd6QnhGLEVBQU0wRixRQUFVLFNBQVV4RyxHQUN4QixNQXJEZSxpQkFGRjJCLEVBdURJM0IsSUFyRFV5RyxTQUFTOUUsSUFBVTRELEtBQUtDLE1BQU03RCxLQUFXQSxHQXFEMUMzQixJQUFTYyxFQUFNVSxNQUFNcUUsUUF2RHJELElBQW1CbEUsR0EwRGZiLEVBQU00Rix5QkFBMkIsV0FDL0IsSUFBSXRFLEVBQWN0QixFQUFNcEIsTUFDcEJpSCxFQUFrQnZFLEVBQVl1RSxnQkFDOUIxRCxFQUFXYixFQUFZYSxTQUczQixRQUZZYixFQUFZcUQsT0FFWHhDLElBSU4wRCxHQUdUN0YsRUFBTThGLGNBQWdCLFNBQVVyRyxHQUMxQkEsRUFBRW9DLFVBQVksR0FBb0JwQyxFQUFFb0MsVUFBWSxHQUNsRHBDLEVBQUVzRyxrQkFJTi9GLEVBQU1nRyxZQUFjLFNBQVV2RyxHQUM1QixJQUFJb0IsRUFBUWIsRUFBTTJCLGNBQWNsQyxHQUk1Qm9CLElBRm9CYixFQUFNVSxNQUFNdUYsbUJBR2xDakcsRUFBTW1CLFNBQVMsQ0FDYjhFLGtCQUFtQnBGLElBSW5CcEIsRUFBRW9DLFVBQVksRUFDaEI3QixFQUFNa0IsYUFBYUwsR0FDVnBCLEVBQUVvQyxVQUFZLEVBQ3ZCN0IsRUFBTWtCLGFBQWFMLEVBQVEsR0FDbEJwQixFQUFFb0MsVUFBWSxHQUN2QjdCLEVBQU1rQixhQUFhTCxFQUFRLElBSS9CYixFQUFNa0csZUFBaUIsU0FBVUMsR0FDL0IsSUFBSXBCLEVBQVUvRSxFQUFNVSxNQUFNcUUsUUFDdEJxQixFQUFhN0IsRUFBYzRCLEVBQU1uRyxFQUFNVSxNQUFPVixFQUFNcEIsT0FDeERtRyxFQUFVQSxFQUFVcUIsRUFBYUEsRUFBYXJCLEVBRzNCLElBQWZxQixJQUVGckIsRUFBVS9FLEVBQU1VLE1BQU1xRSxTQUdKLGlCQUFUb0IsSUFDSCxhQUFjbkcsRUFBTXBCLE9BQ3hCb0IsRUFBTW1CLFNBQVMsQ0FDYmdCLFNBQVVnRSxJQUlSLFlBQWFuRyxFQUFNcEIsT0FDdkJvQixFQUFNbUIsU0FBUyxDQUNiNEQsUUFBU0EsRUFDVGtCLGtCQUFtQmxCLEtBS3pCL0UsRUFBTXBCLE1BQU15SCxpQkFBaUJ0QixFQUFTb0IsR0FFbEMsYUFBY25HLEVBQU1wQixPQUFTb0IsRUFBTXBCLE1BQU1pRixVQUMzQzdELEVBQU1wQixNQUFNaUYsU0FBU2tCLEVBQVNvQixJQUlsQ25HLEVBQU1rQixhQUFlLFNBQVVzRCxHQUM3QixJQUFJekIsRUFBVy9DLEVBQU1wQixNQUFNbUUsU0FDdkI3RCxFQUFPc0YsRUFFWCxHQUFJeEUsRUFBTTBGLFFBQVF4RyxLQUFVNkQsRUFBVSxDQUNwQyxJQUFJdUQsRUFBYy9CLE9BQWN0QyxFQUFXakMsRUFBTVUsTUFBT1YsRUFBTXBCLE9BRTFETSxFQUFPb0gsRUFDVHBILEVBQU9vSCxFQUNFcEgsRUFBTyxJQUNoQkEsRUFBTyxHQUdILFlBQWFjLEVBQU1wQixPQUN2Qm9CLEVBQU1tQixTQUFTLENBQ2I0RCxRQUFTN0YsRUFDVCtHLGtCQUFtQi9HLElBSXZCLElBQUlpRCxFQUFXbkMsRUFBTVUsTUFBTXlCLFNBSTNCLE9BRkFuQyxFQUFNcEIsTUFBTWlGLFNBQVMzRSxFQUFNaUQsR0FFcEJqRCxFQUdULE9BQU9jLEVBQU1VLE1BQU1xRSxTQUdyQi9FLEVBQU11RyxLQUFPLFdBQ1B2RyxFQUFNd0csV0FDUnhHLEVBQU1rQixhQUFhbEIsRUFBTVUsTUFBTXFFLFFBQVUsSUFJN0MvRSxFQUFNeUcsS0FBTyxXQUNQekcsRUFBTTBHLFdBQ1IxRyxFQUFNa0IsYUFBYWxCLEVBQU1VLE1BQU1xRSxRQUFVLElBSTdDL0UsRUFBTTJHLFNBQVcsV0FDZjNHLEVBQU1rQixhQUFhbEIsRUFBTTZFLG9CQUczQjdFLEVBQU00RyxTQUFXLFdBQ2Y1RyxFQUFNa0IsYUFBYWxCLEVBQU1pRixvQkFHM0JqRixFQUFNd0csUUFBVSxXQUNkLE9BQU94RyxFQUFNVSxNQUFNcUUsUUFBVSxHQUcvQi9FLEVBQU0wRyxRQUFVLFdBQ2QsT0FBTzFHLEVBQU1VLE1BQU1xRSxRQUFVUixPQUFjdEMsRUFBV2pDLEVBQU1VLE1BQU9WLEVBQU1wQixRQUczRW9CLEVBQU02RyxXQUFhLFNBQVVDLEVBQU9DLEdBQ2xDLEdBQWtCLFVBQWRELEVBQU0vRSxLQUFzQyxLQUFuQitFLEVBQU1FLFNBQWlCLENBQ2xELElBQUssSUFBSTlHLEVBQU9DLFVBQVVDLE9BQVE2RyxFQUFhLElBQUkzRyxNQUFNSixFQUFPLEVBQUlBLEVBQU8sRUFBSSxHQUFJSyxFQUFPLEVBQUdBLEVBQU9MLEVBQU1LLElBQ3hHMEcsRUFBVzFHLEVBQU8sR0FBS0osVUFBVUksR0FHbkN3RyxFQUFTdEcsV0FBTSxFQUFRd0csS0FJM0JqSCxFQUFNa0gsZUFBaUIsU0FBVXpILEdBQy9CTyxFQUFNNkcsV0FBV3BILEVBQUdPLEVBQU11RyxPQUc1QnZHLEVBQU1tSCxlQUFpQixTQUFVMUgsR0FDL0JPLEVBQU02RyxXQUFXcEgsRUFBR08sRUFBTXlHLE9BRzVCekcsRUFBTW9ILG1CQUFxQixTQUFVM0gsR0FDbkNPLEVBQU02RyxXQUFXcEgsRUFBR08sRUFBTTJHLFdBRzVCM0csRUFBTXFILG1CQUFxQixTQUFVNUgsR0FDbkNPLEVBQU02RyxXQUFXcEgsRUFBR08sRUFBTTRHLFdBRzVCNUcsRUFBTXNILFdBQWEsU0FBVTdILEdBQ3ZCQSxFQUFFb0MsVUFBWSxHQUE0QixVQUFYcEMsRUFBRXFDLE1BQ25DOUIsRUFBTWtCLGFBQWFsQixFQUFNVSxNQUFNdUYsb0JBSW5DLElBQUlzQixFQUFjM0ksRUFBTWlGLFdBQWFTLEVBQ25CLFlBQWExRixJQUVaMkksR0FFakJDLFFBQVFDLEtBQUssMklBR2YsSUFBSUMsRUFBVzlJLEVBQU0rSSxlQUVqQixZQUFhL0ksSUFFZjhJLEVBQVc5SSxFQUFNbUcsU0FHbkIsSUFBSTZDLEVBQVloSixFQUFNaUosZ0JBYXRCLE1BWEksYUFBY2pKLElBRWhCZ0osRUFBWWhKLEVBQU11RCxVQUdwQnVGLEVBQVdqRCxLQUFLUyxJQUFJd0MsRUFBVW5ELEVBQWNxRCxPQUFXM0YsRUFBV3JELElBQ2xFb0IsRUFBTVUsTUFBUSxDQUNacUUsUUFBUzJDLEVBQ1R6QixrQkFBbUJ5QixFQUNuQnZGLFNBQVV5RixHQUVMNUgsRUE0WFQsT0F6WEEsT0FBYTRFLEVBQVksQ0FBQyxDQUN4QjdDLElBQUsscUJBQ0xsQixNQUFPLFNBQTRCaUgsRUFBV0MsR0FHNUMsSUFBSWpKLEVBQVltQixLQUFLckIsTUFBTUUsVUFFM0IsR0FBSWlKLEVBQVVoRCxVQUFZOUUsS0FBS1MsTUFBTXFFLFNBQVc5RSxLQUFLd0YsZUFBZ0IsQ0FDbkUsSUFBSXVDLEVBQWtCL0gsS0FBS3dGLGVBQWV3QyxjQUFjLElBQUlsSixPQUFPRCxFQUFXLFVBQVVDLE9BQU9nSixFQUFVaEQsVUFFckdpRCxHQUFtQkUsU0FBU0MsZ0JBQWtCSCxHQUNoREEsRUFBZ0JJLFVBSXJCLENBQ0RyRyxJQUFLLGdCQUNMbEIsTUFBTyxTQUF1QnBCLEdBQzVCLElBQUk0SSxFQUFhNUksRUFBRTJCLE9BQU9QLE1BQ3RCeUgsRUFBVy9ELE9BQWN0QyxFQUFXaEMsS0FBS1MsTUFBT1QsS0FBS3JCLE9BQ3JEcUgsRUFBb0JoRyxLQUFLUyxNQUFNdUYsa0JBYW5DLE1BVm1CLEtBQWZvQyxFQUNNQSxFQUNDckcsTUFBTWYsT0FBT29ILElBQ2RwQyxFQUNDb0MsR0FBY0MsRUFDZkEsRUFFQXJILE9BQU9vSCxLQUtsQixDQUNEdEcsSUFBSyxxQkFDTGxCLE1BQU8sV0FDTCxJQUFJcUIsRUFBZWpDLEtBQUtyQixNQUNwQjJKLEVBQWtCckcsRUFBYXFHLGdCQUMvQjVELEVBQVF6QyxFQUFheUMsTUFDckI2RCxFQUErQnRHLEVBQWFzRyw2QkFFaEQsWUFBK0IsSUFBcEJELEVBQ0ZBLEVBR0Y1RCxFQUFRNkQsSUFFaEIsQ0FDRHpHLElBQUssYUFDTGxCLE1BQU8sU0FBb0I0SCxHQUN6QixJQUFJN0YsRUFBZTNDLEtBQUtyQixNQUNwQjhKLEVBQVc5RixFQUFhOEYsU0FFeEJDLEdBQWFoSixFQURBaUQsRUFBYWpELFlBQ0Y4SSxFQUFVLE9BQVF4SSxLQUFLa0YsWUFBWXVELEVBQVUsY0FDckUzRixHQUFZOUMsS0FBS3VHLFVBQ3JCLE9BQW9CLElBQUFvQyxnQkFBZUQsSUFBMkIsSUFBQUUsY0FBYUYsRUFBWSxDQUNyRjVGLFNBQVVBLElBQ1A0RixJQUVOLENBQ0Q1RyxJQUFLLGFBQ0xsQixNQUFPLFNBQW9CaUksR0FDekIsSUFBSUMsRUFBZTlJLEtBQUtyQixNQUNwQm9LLEVBQVdELEVBQWFDLFNBRXhCQyxHQUFhdEosRUFEQW9KLEVBQWFwSixZQUNGbUosRUFBVSxPQUFRN0ksS0FBS2tGLFlBQVk2RCxFQUFVLGNBQ3JFakcsR0FBWTlDLEtBQUt5RyxVQUNyQixPQUFvQixJQUFBa0MsZ0JBQWVLLElBQTJCLElBQUFKLGNBQWFJLEVBQVksQ0FDckZsRyxTQUFVQSxJQUNQa0csSUFFTixDQUNEbEgsSUFBSyxTQUNMbEIsTUFBTyxXQUNMLElBQUk4QixFQUFTMUMsS0FFVGlKLEVBQWVqSixLQUFLckIsTUFDcEJFLEVBQVlvSyxFQUFhcEssVUFDekJNLEVBQVk4SixFQUFhOUosVUFDekIrSixFQUFRRCxFQUFhQyxNQUNyQnBHLEVBQVdtRyxFQUFhbkcsU0FDeEJxRyxFQUFtQkYsRUFBYUUsaUJBQ2hDekUsRUFBUXVFLEVBQWF2RSxNQUNyQjdELEVBQVNvSSxFQUFhcEksT0FDdEIrRSxFQUFrQnFELEVBQWFyRCxnQkFDL0JiLEVBQWdCa0UsRUFBYWxFLGNBQzdCMUYsRUFBWTRKLEVBQWE1SixVQUN6QitKLEVBQVlILEVBQWFHLFVBQ3pCQyxFQUFTSixFQUFhSSxPQUN0QjNKLEVBQWF1SixFQUFhdkosV0FDMUI0SixFQUFzQkwsRUFBYUssb0JBQ25DQyxFQUFlTixFQUFhTSxhQUM1QkMsRUFBZVAsRUFBYU8sYUFDNUI1RyxFQUF1QnFHLEVBQWFyRyxxQkFDcENDLEVBQWtCb0csRUFBYXBHLGdCQUMvQlYsRUFBa0I4RyxFQUFhOUcsZ0JBQy9Cc0gsRUFBY3pKLEtBQUtTLE1BQ25CcUUsRUFBVTJFLEVBQVkzRSxRQUN0QjVDLEVBQVd1SCxFQUFZdkgsU0FDdkI4RCxFQUFvQnlELEVBQVl6RCxrQkFFcEMsSUFBeUIsSUFBckJtRCxHQUE2QnpFLEdBQVN4QyxFQUN4QyxPQUFPLEtBR1QsSUFBSW1HLEVBQVcvRCxPQUFjdEMsRUFBV2hDLEtBQUtTLE1BQU9ULEtBQUtyQixPQUNyRCtLLEVBQVksR0FDWmhELEVBQVcsS0FDWEMsRUFBVyxLQUNYZ0QsRUFBYSxLQUNiQyxFQUFZLEtBQ1oxRyxFQUFhLEtBQ2I1QixFQUFXc0UsR0FBbUJBLEVBQWdCdEUsU0FDOUN1SSxFQUFpQjlFLEVBQWdCLEVBQUksRUFDckN5RCxFQUFXMUQsRUFBVSxFQUFJLEVBQUlBLEVBQVUsRUFBSSxFQUMzQytELEVBQVcvRCxFQUFVLEVBQUl1RCxFQUFXdkQsRUFBVSxFQUFJdUQsRUFDbER5QixFQUEyQkMsT0FBT0MsS0FBS2hLLEtBQUtyQixPQUFPc0wsUUFBTyxTQUFVM0QsRUFBTXhFLEdBTTVFLE1BTHlCLFVBQXJCQSxFQUFJb0ksT0FBTyxFQUFHLElBQXVDLFVBQXJCcEksRUFBSW9JLE9BQU8sRUFBRyxJQUEwQixTQUFScEksSUFFbEV3RSxFQUFLeEUsR0FBT1ksRUFBTy9ELE1BQU1tRCxJQUdwQndFLElBQ04sSUFFSCxHQUFJK0MsRUFxQkYsT0FwQkkvSCxJQUVBNEIsRUFEc0Isa0JBQWI1QixFQUNpQixnQkFBb0IsU0FBVSxDQUN0RE8sS0FBTSxTQUNOdkMsUUFBU1UsS0FBS3FILFdBQ2RyRCxRQUFTaEUsS0FBS3FILFlBQ2J4RyxFQUFPb0QsaUJBRWdCLGdCQUFvQixPQUFRLENBQ3BEM0UsUUFBU1UsS0FBS3FILFdBQ2RyRCxRQUFTaEUsS0FBS3FILFlBQ2IvRixHQUdMNEIsRUFBMEIsZ0JBQW9CLEtBQU0sQ0FDbEQ5RCxNQUFPQyxFQUFZLEdBQUdQLE9BQU8rQixFQUFPcUQsU0FBU3BGLE9BQU9nRyxFQUFTLEtBQUtoRyxPQUFPdUosR0FBWSxLQUNyRmxKLFVBQVcsR0FBR0wsT0FBT0QsRUFBVyxrQkFDL0JxRSxJQUdlLGdCQUFvQixNQUFNLE9BQVMsQ0FDckQvRCxVQUFXLElBQVdOLEVBQVcsR0FBR0MsT0FBT0QsRUFBVyxZQUFZLE9BQWdCLEdBQUksR0FBR0MsT0FBT0QsRUFBVyxhQUFjaUUsR0FBVzNELEdBQ3BJK0osTUFBT0EsRUFDUGlCLElBQUtuSyxLQUFLc0Ysb0JBQ1R3RSxHQUF3QyxnQkFBb0IsS0FBTSxDQUNuRTFLLE1BQU9DLEVBQVl3QixFQUFPdUosVUFBWSxLQUN0QzlLLFFBQVNVLEtBQUtzRyxLQUNkN0csU0FBVU8sS0FBS3VHLFVBQVksRUFBSSxLQUMvQmhILFdBQVlTLEtBQUtpSCxlQUNqQjlILFVBQVcsSUFBVyxHQUFHTCxPQUFPRCxFQUFXLFVBQVUsT0FBZ0IsR0FBSSxHQUFHQyxPQUFPRCxFQUFXLGNBQWVtQixLQUFLdUcsWUFDbEgsaUJBQWtCdkcsS0FBS3VHLFdBQ3RCdkcsS0FBS3FLLFdBQVc3QixJQUF5QixnQkFBb0IsS0FBTSxDQUNwRXBKLE1BQU9DLEVBQVksR0FBR1AsT0FBT2dHLEVBQVMsS0FBS2hHLE9BQU91SixHQUFZLEtBQzlEbEosVUFBVyxHQUFHTCxPQUFPRCxFQUFXLGtCQUNsQixnQkFBb0IsUUFBUyxDQUMzQ2dELEtBQU0sT0FDTmpCLE1BQU9vRixFQUNQbEQsU0FBVUEsRUFDVndILFVBQVd0SyxLQUFLNkYsY0FDaEI3QixRQUFTaEUsS0FBSytGLFlBQ2RuQyxTQUFVNUQsS0FBSytGLFlBQ2ZHLEtBQU0sTUFDUyxnQkFBb0IsT0FBUSxDQUMzQy9HLFVBQVcsR0FBR0wsT0FBT0QsRUFBVyxXQUMvQixLQUFNd0osR0FBd0IsZ0JBQW9CLEtBQU0sQ0FDekRqSixNQUFPQyxFQUFZd0IsRUFBTzBKLFVBQVksS0FDdENqTCxRQUFTVSxLQUFLd0csS0FDZC9HLFNBQVVPLEtBQUt1RyxVQUFZLEVBQUksS0FDL0JoSCxXQUFZUyxLQUFLa0gsZUFDakIvSCxVQUFXLElBQVcsR0FBR0wsT0FBT0QsRUFBVyxVQUFVLE9BQWdCLEdBQUksR0FBR0MsT0FBT0QsRUFBVyxjQUFlbUIsS0FBS3lHLFlBQ2xILGlCQUFrQnpHLEtBQUt5RyxXQUN0QnpHLEtBQUt3SyxXQUFXM0IsSUFBWTNGLEdBR2pDLEdBQUltRixHQUFZLEVBQXFCLEVBQWpCd0IsRUFBb0IsQ0FDdEMsSUFBSVksRUFBYSxDQUNmNUosT0FBUUEsRUFDUjlCLGNBQWVGLEVBQ2ZTLFFBQVNVLEtBQUtpQixhQUNkMUIsV0FBWVMsS0FBSzRHLFdBQ2pCdkgsVUFBV0EsRUFDWEssV0FBWUEsR0FHVDJJLEdBQ0hxQixFQUFVZ0IsS0FBbUIsZ0JBQW9CLEdBQU8sT0FBUyxHQUFJRCxFQUFZLENBQy9FM0ksSUFBSyxVQUNMN0MsS0FBTSxFQUNORSxVQUFXLEdBQUdMLE9BQU9ELEVBQVcsc0JBSXBDLElBQUssSUFBSTBFLEVBQUksRUFBR0EsR0FBSzhFLEVBQVU5RSxHQUFLLEVBQUcsQ0FDckMsSUFBSXJFLEVBQVM0RixJQUFZdkIsRUFDekJtRyxFQUFVZ0IsS0FBbUIsZ0JBQW9CLEdBQU8sT0FBUyxHQUFJRCxFQUFZLENBQy9FM0ksSUFBS3lCLEVBQ0x0RSxLQUFNc0UsRUFDTnJFLE9BQVFBLFdBR1AsQ0FDTCxJQUFJeUwsRUFBZ0I1RixFQUFnQmxFLEVBQU8rSixPQUFTL0osRUFBT2dLLE9BQ3ZEQyxFQUFnQi9GLEVBQWdCbEUsRUFBT2tLLE9BQVNsSyxFQUFPbUssT0FFdkQxQixJQUNGNUMsRUFBd0IsZ0JBQW9CLEtBQU0sQ0FDaER0SCxNQUFPQyxFQUFZc0wsRUFBZ0IsS0FDbkM3SSxJQUFLLE9BQ0x4QyxRQUFTVSxLQUFLMEcsU0FDZGpILFNBQVUsSUFDVkYsV0FBWVMsS0FBS21ILG1CQUNqQmhJLFVBQVcsSUFBVyxHQUFHTCxPQUFPRCxFQUFXLGVBQWUsT0FBZ0IsR0FBSSxHQUFHQyxPQUFPRCxFQUFXLDRCQUE2QjBLLEtBQy9IN0osRUFBV00sS0FBSzRFLGtCQUFtQixZQUFhNUUsS0FBS2tGLFlBQVlxRSxFQUFjLGVBQ2xGNUMsRUFBd0IsZ0JBQW9CLEtBQU0sQ0FDaER2SCxNQUFPQyxFQUFZeUwsRUFBZ0IsS0FDbkNoSixJQUFLLE9BQ0xyQyxTQUFVLElBQ1ZILFFBQVNVLEtBQUsyRyxTQUNkcEgsV0FBWVMsS0FBS29ILG1CQUNqQmpJLFVBQVcsSUFBVyxHQUFHTCxPQUFPRCxFQUFXLGVBQWUsT0FBZ0IsR0FBSSxHQUFHQyxPQUFPRCxFQUFXLDRCQUE2QjJLLEtBQy9IOUosRUFBV00sS0FBS2dGLGtCQUFtQixZQUFhaEYsS0FBS2tGLFlBQVlzRSxFQUFjLGdCQUdwRkksRUFBeUIsZ0JBQW9CLEVBQU8sQ0FDbEQvSSxPQUFRQSxFQUNSb0ssTUFBTSxFQUNObE0sY0FBZUYsRUFDZlMsUUFBU1UsS0FBS2lCLGFBQ2QxQixXQUFZUyxLQUFLNEcsV0FDakI5RSxJQUFLdUcsRUFDTHBKLEtBQU1vSixFQUNObkosUUFBUSxFQUNSRyxVQUFXQSxFQUNYSyxXQUFZQSxJQUVkaUssRUFBMEIsZ0JBQW9CLEVBQU8sQ0FDbkQ5SSxPQUFRQSxFQUNSOUIsY0FBZUYsRUFDZlMsUUFBU1UsS0FBS2lCLGFBQ2QxQixXQUFZUyxLQUFLNEcsV0FDakI5RSxJQUFLLEVBQ0w3QyxLQUFNLEVBQ05DLFFBQVEsRUFDUkcsVUFBV0EsRUFDWEssV0FBWUEsSUFFZCxJQUFJd0wsRUFBTzFHLEtBQUtLLElBQUksRUFBR0MsRUFBVStFLEdBQzdCc0IsRUFBUTNHLEtBQUtTLElBQUlILEVBQVUrRSxFQUFnQnhCLEdBRTNDdkQsRUFBVSxHQUFLK0UsSUFDakJzQixFQUFRLEVBQXFCLEVBQWpCdEIsR0FHVnhCLEVBQVd2RCxHQUFXK0UsSUFDeEJxQixFQUFPN0MsRUFBNEIsRUFBakJ3QixHQUdwQixJQUFLLElBQUl1QixFQUFLRixFQUFNRSxHQUFNRCxFQUFPQyxHQUFNLEVBQUcsQ0FDeEMsSUFBSUMsRUFBVXZHLElBQVlzRyxFQUUxQjFCLEVBQVVnQixLQUFtQixnQkFBb0IsRUFBTyxDQUN0RDdKLE9BQVFBLEVBQ1I5QixjQUFlRixFQUNmUyxRQUFTVSxLQUFLaUIsYUFDZDFCLFdBQVlTLEtBQUs0RyxXQUNqQjlFLElBQUtzSixFQUNMbk0sS0FBTW1NLEVBQ05sTSxPQUFRbU0sRUFDUmhNLFVBQVdBLEVBQ1hLLFdBQVlBLEtBSVpvRixFQUFVLEdBQXNCLEVBQWpCK0UsR0FBa0MsSUFBWi9FLElBQ3ZDNEUsRUFBVSxJQUFrQixJQUFBZCxjQUFhYyxFQUFVLEdBQUksQ0FDckR2SyxVQUFXLEdBQUdMLE9BQU9ELEVBQVcsMkJBRWxDNkssRUFBVTRCLFFBQVE1RSxJQUdoQjJCLEVBQVd2RCxHQUE0QixFQUFqQitFLEdBQXNCL0UsSUFBWXVELEVBQVcsSUFDckVxQixFQUFVQSxFQUFVdkosT0FBUyxJQUFrQixJQUFBeUksY0FBYWMsRUFBVUEsRUFBVXZKLE9BQVMsR0FBSSxDQUMzRmhCLFVBQVcsR0FBR0wsT0FBT0QsRUFBVyw0QkFFbEM2SyxFQUFVZ0IsS0FBSy9ELElBR0osSUFBVHVFLEdBQ0Z4QixFQUFVNEIsUUFBUTNCLEdBR2hCd0IsSUFBVTlDLEdBQ1pxQixFQUFVZ0IsS0FBS2QsR0FJbkIsSUFBSTJCLEVBQVksS0FFWm5DLElBQ0ZtQyxFQUF5QixnQkFBb0IsS0FBTSxDQUNqRHBNLFVBQVcsR0FBR0wsT0FBT0QsRUFBVyxnQkFDL0J1SyxFQUFVMUUsRUFBTyxDQUFXLElBQVZBLEVBQWMsR0FBS0ksRUFBVSxHQUFLNUMsRUFBVyxFQUFHNEMsRUFBVTVDLEVBQVd3QyxFQUFRQSxFQUFRSSxFQUFVNUMsTUFHdEgsSUFBSXNKLElBQWdCeEwsS0FBS3VHLFlBQWM4QixFQUNuQ29ELElBQWdCekwsS0FBS3lHLFlBQWM0QixFQUN2QyxPQUFvQixnQkFBb0IsTUFBTSxPQUFTLENBQ3JEbEosVUFBVyxJQUFXTixFQUFXTSxHQUFXLE9BQWdCLEdBQUksR0FBR0wsT0FBT0QsRUFBVyxhQUFjaUUsSUFDbkdvRyxNQUFPQSxFQUNQd0MsYUFBYyxlQUNkdkIsSUFBS25LLEtBQUtzRixvQkFDVHdFLEdBQTJCeUIsRUFBd0IsZ0JBQW9CLEtBQU0sQ0FDOUVuTSxNQUFPQyxFQUFZd0IsRUFBT3VKLFVBQVksS0FDdEM5SyxRQUFTVSxLQUFLc0csS0FDZDdHLFNBQVUrTCxHQUFlLEtBQU8sRUFDaENqTSxXQUFZUyxLQUFLaUgsZUFDakI5SCxVQUFXLElBQVcsR0FBR0wsT0FBT0QsRUFBVyxVQUFVLE9BQWdCLEdBQUksR0FBR0MsT0FBT0QsRUFBVyxhQUFjMk0sS0FDNUcsZ0JBQWlCQSxJQUNoQnhMLEtBQUtxSyxXQUFXN0IsSUFBWWtCLEVBQXdCLGdCQUFvQixLQUFNLENBQy9FdEssTUFBT0MsRUFBWXdCLEVBQU8wSixVQUFZLEtBQ3RDakwsUUFBU1UsS0FBS3dHLEtBQ2QvRyxTQUFVZ00sR0FBZSxLQUFPLEVBQ2hDbE0sV0FBWVMsS0FBS2tILGVBQ2pCL0gsVUFBVyxJQUFXLEdBQUdMLE9BQU9ELEVBQVcsVUFBVSxPQUFnQixHQUFJLEdBQUdDLE9BQU9ELEVBQVcsYUFBYzRNLEtBQzVHLGdCQUFpQkEsSUFDaEJ6TCxLQUFLd0ssV0FBVzNCLElBQXlCLGdCQUFvQixFQUFTLENBQ3ZFL0YsU0FBVUEsRUFDVmpDLE9BQVFBLEVBQ1I5QixjQUFlRixFQUNmK0QscUJBQXNCQSxFQUN0QkMsZ0JBQWlCQSxFQUNqQjlCLFdBQVlmLEtBQUsyTCxxQkFBdUIzTCxLQUFLaUcsZUFBaUIsS0FDOURuQixRQUFTQSxFQUNUNUMsU0FBVUEsRUFDVkMsZ0JBQWlCQSxFQUNqQlosUUFBU3ZCLEtBQUsyRiwyQkFBNkIzRixLQUFLaUIsYUFBZSxLQUMvREssU0FBVUEsUUFHWixDQUFDLENBQ0hRLElBQUssMkJBQ0xsQixNQUFPLFNBQWtDakMsRUFBT21KLEdBQzlDLElBQUk4RCxFQUFXLEdBVWYsR0FSSSxZQUFhak4sSUFDZmlOLEVBQVM5RyxRQUFVbkcsRUFBTW1HLFFBRXJCbkcsRUFBTW1HLFVBQVlnRCxFQUFVaEQsVUFDOUI4RyxFQUFTNUYsa0JBQW9CNEYsRUFBUzlHLFVBSXRDLGFBQWNuRyxHQUFTQSxFQUFNdUQsV0FBYTRGLEVBQVU1RixTQUFVLENBQ2hFLElBQUk0QyxFQUFVZ0QsRUFBVWhELFFBQ3BCcUIsRUFBYTdCLEVBQWMzRixFQUFNdUQsU0FBVTRGLEVBQVduSixHQUMxRG1HLEVBQVVBLEVBQVVxQixFQUFhQSxFQUFhckIsRUFFeEMsWUFBYW5HLElBQ2pCaU4sRUFBUzlHLFFBQVVBLEVBQ25COEcsRUFBUzVGLGtCQUFvQmxCLEdBRy9COEcsRUFBUzFKLFNBQVd2RCxFQUFNdUQsU0FHNUIsT0FBTzBKLE1BSUpqSCxFQXJtQnFCLENBc21CNUIsYUFFRkEsRUFBV1AsYUFBZSxDQUN4QnNELGVBQWdCLEVBQ2hCaEQsTUFBTyxFQUNQa0QsZ0JBQWlCLEdBQ2pCaEUsU0FBVVMsRUFDVmxGLFVBQVcsR0FDWDBELGdCQUFpQixZQUNqQmhFLFVBQVcsZ0JBQ1grRCxxQkFBc0IsS0FDdEJ1RyxrQkFBa0IsRUFDbEJHLHFCQUFxQixFQUNyQjFELGlCQUFpQixFQUNqQmIsZUFBZSxFQUNmMUYsV0FBVyxFQUNYK0csaUJBQWtCL0IsRUFDbEJ4RCxPQ3hwQkYsQ0FFRUMsZUFBZ0IsTUFDaEJvRCxRQUFTLEtBQ1RELGdCQUFpQixLQUNqQmhGLEtBQU0sSUFFTm1MLFVBQVcsTUFDWEcsVUFBVyxNQUNYTSxPQUFRLFNBQ1JHLE9BQVEsU0FDUkosT0FBUSxTQUNSRyxPQUFRLFVENm9CUjdCLE1BQU8sR0FDUHhKLFdBbG9CRixTQUEyQlQsRUFBTTRDLEVBQU1nSyxHQUNyQyxPQUFPQSxHQWtvQlB0RCw2QkFBOEIsSUFFaEMsVyxnQ0U3cEJBLFNBRUV6SCxlQUFnQixTQUNoQm9ELFFBQVMsUUFDVEQsZ0JBQWlCLFVBQ2pCaEYsS0FBTSxHQUVObUwsVUFBVyxnQkFDWEcsVUFBVyxZQUNYTSxPQUFRLG1CQUNSRyxPQUFRLGVBQ1JKLE9BQVEsbUJBQ1JHLE9BQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLXBhZ2luYXRpb24vZXMvUGFnZXIuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1wYWdpbmF0aW9uL2VzL0tleUNvZGUuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1wYWdpbmF0aW9uL2VzL09wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1wYWdpbmF0aW9uL2VzL1BhZ2luYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1wYWdpbmF0aW9uL2VzL2xvY2FsZS96aF9DTi5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLXBhZ2luYXRpb24vZXMvbG9jYWxlL2VuX1VTLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5cbi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbnZhciBQYWdlciA9IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHZhciBfY2xhc3NOYW1lcztcblxuICB2YXIgcHJlZml4Q2xzID0gXCJcIi5jb25jYXQocHJvcHMucm9vdFByZWZpeENscywgXCItaXRlbVwiKTtcbiAgdmFyIGNscyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLVwiKS5jb25jYXQocHJvcHMucGFnZSksIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItYWN0aXZlXCIpLCBwcm9wcy5hY3RpdmUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItZGlzYWJsZWRcIiksICFwcm9wcy5wYWdlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2NsYXNzTmFtZXMpKTtcblxuICB2YXIgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICBwcm9wcy5vbkNsaWNrKHByb3BzLnBhZ2UpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVLZXlQcmVzcyA9IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGUpIHtcbiAgICBwcm9wcy5vbktleVByZXNzKGUsIHByb3BzLm9uQ2xpY2ssIHByb3BzLnBhZ2UpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICB0aXRsZTogcHJvcHMuc2hvd1RpdGxlID8gcHJvcHMucGFnZSA6IG51bGwsXG4gICAgY2xhc3NOYW1lOiBjbHMsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgb25LZXlQcmVzczogaGFuZGxlS2V5UHJlc3MsXG4gICAgdGFiSW5kZXg6IFwiMFwiXG4gIH0sIHByb3BzLml0ZW1SZW5kZXIocHJvcHMucGFnZSwgJ3BhZ2UnLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIHJlbDogXCJub2ZvbGxvd1wiXG4gIH0sIHByb3BzLnBhZ2UpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWdlcjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIFpFUk86IDQ4LFxuICBOSU5FOiA1NyxcbiAgTlVNUEFEX1pFUk86IDk2LFxuICBOVU1QQURfTklORTogMTA1LFxuICBCQUNLU1BBQ0U6IDgsXG4gIERFTEVURTogNDYsXG4gIEVOVEVSOiAxMyxcbiAgQVJST1dfVVA6IDM4LFxuICBBUlJPV19ET1dOOiA0MFxufTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuXG4vKiBlc2xpbnQgcmVhY3QvcHJvcC10eXBlczogMCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBLRVlDT0RFIGZyb20gJy4vS2V5Q29kZSc7XG5cbnZhciBPcHRpb25zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhPcHRpb25zLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIE9wdGlvbnMoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGdvSW5wdXRUZXh0OiAnJ1xuICAgIH07XG5cbiAgICBfdGhpcy5idWlsZE9wdGlvblRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh2YWx1ZSwgXCIgXCIpLmNvbmNhdChfdGhpcy5wcm9wcy5sb2NhbGUuaXRlbXNfcGVyX3BhZ2UpO1xuICAgIH07XG5cbiAgICBfdGhpcy5jaGFuZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5jaGFuZ2VTaXplKE51bWJlcih2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBnb0lucHV0VGV4dDogZS50YXJnZXQudmFsdWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGdvQnV0dG9uID0gX3RoaXMkcHJvcHMuZ29CdXR0b24sXG4gICAgICAgICAgcXVpY2tHbyA9IF90aGlzJHByb3BzLnF1aWNrR28sXG4gICAgICAgICAgcm9vdFByZWZpeENscyA9IF90aGlzJHByb3BzLnJvb3RQcmVmaXhDbHM7XG4gICAgICB2YXIgZ29JbnB1dFRleHQgPSBfdGhpcy5zdGF0ZS5nb0lucHV0VGV4dDtcblxuICAgICAgaWYgKGdvQnV0dG9uIHx8IGdvSW5wdXRUZXh0ID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZ29JbnB1dFRleHQ6ICcnXG4gICAgICB9KTtcblxuICAgICAgaWYgKGUucmVsYXRlZFRhcmdldCAmJiAoZS5yZWxhdGVkVGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKFwiXCIuY29uY2F0KHJvb3RQcmVmaXhDbHMsIFwiLWl0ZW0tbGlua1wiKSkgPj0gMCB8fCBlLnJlbGF0ZWRUYXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoXCJcIi5jb25jYXQocm9vdFByZWZpeENscywgXCItaXRlbVwiKSkgPj0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxdWlja0dvKF90aGlzLmdldFZhbGlkVmFsdWUoKSk7XG4gICAgfTtcblxuICAgIF90aGlzLmdvID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBnb0lucHV0VGV4dCA9IF90aGlzLnN0YXRlLmdvSW5wdXRUZXh0O1xuXG4gICAgICBpZiAoZ29JbnB1dFRleHQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUiB8fCBlLnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGdvSW5wdXRUZXh0OiAnJ1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5wcm9wcy5xdWlja0dvKF90aGlzLmdldFZhbGlkVmFsdWUoKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhPcHRpb25zLCBbe1xuICAgIGtleTogXCJnZXRWYWxpZFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbGlkVmFsdWUoKSB7XG4gICAgICB2YXIgZ29JbnB1dFRleHQgPSB0aGlzLnN0YXRlLmdvSW5wdXRUZXh0OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG5cbiAgICAgIHJldHVybiAhZ29JbnB1dFRleHQgfHwgaXNOYU4oZ29JbnB1dFRleHQpID8gdW5kZWZpbmVkIDogTnVtYmVyKGdvSW5wdXRUZXh0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGFnZVNpemVPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2VTaXplT3B0aW9ucygpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHBhZ2VTaXplID0gX3RoaXMkcHJvcHMyLnBhZ2VTaXplLFxuICAgICAgICAgIHBhZ2VTaXplT3B0aW9ucyA9IF90aGlzJHByb3BzMi5wYWdlU2l6ZU9wdGlvbnM7XG5cbiAgICAgIGlmIChwYWdlU2l6ZU9wdGlvbnMuc29tZShmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24udG9TdHJpbmcoKSA9PT0gcGFnZVNpemUudG9TdHJpbmcoKTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBwYWdlU2l6ZU9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYWdlU2l6ZU9wdGlvbnMuY29uY2F0KFtwYWdlU2l6ZS50b1N0cmluZygpXSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgICAgIHZhciBudW1iZXJBID0gaXNOYU4oTnVtYmVyKGEpKSA/IDAgOiBOdW1iZXIoYSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcblxuICAgICAgICB2YXIgbnVtYmVyQiA9IGlzTmFOKE51bWJlcihiKSkgPyAwIDogTnVtYmVyKGIpO1xuICAgICAgICByZXR1cm4gbnVtYmVyQSAtIG51bWJlckI7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwYWdlU2l6ZSA9IF90aGlzJHByb3BzMy5wYWdlU2l6ZSxcbiAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wczMubG9jYWxlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHMgPSBfdGhpcyRwcm9wczMucm9vdFByZWZpeENscyxcbiAgICAgICAgICBjaGFuZ2VTaXplID0gX3RoaXMkcHJvcHMzLmNoYW5nZVNpemUsXG4gICAgICAgICAgcXVpY2tHbyA9IF90aGlzJHByb3BzMy5xdWlja0dvLFxuICAgICAgICAgIGdvQnV0dG9uID0gX3RoaXMkcHJvcHMzLmdvQnV0dG9uLFxuICAgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzID0gX3RoaXMkcHJvcHMzLnNlbGVjdENvbXBvbmVudENsYXNzLFxuICAgICAgICAgIGJ1aWxkT3B0aW9uVGV4dCA9IF90aGlzJHByb3BzMy5idWlsZE9wdGlvblRleHQsXG4gICAgICAgICAgc2VsZWN0UHJlZml4Q2xzID0gX3RoaXMkcHJvcHMzLnNlbGVjdFByZWZpeENscyxcbiAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJHByb3BzMy5kaXNhYmxlZDtcbiAgICAgIHZhciBnb0lucHV0VGV4dCA9IHRoaXMuc3RhdGUuZ29JbnB1dFRleHQ7XG4gICAgICB2YXIgcHJlZml4Q2xzID0gXCJcIi5jb25jYXQocm9vdFByZWZpeENscywgXCItb3B0aW9uc1wiKTtcbiAgICAgIHZhciBTZWxlY3QgPSBzZWxlY3RDb21wb25lbnRDbGFzcztcbiAgICAgIHZhciBjaGFuZ2VTZWxlY3QgPSBudWxsO1xuICAgICAgdmFyIGdvSW5wdXQgPSBudWxsO1xuICAgICAgdmFyIGdvdG9CdXR0b24gPSBudWxsO1xuXG4gICAgICBpZiAoIWNoYW5nZVNpemUgJiYgIXF1aWNrR28pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYWdlU2l6ZU9wdGlvbnMgPSB0aGlzLmdldFBhZ2VTaXplT3B0aW9ucygpO1xuXG4gICAgICBpZiAoY2hhbmdlU2l6ZSAmJiBTZWxlY3QpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBwYWdlU2l6ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHQsIGkpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Lk9wdGlvbiwge1xuICAgICAgICAgICAga2V5OiBpLFxuICAgICAgICAgICAgdmFsdWU6IG9wdC50b1N0cmluZygpXG4gICAgICAgICAgfSwgKGJ1aWxkT3B0aW9uVGV4dCB8fCBfdGhpczIuYnVpbGRPcHRpb25UZXh0KShvcHQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoYW5nZVNlbGVjdCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwge1xuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBwcmVmaXhDbHM6IHNlbGVjdFByZWZpeENscyxcbiAgICAgICAgICBzaG93U2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItc2l6ZS1jaGFuZ2VyXCIpLFxuICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcDogXCJjaGlsZHJlblwiLFxuICAgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IChwYWdlU2l6ZSB8fCBwYWdlU2l6ZU9wdGlvbnNbMF0pLnRvU3RyaW5nKCksXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuY2hhbmdlU2l6ZSxcbiAgICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZnVuY3Rpb24gZ2V0UG9wdXBDb250YWluZXIodHJpZ2dlck5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyTm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWlja0dvKSB7XG4gICAgICAgIGlmIChnb0J1dHRvbikge1xuICAgICAgICAgIGdvdG9CdXR0b24gPSB0eXBlb2YgZ29CdXR0b24gPT09ICdib29sZWFuJyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmdvLFxuICAgICAgICAgICAgb25LZXlVcDogdGhpcy5nbyxcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1xdWljay1qdW1wZXItYnV0dG9uXCIpXG4gICAgICAgICAgfSwgbG9jYWxlLmp1bXBfdG9fY29uZmlybSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgb25DbGljazogdGhpcy5nbyxcbiAgICAgICAgICAgIG9uS2V5VXA6IHRoaXMuZ29cbiAgICAgICAgICB9LCBnb0J1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICBnb0lucHV0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1xdWljay1qdW1wZXJcIilcbiAgICAgICAgfSwgbG9jYWxlLmp1bXBfdG8sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB2YWx1ZTogZ29JbnB1dFRleHQsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuZ28sXG4gICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXJcbiAgICAgICAgfSksIGxvY2FsZS5wYWdlLCBnb3RvQnV0dG9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscylcbiAgICAgIH0sIGNoYW5nZVNlbGVjdCwgZ29JbnB1dCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE9wdGlvbnM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbk9wdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuICBwYWdlU2l6ZU9wdGlvbnM6IFsnMTAnLCAnMjAnLCAnNTAnLCAnMTAwJ11cbn07XG5leHBvcnQgZGVmYXVsdCBPcHRpb25zOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuXG4vKiBlc2xpbnQgcmVhY3QvcHJvcC10eXBlczogMCAqL1xuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQYWdlciBmcm9tICcuL1BhZ2VyJztcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vT3B0aW9ucyc7XG5pbXBvcnQgS0VZQ09ERSBmcm9tICcuL0tleUNvZGUnO1xuaW1wb3J0IExPQ0FMRSBmcm9tICcuL2xvY2FsZS96aF9DTic7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgcmV0dXJuICgvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRJdGVtUmVuZGVyKHBhZ2UsIHR5cGUsIGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVBhZ2UocCwgc3RhdGUsIHByb3BzKSB7XG4gIHZhciBwYWdlU2l6ZSA9IHR5cGVvZiBwID09PSAndW5kZWZpbmVkJyA/IHN0YXRlLnBhZ2VTaXplIDogcDtcbiAgcmV0dXJuIE1hdGguZmxvb3IoKHByb3BzLnRvdGFsIC0gMSkgLyBwYWdlU2l6ZSkgKyAxO1xufVxuXG52YXIgUGFnaW5hdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQYWdpbmF0aW9uKTtcblxuICBmdW5jdGlvbiBQYWdpbmF0aW9uKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb24pO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG5cbiAgICBfdGhpcy5nZXRKdW1wUHJldlBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoMSwgX3RoaXMuc3RhdGUuY3VycmVudCAtIChfdGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0SnVtcE5leHRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKGNhbGN1bGF0ZVBhZ2UodW5kZWZpbmVkLCBfdGhpcy5zdGF0ZSwgX3RoaXMucHJvcHMpLCBfdGhpcy5zdGF0ZS5jdXJyZW50ICsgKF90aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRJdGVtSWNvbiA9IGZ1bmN0aW9uIChpY29uLCBsYWJlbCkge1xuICAgICAgdmFyIHByZWZpeENscyA9IF90aGlzLnByb3BzLnByZWZpeENscztcbiAgICAgIHZhciBpY29uTm9kZSA9IGljb24gfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogbGFiZWwsXG4gICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1pdGVtLWxpbmtcIilcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHlwZW9mIGljb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWNvbk5vZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChpY29uLCBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5wcm9wcykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaWNvbk5vZGU7XG4gICAgfTtcblxuICAgIF90aGlzLnNhdmVQYWdpbmF0aW9uTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBfdGhpcy5wYWdpbmF0aW9uTm9kZSA9IG5vZGU7XG4gICAgfTtcblxuICAgIF90aGlzLmlzVmFsaWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcihwYWdlKSAmJiBwYWdlICE9PSBfdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgIH07XG5cbiAgICBfdGhpcy5zaG91bGREaXNwbGF5UXVpY2tKdW1wZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBzaG93UXVpY2tKdW1wZXIgPSBfdGhpcyRwcm9wcy5zaG93UXVpY2tKdW1wZXIsXG4gICAgICAgICAgcGFnZVNpemUgPSBfdGhpcyRwcm9wcy5wYWdlU2l6ZSxcbiAgICAgICAgICB0b3RhbCA9IF90aGlzJHByb3BzLnRvdGFsO1xuXG4gICAgICBpZiAodG90YWwgPD0gcGFnZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvd1F1aWNrSnVtcGVyO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVAgfHwgZS5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdmFsdWUgPSBfdGhpcy5nZXRWYWxpZFZhbHVlKGUpO1xuXG4gICAgICB2YXIgY3VycmVudElucHV0VmFsdWUgPSBfdGhpcy5zdGF0ZS5jdXJyZW50SW5wdXRWYWx1ZTtcblxuICAgICAgaWYgKHZhbHVlICE9PSBjdXJyZW50SW5wdXRWYWx1ZSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudElucHV0VmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFLkVOVEVSKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCkge1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UodmFsdWUgLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKHZhbHVlICsgMSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNoYW5nZVBhZ2VTaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gX3RoaXMuc3RhdGUuY3VycmVudDtcbiAgICAgIHZhciBuZXdDdXJyZW50ID0gY2FsY3VsYXRlUGFnZShzaXplLCBfdGhpcy5zdGF0ZSwgX3RoaXMucHJvcHMpO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7IC8vIGZpeCB0aGUgaXNzdWU6XG4gICAgICAvLyBPbmNlICd0b3RhbCcgaXMgMCwgJ2N1cnJlbnQnIGluICdvblNob3dTaXplQ2hhbmdlJyBpcyAwLCB3aGljaCBpcyBub3QgY29ycmVjdC5cblxuICAgICAgaWYgKG5ld0N1cnJlbnQgPT09IDApIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIGN1cnJlbnQgPSBfdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICghKCdwYWdlU2l6ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFnZVNpemU6IHNpemVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKCdjdXJyZW50JyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LFxuICAgICAgICAgICAgY3VycmVudElucHV0VmFsdWU6IGN1cnJlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHNpemUpO1xuXG4gICAgICBpZiAoJ29uQ2hhbmdlJyBpbiBfdGhpcy5wcm9wcyAmJiBfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZShjdXJyZW50LCBzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKHApIHtcbiAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLnByb3BzLmRpc2FibGVkO1xuICAgICAgdmFyIHBhZ2UgPSBwO1xuXG4gICAgICBpZiAoX3RoaXMuaXNWYWxpZChwYWdlKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gY2FsY3VsYXRlUGFnZSh1bmRlZmluZWQsIF90aGlzLnN0YXRlLCBfdGhpcy5wcm9wcyk7XG5cbiAgICAgICAgaWYgKHBhZ2UgPiBjdXJyZW50UGFnZSkge1xuICAgICAgICAgIHBhZ2UgPSBjdXJyZW50UGFnZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWdlIDwgMSkge1xuICAgICAgICAgIHBhZ2UgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IHBhZ2UsXG4gICAgICAgICAgICBjdXJyZW50SW5wdXRWYWx1ZTogcGFnZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZ2VTaXplID0gX3RoaXMuc3RhdGUucGFnZVNpemU7XG5cbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UocGFnZSwgcGFnZVNpemUpO1xuXG4gICAgICAgIHJldHVybiBwYWdlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuc3RhdGUuY3VycmVudDtcbiAgICB9O1xuXG4gICAgX3RoaXMucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5oYXNQcmV2KCkpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnN0YXRlLmN1cnJlbnQgKyAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuanVtcFByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoX3RoaXMuZ2V0SnVtcFByZXZQYWdlKCkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5qdW1wTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmhhbmRsZUNoYW5nZShfdGhpcy5nZXRKdW1wTmV4dFBhZ2UoKSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhc1ByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc3RhdGUuY3VycmVudCA+IDE7XG4gICAgfTtcblxuICAgIF90aGlzLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc3RhdGUuY3VycmVudCA8IGNhbGN1bGF0ZVBhZ2UodW5kZWZpbmVkLCBfdGhpcy5zdGF0ZSwgX3RoaXMucHJvcHMpO1xuICAgIH07XG5cbiAgICBfdGhpcy5ydW5JZkVudGVyID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5jaGFyQ29kZSA9PT0gMTMpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3RQYXJhbXMgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIHJlc3RQYXJhbXNbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2suYXBwbHkodm9pZCAwLCByZXN0UGFyYW1zKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucnVuSWZFbnRlclByZXYgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMucnVuSWZFbnRlcihlLCBfdGhpcy5wcmV2KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucnVuSWZFbnRlck5leHQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMucnVuSWZFbnRlcihlLCBfdGhpcy5uZXh0KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucnVuSWZFbnRlckp1bXBQcmV2ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnJ1bklmRW50ZXIoZSwgX3RoaXMuanVtcFByZXYpO1xuICAgIH07XG5cbiAgICBfdGhpcy5ydW5JZkVudGVySnVtcE5leHQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMucnVuSWZFbnRlcihlLCBfdGhpcy5qdW1wTmV4dCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUdvVE8gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUiB8fCBlLnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlKF90aGlzLnN0YXRlLmN1cnJlbnRJbnB1dFZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGhhc09uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UgIT09IG5vb3A7XG4gICAgdmFyIGhhc0N1cnJlbnQgPSAoJ2N1cnJlbnQnIGluIHByb3BzKTtcblxuICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogWW91IHByb3ZpZGVkIGEgYGN1cnJlbnRgIHByb3AgdG8gYSBQYWdpbmF0aW9uIGNvbXBvbmVudCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIF9jdXJyZW50ID0gcHJvcHMuZGVmYXVsdEN1cnJlbnQ7XG5cbiAgICBpZiAoJ2N1cnJlbnQnIGluIHByb3BzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgIF9jdXJyZW50ID0gcHJvcHMuY3VycmVudDtcbiAgICB9XG5cbiAgICB2YXIgX3BhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuXG4gICAgaWYgKCdwYWdlU2l6ZScgaW4gcHJvcHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgX3BhZ2VTaXplID0gcHJvcHMucGFnZVNpemU7XG4gICAgfVxuXG4gICAgX2N1cnJlbnQgPSBNYXRoLm1pbihfY3VycmVudCwgY2FsY3VsYXRlUGFnZShfcGFnZVNpemUsIHVuZGVmaW5lZCwgcHJvcHMpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnQ6IF9jdXJyZW50LFxuICAgICAgY3VycmVudElucHV0VmFsdWU6IF9jdXJyZW50LFxuICAgICAgcGFnZVNpemU6IF9wYWdlU2l6ZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBhZ2luYXRpb24sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIC8vIFdoZW4gY3VycmVudCBwYWdlIGNoYW5nZSwgZml4IGZvY3VzZWQgc3R5bGUgb2YgcHJldiBpdGVtXG4gICAgICAvLyBBIGhhY2t5IHNvbHV0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzg5NDhcbiAgICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblxuICAgICAgaWYgKHByZXZTdGF0ZS5jdXJyZW50ICE9PSB0aGlzLnN0YXRlLmN1cnJlbnQgJiYgdGhpcy5wYWdpbmF0aW9uTm9kZSkge1xuICAgICAgICB2YXIgbGFzdEN1cnJlbnROb2RlID0gdGhpcy5wYWdpbmF0aW9uTm9kZS5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWl0ZW0tXCIpLmNvbmNhdChwcmV2U3RhdGUuY3VycmVudCkpO1xuXG4gICAgICAgIGlmIChsYXN0Q3VycmVudE5vZGUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgbGFzdEN1cnJlbnROb2RlLmJsdXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWxpZFZhbHVlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbGlkVmFsdWUoZSkge1xuICAgICAgdmFyIGlucHV0VmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHZhciBhbGxQYWdlcyA9IGNhbGN1bGF0ZVBhZ2UodW5kZWZpbmVkLCB0aGlzLnN0YXRlLCB0aGlzLnByb3BzKTtcbiAgICAgIHZhciBjdXJyZW50SW5wdXRWYWx1ZSA9IHRoaXMuc3RhdGUuY3VycmVudElucHV0VmFsdWU7XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIGlmIChpbnB1dFZhbHVlID09PSAnJykge1xuICAgICAgICB2YWx1ZSA9IGlucHV0VmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICAgIH0gZWxzZSBpZiAoaXNOYU4oTnVtYmVyKGlucHV0VmFsdWUpKSkge1xuICAgICAgICB2YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dFZhbHVlID49IGFsbFBhZ2VzKSB7XG4gICAgICAgIHZhbHVlID0gYWxsUGFnZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IE51bWJlcihpbnB1dFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTaG93U2l6ZUNoYW5nZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2hvd1NpemVDaGFuZ2VyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2hvd1NpemVDaGFuZ2VyID0gX3RoaXMkcHJvcHMyLnNob3dTaXplQ2hhbmdlcixcbiAgICAgICAgICB0b3RhbCA9IF90aGlzJHByb3BzMi50b3RhbCxcbiAgICAgICAgICB0b3RhbEJvdW5kYXJ5U2hvd1NpemVDaGFuZ2VyID0gX3RoaXMkcHJvcHMyLnRvdGFsQm91bmRhcnlTaG93U2l6ZUNoYW5nZXI7XG5cbiAgICAgIGlmICh0eXBlb2Ygc2hvd1NpemVDaGFuZ2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gc2hvd1NpemVDaGFuZ2VyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG90YWwgPiB0b3RhbEJvdW5kYXJ5U2hvd1NpemVDaGFuZ2VyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcmV2XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByZXYocHJldlBhZ2UpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZXZJY29uID0gX3RoaXMkcHJvcHMzLnByZXZJY29uLFxuICAgICAgICAgIGl0ZW1SZW5kZXIgPSBfdGhpcyRwcm9wczMuaXRlbVJlbmRlcjtcbiAgICAgIHZhciBwcmV2QnV0dG9uID0gaXRlbVJlbmRlcihwcmV2UGFnZSwgJ3ByZXYnLCB0aGlzLmdldEl0ZW1JY29uKHByZXZJY29uLCAncHJldiBwYWdlJykpO1xuICAgICAgdmFyIGRpc2FibGVkID0gIXRoaXMuaGFzUHJldigpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9pc1ZhbGlkRWxlbWVudChwcmV2QnV0dG9uKSA/IC8qI19fUFVSRV9fKi9jbG9uZUVsZW1lbnQocHJldkJ1dHRvbiwge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgIH0pIDogcHJldkJ1dHRvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyTmV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJOZXh0KG5leHRQYWdlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBuZXh0SWNvbiA9IF90aGlzJHByb3BzNC5uZXh0SWNvbixcbiAgICAgICAgICBpdGVtUmVuZGVyID0gX3RoaXMkcHJvcHM0Lml0ZW1SZW5kZXI7XG4gICAgICB2YXIgbmV4dEJ1dHRvbiA9IGl0ZW1SZW5kZXIobmV4dFBhZ2UsICduZXh0JywgdGhpcy5nZXRJdGVtSWNvbihuZXh0SWNvbiwgJ25leHQgcGFnZScpKTtcbiAgICAgIHZhciBkaXNhYmxlZCA9ICF0aGlzLmhhc05leHQoKTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovaXNWYWxpZEVsZW1lbnQobmV4dEJ1dHRvbikgPyAvKiNfX1BVUkVfXyovY2xvbmVFbGVtZW50KG5leHRCdXR0b24sIHtcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgICB9KSA6IG5leHRCdXR0b247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3RoaXMkcHJvcHM1LnByZWZpeENscyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczUuY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHM1LnN0eWxlLFxuICAgICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHM1LmRpc2FibGVkLFxuICAgICAgICAgIGhpZGVPblNpbmdsZVBhZ2UgPSBfdGhpcyRwcm9wczUuaGlkZU9uU2luZ2xlUGFnZSxcbiAgICAgICAgICB0b3RhbCA9IF90aGlzJHByb3BzNS50b3RhbCxcbiAgICAgICAgICBsb2NhbGUgPSBfdGhpcyRwcm9wczUubG9jYWxlLFxuICAgICAgICAgIHNob3dRdWlja0p1bXBlciA9IF90aGlzJHByb3BzNS5zaG93UXVpY2tKdW1wZXIsXG4gICAgICAgICAgc2hvd0xlc3NJdGVtcyA9IF90aGlzJHByb3BzNS5zaG93TGVzc0l0ZW1zLFxuICAgICAgICAgIHNob3dUaXRsZSA9IF90aGlzJHByb3BzNS5zaG93VGl0bGUsXG4gICAgICAgICAgc2hvd1RvdGFsID0gX3RoaXMkcHJvcHM1LnNob3dUb3RhbCxcbiAgICAgICAgICBzaW1wbGUgPSBfdGhpcyRwcm9wczUuc2ltcGxlLFxuICAgICAgICAgIGl0ZW1SZW5kZXIgPSBfdGhpcyRwcm9wczUuaXRlbVJlbmRlcixcbiAgICAgICAgICBzaG93UHJldk5leHRKdW1wZXJzID0gX3RoaXMkcHJvcHM1LnNob3dQcmV2TmV4dEp1bXBlcnMsXG4gICAgICAgICAganVtcFByZXZJY29uID0gX3RoaXMkcHJvcHM1Lmp1bXBQcmV2SWNvbixcbiAgICAgICAgICBqdW1wTmV4dEljb24gPSBfdGhpcyRwcm9wczUuanVtcE5leHRJY29uLFxuICAgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzID0gX3RoaXMkcHJvcHM1LnNlbGVjdENvbXBvbmVudENsYXNzLFxuICAgICAgICAgIHNlbGVjdFByZWZpeENscyA9IF90aGlzJHByb3BzNS5zZWxlY3RQcmVmaXhDbHMsXG4gICAgICAgICAgcGFnZVNpemVPcHRpb25zID0gX3RoaXMkcHJvcHM1LnBhZ2VTaXplT3B0aW9ucztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgY3VycmVudCA9IF90aGlzJHN0YXRlLmN1cnJlbnQsXG4gICAgICAgICAgcGFnZVNpemUgPSBfdGhpcyRzdGF0ZS5wYWdlU2l6ZSxcbiAgICAgICAgICBjdXJyZW50SW5wdXRWYWx1ZSA9IF90aGlzJHN0YXRlLmN1cnJlbnRJbnB1dFZhbHVlOyAvLyBXaGVuIGhpZGVPblNpbmdsZVBhZ2UgaXMgdHJ1ZSBhbmQgdGhlcmUgaXMgb25seSAxIHBhZ2UsIGhpZGUgdGhlIHBhZ2VyXG5cbiAgICAgIGlmIChoaWRlT25TaW5nbGVQYWdlID09PSB0cnVlICYmIHRvdGFsIDw9IHBhZ2VTaXplKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxsUGFnZXMgPSBjYWxjdWxhdGVQYWdlKHVuZGVmaW5lZCwgdGhpcy5zdGF0ZSwgdGhpcy5wcm9wcyk7XG4gICAgICB2YXIgcGFnZXJMaXN0ID0gW107XG4gICAgICB2YXIganVtcFByZXYgPSBudWxsO1xuICAgICAgdmFyIGp1bXBOZXh0ID0gbnVsbDtcbiAgICAgIHZhciBmaXJzdFBhZ2VyID0gbnVsbDtcbiAgICAgIHZhciBsYXN0UGFnZXIgPSBudWxsO1xuICAgICAgdmFyIGdvdG9CdXR0b24gPSBudWxsO1xuICAgICAgdmFyIGdvQnV0dG9uID0gc2hvd1F1aWNrSnVtcGVyICYmIHNob3dRdWlja0p1bXBlci5nb0J1dHRvbjtcbiAgICAgIHZhciBwYWdlQnVmZmVyU2l6ZSA9IHNob3dMZXNzSXRlbXMgPyAxIDogMjtcbiAgICAgIHZhciBwcmV2UGFnZSA9IGN1cnJlbnQgLSAxID4gMCA/IGN1cnJlbnQgLSAxIDogMDtcbiAgICAgIHZhciBuZXh0UGFnZSA9IGN1cnJlbnQgKyAxIDwgYWxsUGFnZXMgPyBjdXJyZW50ICsgMSA6IGFsbFBhZ2VzO1xuICAgICAgdmFyIGRhdGFPckFyaWFBdHRyaWJ1dGVQcm9wcyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMpLnJlZHVjZShmdW5jdGlvbiAocHJldiwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuc3Vic3RyKDAsIDUpID09PSAnZGF0YS0nIHx8IGtleS5zdWJzdHIoMCwgNSkgPT09ICdhcmlhLScgfHwga2V5ID09PSAncm9sZScpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBwcmV2W2tleV0gPSBfdGhpczIucHJvcHNba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfSwge30pO1xuXG4gICAgICBpZiAoc2ltcGxlKSB7XG4gICAgICAgIGlmIChnb0J1dHRvbikge1xuICAgICAgICAgIGlmICh0eXBlb2YgZ29CdXR0b24gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgZ290b0J1dHRvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVHb1RPLFxuICAgICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUdvVE9cbiAgICAgICAgICAgIH0sIGxvY2FsZS5qdW1wX3RvX2NvbmZpcm0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnb3RvQnV0dG9uID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVHb1RPLFxuICAgICAgICAgICAgICBvbktleVVwOiB0aGlzLmhhbmRsZUdvVE9cbiAgICAgICAgICAgIH0sIGdvQnV0dG9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnb3RvQnV0dG9uID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgICAgICB0aXRsZTogc2hvd1RpdGxlID8gXCJcIi5jb25jYXQobG9jYWxlLmp1bXBfdG8pLmNvbmNhdChjdXJyZW50LCBcIi9cIikuY29uY2F0KGFsbFBhZ2VzKSA6IG51bGwsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItc2ltcGxlLXBhZ2VyXCIpXG4gICAgICAgICAgfSwgZ290b0J1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHByZWZpeENscywgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1zaW1wbGVcIiksIF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1kaXNhYmxlZFwiKSwgZGlzYWJsZWQpLCBjbGFzc05hbWUpLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICByZWY6IHRoaXMuc2F2ZVBhZ2luYXRpb25Ob2RlXG4gICAgICAgIH0sIGRhdGFPckFyaWFBdHRyaWJ1dGVQcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICAgIHRpdGxlOiBzaG93VGl0bGUgPyBsb2NhbGUucHJldl9wYWdlIDogbnVsbCxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXYsXG4gICAgICAgICAgdGFiSW5kZXg6IHRoaXMuaGFzUHJldigpID8gMCA6IG51bGwsXG4gICAgICAgICAgb25LZXlQcmVzczogdGhpcy5ydW5JZkVudGVyUHJldixcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1wcmV2XCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItZGlzYWJsZWRcIiksICF0aGlzLmhhc1ByZXYoKSkpLFxuICAgICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiAhdGhpcy5oYXNQcmV2KClcbiAgICAgICAgfSwgdGhpcy5yZW5kZXJQcmV2KHByZXZQYWdlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICAgIHRpdGxlOiBzaG93VGl0bGUgPyBcIlwiLmNvbmNhdChjdXJyZW50LCBcIi9cIikuY29uY2F0KGFsbFBhZ2VzKSA6IG51bGwsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLXNpbXBsZS1wYWdlclwiKVxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB2YWx1ZTogY3VycmVudElucHV0VmFsdWUsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuaGFuZGxlS2V5VXAsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlS2V5VXAsXG4gICAgICAgICAgc2l6ZTogXCIzXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLXNsYXNoXCIpXG4gICAgICAgIH0sIFwiL1wiKSwgYWxsUGFnZXMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgICB0aXRsZTogc2hvd1RpdGxlID8gbG9jYWxlLm5leHRfcGFnZSA6IG51bGwsXG4gICAgICAgICAgb25DbGljazogdGhpcy5uZXh0LFxuICAgICAgICAgIHRhYkluZGV4OiB0aGlzLmhhc1ByZXYoKSA/IDAgOiBudWxsLFxuICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlck5leHQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwiXCIuY29uY2F0KHByZWZpeENscywgXCItbmV4dFwiKSwgX2RlZmluZVByb3BlcnR5KHt9LCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWRpc2FibGVkXCIpLCAhdGhpcy5oYXNOZXh0KCkpKSxcbiAgICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogIXRoaXMuaGFzTmV4dCgpXG4gICAgICAgIH0sIHRoaXMucmVuZGVyTmV4dChuZXh0UGFnZSkpLCBnb3RvQnV0dG9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFsbFBhZ2VzIDw9IDMgKyBwYWdlQnVmZmVyU2l6ZSAqIDIpIHtcbiAgICAgICAgdmFyIHBhZ2VyUHJvcHMgPSB7XG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlcixcbiAgICAgICAgICBzaG93VGl0bGU6IHNob3dUaXRsZSxcbiAgICAgICAgICBpdGVtUmVuZGVyOiBpdGVtUmVuZGVyXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFhbGxQYWdlcykge1xuICAgICAgICAgIHBhZ2VyTGlzdC5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwgX2V4dGVuZHMoe30sIHBhZ2VyUHJvcHMsIHtcbiAgICAgICAgICAgIGtleTogXCJub1BhZ2VyXCIsXG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWl0ZW0tZGlzYWJsZWRcIilcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gYWxsUGFnZXM7IGkgKz0gMSkge1xuICAgICAgICAgIHZhciBhY3RpdmUgPSBjdXJyZW50ID09PSBpO1xuICAgICAgICAgIHBhZ2VyTGlzdC5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwgX2V4dGVuZHMoe30sIHBhZ2VyUHJvcHMsIHtcbiAgICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICAgIHBhZ2U6IGksXG4gICAgICAgICAgICBhY3RpdmU6IGFjdGl2ZVxuICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcmV2SXRlbVRpdGxlID0gc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81O1xuICAgICAgICB2YXIgbmV4dEl0ZW1UaXRsZSA9IHNob3dMZXNzSXRlbXMgPyBsb2NhbGUubmV4dF8zIDogbG9jYWxlLm5leHRfNTtcblxuICAgICAgICBpZiAoc2hvd1ByZXZOZXh0SnVtcGVycykge1xuICAgICAgICAgIGp1bXBQcmV2ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgICAgICB0aXRsZTogc2hvd1RpdGxlID8gcHJldkl0ZW1UaXRsZSA6IG51bGwsXG4gICAgICAgICAgICBrZXk6IFwicHJldlwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5qdW1wUHJldixcbiAgICAgICAgICAgIHRhYkluZGV4OiBcIjBcIixcbiAgICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlckp1bXBQcmV2LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwiXCIuY29uY2F0KHByZWZpeENscywgXCItanVtcC1wcmV2XCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItanVtcC1wcmV2LWN1c3RvbS1pY29uXCIpLCAhIWp1bXBQcmV2SWNvbikpXG4gICAgICAgICAgfSwgaXRlbVJlbmRlcih0aGlzLmdldEp1bXBQcmV2UGFnZSgpLCAnanVtcC1wcmV2JywgdGhpcy5nZXRJdGVtSWNvbihqdW1wUHJldkljb24sICdwcmV2IHBhZ2UnKSkpO1xuICAgICAgICAgIGp1bXBOZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgICAgICB0aXRsZTogc2hvd1RpdGxlID8gbmV4dEl0ZW1UaXRsZSA6IG51bGwsXG4gICAgICAgICAgICBrZXk6IFwibmV4dFwiLFxuICAgICAgICAgICAgdGFiSW5kZXg6IFwiMFwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5qdW1wTmV4dCxcbiAgICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlckp1bXBOZXh0LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwiXCIuY29uY2F0KHByZWZpeENscywgXCItanVtcC1uZXh0XCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItanVtcC1uZXh0LWN1c3RvbS1pY29uXCIpLCAhIWp1bXBOZXh0SWNvbikpXG4gICAgICAgICAgfSwgaXRlbVJlbmRlcih0aGlzLmdldEp1bXBOZXh0UGFnZSgpLCAnanVtcC1uZXh0JywgdGhpcy5nZXRJdGVtSWNvbihqdW1wTmV4dEljb24sICduZXh0IHBhZ2UnKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFBhZ2VyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICBsYXN0OiB0cnVlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICBvbktleVByZXNzOiB0aGlzLnJ1bklmRW50ZXIsXG4gICAgICAgICAga2V5OiBhbGxQYWdlcyxcbiAgICAgICAgICBwYWdlOiBhbGxQYWdlcyxcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgIHNob3dUaXRsZTogc2hvd1RpdGxlLFxuICAgICAgICAgIGl0ZW1SZW5kZXI6IGl0ZW1SZW5kZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGZpcnN0UGFnZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICBvbktleVByZXNzOiB0aGlzLnJ1bklmRW50ZXIsXG4gICAgICAgICAga2V5OiAxLFxuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICBzaG93VGl0bGU6IHNob3dUaXRsZSxcbiAgICAgICAgICBpdGVtUmVuZGVyOiBpdGVtUmVuZGVyXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDEsIGN1cnJlbnQgLSBwYWdlQnVmZmVyU2l6ZSk7XG4gICAgICAgIHZhciByaWdodCA9IE1hdGgubWluKGN1cnJlbnQgKyBwYWdlQnVmZmVyU2l6ZSwgYWxsUGFnZXMpO1xuXG4gICAgICAgIGlmIChjdXJyZW50IC0gMSA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPD0gcGFnZUJ1ZmZlclNpemUpIHtcbiAgICAgICAgICBsZWZ0ID0gYWxsUGFnZXMgLSBwYWdlQnVmZmVyU2l6ZSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IGxlZnQ7IF9pIDw9IHJpZ2h0OyBfaSArPSAxKSB7XG4gICAgICAgICAgdmFyIF9hY3RpdmUgPSBjdXJyZW50ID09PSBfaTtcblxuICAgICAgICAgIHBhZ2VyTGlzdC5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlcixcbiAgICAgICAgICAgIGtleTogX2ksXG4gICAgICAgICAgICBwYWdlOiBfaSxcbiAgICAgICAgICAgIGFjdGl2ZTogX2FjdGl2ZSxcbiAgICAgICAgICAgIHNob3dUaXRsZTogc2hvd1RpdGxlLFxuICAgICAgICAgICAgaXRlbVJlbmRlcjogaXRlbVJlbmRlclxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50IC0gMSA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gMSArIDIpIHtcbiAgICAgICAgICBwYWdlckxpc3RbMF0gPSAvKiNfX1BVUkVfXyovY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFswXSwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWl0ZW0tYWZ0ZXItanVtcC1wcmV2XCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoanVtcFByZXYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gYWxsUGFnZXMgLSAyKSB7XG4gICAgICAgICAgcGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSA9IC8qI19fUFVSRV9fKi9jbG9uZUVsZW1lbnQocGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWl0ZW0tYmVmb3JlLWp1bXAtbmV4dFwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBhZ2VyTGlzdC5wdXNoKGp1bXBOZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0ICE9PSAxKSB7XG4gICAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmlnaHQgIT09IGFsbFBhZ2VzKSB7XG4gICAgICAgICAgcGFnZXJMaXN0LnB1c2gobGFzdFBhZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdG90YWxUZXh0ID0gbnVsbDtcblxuICAgICAgaWYgKHNob3dUb3RhbCkge1xuICAgICAgICB0b3RhbFRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItdG90YWwtdGV4dFwiKVxuICAgICAgICB9LCBzaG93VG90YWwodG90YWwsIFt0b3RhbCA9PT0gMCA/IDAgOiAoY3VycmVudCAtIDEpICogcGFnZVNpemUgKyAxLCBjdXJyZW50ICogcGFnZVNpemUgPiB0b3RhbCA/IHRvdGFsIDogY3VycmVudCAqIHBhZ2VTaXplXSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldkRpc2FibGVkID0gIXRoaXMuaGFzUHJldigpIHx8ICFhbGxQYWdlcztcbiAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAhdGhpcy5oYXNOZXh0KCkgfHwgIWFsbFBhZ2VzO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgX2V4dGVuZHMoe1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1kaXNhYmxlZFwiKSwgZGlzYWJsZWQpKSxcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB1bnNlbGVjdGFibGU6IFwidW5zZWxlY3RhYmxlXCIsXG4gICAgICAgIHJlZjogdGhpcy5zYXZlUGFnaW5hdGlvbk5vZGVcbiAgICAgIH0sIGRhdGFPckFyaWFBdHRyaWJ1dGVQcm9wcyksIHRvdGFsVGV4dCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgIHRpdGxlOiBzaG93VGl0bGUgPyBsb2NhbGUucHJldl9wYWdlIDogbnVsbCxcbiAgICAgICAgb25DbGljazogdGhpcy5wcmV2LFxuICAgICAgICB0YWJJbmRleDogcHJldkRpc2FibGVkID8gbnVsbCA6IDAsXG4gICAgICAgIG9uS2V5UHJlc3M6IHRoaXMucnVuSWZFbnRlclByZXYsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLXByZXZcIiksIF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1kaXNhYmxlZFwiKSwgcHJldkRpc2FibGVkKSksXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBwcmV2RGlzYWJsZWRcbiAgICAgIH0sIHRoaXMucmVuZGVyUHJldihwcmV2UGFnZSkpLCBwYWdlckxpc3QsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAgICB0aXRsZTogc2hvd1RpdGxlID8gbG9jYWxlLm5leHRfcGFnZSA6IG51bGwsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dCxcbiAgICAgICAgdGFiSW5kZXg6IG5leHREaXNhYmxlZCA/IG51bGwgOiAwLFxuICAgICAgICBvbktleVByZXNzOiB0aGlzLnJ1bklmRW50ZXJOZXh0LFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1uZXh0XCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItZGlzYWJsZWRcIiksIG5leHREaXNhYmxlZCkpLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogbmV4dERpc2FibGVkXG4gICAgICB9LCB0aGlzLnJlbmRlck5leHQobmV4dFBhZ2UpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9ucywge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzOiBzZWxlY3RDb21wb25lbnRDbGFzcyxcbiAgICAgICAgc2VsZWN0UHJlZml4Q2xzOiBzZWxlY3RQcmVmaXhDbHMsXG4gICAgICAgIGNoYW5nZVNpemU6IHRoaXMuZ2V0U2hvd1NpemVDaGFuZ2VyKCkgPyB0aGlzLmNoYW5nZVBhZ2VTaXplIDogbnVsbCxcbiAgICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplLFxuICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IHBhZ2VTaXplT3B0aW9ucyxcbiAgICAgICAgcXVpY2tHbzogdGhpcy5zaG91bGREaXNwbGF5UXVpY2tKdW1wZXIoKSA/IHRoaXMuaGFuZGxlQ2hhbmdlIDogbnVsbCxcbiAgICAgICAgZ29CdXR0b246IGdvQnV0dG9uXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblxuICAgICAgaWYgKCdjdXJyZW50JyBpbiBwcm9wcykge1xuICAgICAgICBuZXdTdGF0ZS5jdXJyZW50ID0gcHJvcHMuY3VycmVudDtcblxuICAgICAgICBpZiAocHJvcHMuY3VycmVudCAhPT0gcHJldlN0YXRlLmN1cnJlbnQpIHtcbiAgICAgICAgICBuZXdTdGF0ZS5jdXJyZW50SW5wdXRWYWx1ZSA9IG5ld1N0YXRlLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCdwYWdlU2l6ZScgaW4gcHJvcHMgJiYgcHJvcHMucGFnZVNpemUgIT09IHByZXZTdGF0ZS5wYWdlU2l6ZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IHByZXZTdGF0ZS5jdXJyZW50O1xuICAgICAgICB2YXIgbmV3Q3VycmVudCA9IGNhbGN1bGF0ZVBhZ2UocHJvcHMucGFnZVNpemUsIHByZXZTdGF0ZSwgcHJvcHMpO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcblxuICAgICAgICBpZiAoISgnY3VycmVudCcgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgbmV3U3RhdGUuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgbmV3U3RhdGUuY3VycmVudElucHV0VmFsdWUgPSBjdXJyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3U3RhdGUucGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYWdpbmF0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5QYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdEN1cnJlbnQ6IDEsXG4gIHRvdGFsOiAwLFxuICBkZWZhdWx0UGFnZVNpemU6IDEwLFxuICBvbkNoYW5nZTogbm9vcCxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgc2VsZWN0UHJlZml4Q2xzOiAncmMtc2VsZWN0JyxcbiAgcHJlZml4Q2xzOiAncmMtcGFnaW5hdGlvbicsXG4gIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuICBoaWRlT25TaW5nbGVQYWdlOiBmYWxzZSxcbiAgc2hvd1ByZXZOZXh0SnVtcGVyczogdHJ1ZSxcbiAgc2hvd1F1aWNrSnVtcGVyOiBmYWxzZSxcbiAgc2hvd0xlc3NJdGVtczogZmFsc2UsXG4gIHNob3dUaXRsZTogdHJ1ZSxcbiAgb25TaG93U2l6ZUNoYW5nZTogbm9vcCxcbiAgbG9jYWxlOiBMT0NBTEUsXG4gIHN0eWxlOiB7fSxcbiAgaXRlbVJlbmRlcjogZGVmYXVsdEl0ZW1SZW5kZXIsXG4gIHRvdGFsQm91bmRhcnlTaG93U2l6ZUNoYW5nZXI6IDUwXG59O1xuZXhwb3J0IGRlZmF1bHQgUGFnaW5hdGlvbjsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIC8vIE9wdGlvbnMuanN4XG4gIGl0ZW1zX3Blcl9wYWdlOiAn5p2hL+mhtScsXG4gIGp1bXBfdG86ICfot7Poh7MnLFxuICBqdW1wX3RvX2NvbmZpcm06ICfnoa7lrponLFxuICBwYWdlOiAn6aG1JyxcbiAgLy8gUGFnaW5hdGlvbi5qc3hcbiAgcHJldl9wYWdlOiAn5LiK5LiA6aG1JyxcbiAgbmV4dF9wYWdlOiAn5LiL5LiA6aG1JyxcbiAgcHJldl81OiAn5ZCR5YmNIDUg6aG1JyxcbiAgbmV4dF81OiAn5ZCR5ZCOIDUg6aG1JyxcbiAgcHJldl8zOiAn5ZCR5YmNIDMg6aG1JyxcbiAgbmV4dF8zOiAn5ZCR5ZCOIDMg6aG1J1xufTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIC8vIE9wdGlvbnMuanN4XG4gIGl0ZW1zX3Blcl9wYWdlOiAnLyBwYWdlJyxcbiAganVtcF90bzogJ0dvIHRvJyxcbiAganVtcF90b19jb25maXJtOiAnY29uZmlybScsXG4gIHBhZ2U6ICcnLFxuICAvLyBQYWdpbmF0aW9uLmpzeFxuICBwcmV2X3BhZ2U6ICdQcmV2aW91cyBQYWdlJyxcbiAgbmV4dF9wYWdlOiAnTmV4dCBQYWdlJyxcbiAgcHJldl81OiAnUHJldmlvdXMgNSBQYWdlcycsXG4gIG5leHRfNTogJ05leHQgNSBQYWdlcycsXG4gIHByZXZfMzogJ1ByZXZpb3VzIDMgUGFnZXMnLFxuICBuZXh0XzM6ICdOZXh0IDMgUGFnZXMnXG59OyJdLCJuYW1lcyI6WyJwcm9wcyIsIl9jbGFzc05hbWVzIiwicHJlZml4Q2xzIiwiY29uY2F0Iiwicm9vdFByZWZpeENscyIsImNscyIsInBhZ2UiLCJhY3RpdmUiLCJjbGFzc05hbWUiLCJ0aXRsZSIsInNob3dUaXRsZSIsIm9uQ2xpY2siLCJvbktleVByZXNzIiwiZSIsInRhYkluZGV4IiwiaXRlbVJlbmRlciIsInJlbCIsIk9wdGlvbnMiLCJfUmVhY3QkQ29tcG9uZW50IiwiX3N1cGVyIiwiX3RoaXMiLCJ0aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJzdGF0ZSIsImdvSW5wdXRUZXh0IiwiYnVpbGRPcHRpb25UZXh0IiwidmFsdWUiLCJsb2NhbGUiLCJpdGVtc19wZXJfcGFnZSIsImNoYW5nZVNpemUiLCJOdW1iZXIiLCJoYW5kbGVDaGFuZ2UiLCJzZXRTdGF0ZSIsInRhcmdldCIsImhhbmRsZUJsdXIiLCJfdGhpcyRwcm9wcyIsImdvQnV0dG9uIiwicXVpY2tHbyIsInJlbGF0ZWRUYXJnZXQiLCJpbmRleE9mIiwiZ2V0VmFsaWRWYWx1ZSIsImdvIiwia2V5Q29kZSIsInR5cGUiLCJrZXkiLCJpc05hTiIsInVuZGVmaW5lZCIsIl90aGlzJHByb3BzMiIsInBhZ2VTaXplIiwicGFnZVNpemVPcHRpb25zIiwic29tZSIsIm9wdGlvbiIsInRvU3RyaW5nIiwic29ydCIsImEiLCJiIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHMzIiwic2VsZWN0Q29tcG9uZW50Q2xhc3MiLCJzZWxlY3RQcmVmaXhDbHMiLCJkaXNhYmxlZCIsIlNlbGVjdCIsImNoYW5nZVNlbGVjdCIsImdvSW5wdXQiLCJnb3RvQnV0dG9uIiwiZ2V0UGFnZVNpemVPcHRpb25zIiwib3B0aW9ucyIsIm1hcCIsIm9wdCIsImkiLCJPcHRpb24iLCJzaG93U2VhcmNoIiwib3B0aW9uTGFiZWxQcm9wIiwiZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoIiwib25DaGFuZ2UiLCJnZXRQb3B1cENvbnRhaW5lciIsInRyaWdnZXJOb2RlIiwicGFyZW50Tm9kZSIsIm9uS2V5VXAiLCJqdW1wX3RvX2NvbmZpcm0iLCJqdW1wX3RvIiwib25CbHVyIiwiZGVmYXVsdFByb3BzIiwibm9vcCIsImNhbGN1bGF0ZVBhZ2UiLCJwIiwiTWF0aCIsImZsb29yIiwidG90YWwiLCJQYWdpbmF0aW9uIiwiZ2V0SnVtcFByZXZQYWdlIiwibWF4IiwiY3VycmVudCIsInNob3dMZXNzSXRlbXMiLCJnZXRKdW1wTmV4dFBhZ2UiLCJtaW4iLCJnZXRJdGVtSWNvbiIsImljb24iLCJsYWJlbCIsImljb25Ob2RlIiwic2F2ZVBhZ2luYXRpb25Ob2RlIiwibm9kZSIsInBhZ2luYXRpb25Ob2RlIiwiaXNWYWxpZCIsImlzRmluaXRlIiwic2hvdWxkRGlzcGxheVF1aWNrSnVtcGVyIiwic2hvd1F1aWNrSnVtcGVyIiwiaGFuZGxlS2V5RG93biIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlS2V5VXAiLCJjdXJyZW50SW5wdXRWYWx1ZSIsImNoYW5nZVBhZ2VTaXplIiwic2l6ZSIsIm5ld0N1cnJlbnQiLCJvblNob3dTaXplQ2hhbmdlIiwiY3VycmVudFBhZ2UiLCJwcmV2IiwiaGFzUHJldiIsIm5leHQiLCJoYXNOZXh0IiwianVtcFByZXYiLCJqdW1wTmV4dCIsInJ1bklmRW50ZXIiLCJldmVudCIsImNhbGxiYWNrIiwiY2hhckNvZGUiLCJyZXN0UGFyYW1zIiwicnVuSWZFbnRlclByZXYiLCJydW5JZkVudGVyTmV4dCIsInJ1bklmRW50ZXJKdW1wUHJldiIsInJ1bklmRW50ZXJKdW1wTmV4dCIsImhhbmRsZUdvVE8iLCJoYXNPbkNoYW5nZSIsImNvbnNvbGUiLCJ3YXJuIiwiX2N1cnJlbnQiLCJkZWZhdWx0Q3VycmVudCIsIl9wYWdlU2l6ZSIsImRlZmF1bHRQYWdlU2l6ZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsImxhc3RDdXJyZW50Tm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJibHVyIiwiaW5wdXRWYWx1ZSIsImFsbFBhZ2VzIiwic2hvd1NpemVDaGFuZ2VyIiwidG90YWxCb3VuZGFyeVNob3dTaXplQ2hhbmdlciIsInByZXZQYWdlIiwicHJldkljb24iLCJwcmV2QnV0dG9uIiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJuZXh0UGFnZSIsIl90aGlzJHByb3BzNCIsIm5leHRJY29uIiwibmV4dEJ1dHRvbiIsIl90aGlzJHByb3BzNSIsInN0eWxlIiwiaGlkZU9uU2luZ2xlUGFnZSIsInNob3dUb3RhbCIsInNpbXBsZSIsInNob3dQcmV2TmV4dEp1bXBlcnMiLCJqdW1wUHJldkljb24iLCJqdW1wTmV4dEljb24iLCJfdGhpcyRzdGF0ZSIsInBhZ2VyTGlzdCIsImZpcnN0UGFnZXIiLCJsYXN0UGFnZXIiLCJwYWdlQnVmZmVyU2l6ZSIsImRhdGFPckFyaWFBdHRyaWJ1dGVQcm9wcyIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJzdWJzdHIiLCJyZWYiLCJwcmV2X3BhZ2UiLCJyZW5kZXJQcmV2Iiwib25LZXlEb3duIiwibmV4dF9wYWdlIiwicmVuZGVyTmV4dCIsInBhZ2VyUHJvcHMiLCJwdXNoIiwicHJldkl0ZW1UaXRsZSIsInByZXZfMyIsInByZXZfNSIsIm5leHRJdGVtVGl0bGUiLCJuZXh0XzMiLCJuZXh0XzUiLCJsYXN0IiwibGVmdCIsInJpZ2h0IiwiX2kiLCJfYWN0aXZlIiwidW5zaGlmdCIsInRvdGFsVGV4dCIsInByZXZEaXNhYmxlZCIsIm5leHREaXNhYmxlZCIsInVuc2VsZWN0YWJsZSIsImdldFNob3dTaXplQ2hhbmdlciIsIm5ld1N0YXRlIiwiZWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=