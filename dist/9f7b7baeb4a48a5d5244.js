"use strict";(self.webpackChunkmaster_degree=self.webpackChunkmaster_degree||[]).push([[14],{8665:(e,t,n)=>{n.d(t,{k:()=>a,Z:()=>o});var r=n(7294),i=n(334),a="RC_FORM_INTERNAL_HOOKS",s=function(){(0,i.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const o=r.createContext({getFieldValue:s,getFieldsValue:s,getFieldError:s,getFieldsError:s,isFieldsTouched:s,isFieldTouched:s,isFieldValidating:s,isFieldsValidating:s,resetFields:s,setFields:s,setFieldsValue:s,validateFields:s,submit:s,getInternalHooks:function(){return s(),{dispatch:s,initEntityValue:s,registerField:s,useSubscribe:s,setInitialValues:s,setCallbacks:s,getFields:s,setValidateMessages:s,setPreserve:s}}})},3827:(e,t,n)=>{n.d(t,{gN:()=>J,RV:()=>ne,aV:()=>K,ZP:()=>se,cI:()=>ee});var r=n(7294),i=n(7462),a=n(4925),s=n(4942),o=n(1413),u=n(3433),l=n(5671),c=n(3144),d=n(7326),f=n(9340),h=n(8557),v=n(344),g=n(334),m=n(8665);function p(e){return null==e?[]:Array.isArray(e)?e:[e]}var F=n(7757),y=n.n(F),Z=n(5861),V=n(1002),k=n(5715),b=n(8306),P=n(8880);function E(e){return p(e)}function C(e,t){return(0,b.Z)(e,t)}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,P.Z)(e,t,n,r);return i}function x(e,t){var n={};return t.forEach((function(t){var r=C(e,t);n=w(n,t,r)})),n}function N(e,t){return e&&e.some((function(e){return I(e,t)}))}function $(e){return"object"===(0,V.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function R(e,t){var n=Array.isArray(e)?(0,u.Z)(e):(0,o.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=$(r)&&$(i);n[e]=a?R(r,i||{}):i})),n):n}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return R(e,t)}),e)}function I(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function M(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function T(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat((0,u.Z)(e.slice(0,n)),[i],(0,u.Z)(e.slice(n,t)),(0,u.Z)(e.slice(t+1,r))):a<0?[].concat((0,u.Z)(e.slice(0,t)),(0,u.Z)(e.slice(t+1,n+1)),[i],(0,u.Z)(e.slice(n+1,r))):e}var O="'${name}' is not a valid ${type}",U={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:O,method:O,array:O,object:O,number:O,date:O,boolean:O,integer:O,float:O,regexp:O,email:O,url:O,hex:O},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},j=k.Z;function L(e,t,n,r){var i=(0,o.Z)((0,o.Z)({},n),{},{name:t,enum:(n.enum||[]).join(", ")}),a=function(e,t){return function(){return function(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}(e,(0,o.Z)((0,o.Z)({},i),t))}};return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(i){var s=t[i];"string"==typeof s?n[i]=a(s,r):s&&"object"===(0,V.Z)(s)?(n[i]={},e(s,n[i])):n[i]=s})),n}(A({},U,e))}function _(e,t,n,r,i){return S.apply(this,arguments)}function S(){return(S=(0,Z.Z)(y().mark((function e(t,n,i,a,l){var c,d,f,h,v,g;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,o.Z)({},i),d=null,c&&"array"===c.type&&c.defaultField&&(d=c.defaultField,delete c.defaultField),f=new j((0,s.Z)({},t,[c])),h=L(a.validateMessages,t,c,l),f.messages(h),v=[],e.prev=7,e.next=10,Promise.resolve(f.validate((0,s.Z)({},t,n),(0,o.Z)({},a)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0.errors?v=e.t0.errors.map((function(e,t){var n=e.message;return r.isValidElement(n)?r.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),v=[h.default()]);case 15:if(v.length||!d){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return _("".concat(t,".").concat(n),e,d,a,l)})));case 18:return g=e.sent,e.abrupt("return",g.reduce((function(e,t){return[].concat((0,u.Z)(e),(0,u.Z)(t))}),[]));case 20:return e.abrupt("return",v);case 21:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function H(e,t,n,r,i,a){var s,u=e.join("."),l=n.map((function(e){var t=e.validator;return t?(0,o.Z)((0,o.Z)({},e),{},{validator:function(e,n,r){var i=!1,a=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){(0,g.ZP)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"==typeof a.then&&"function"==typeof a.catch,(0,g.ZP)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}}):e}));if(!0===i)s=new Promise(function(){var e=(0,Z.Z)(y().mark((function e(n,i){var s,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<l.length)){e.next=11;break}return e.next=4,_(u,t,l[s],r,a);case 4:if(!(o=e.sent).length){e.next=8;break}return i(o),e.abrupt("return");case 8:s+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return _(u,t,e,r,a)}));s=(i?function(e){return W.apply(this,arguments)}(c):function(e){return D.apply(this,arguments)}(c)).then((function(e){return e.length?Promise.reject(e):[]}))}return s.catch((function(e){return e})),s}function D(){return(D=(0,Z.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,u.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=(0,Z.Z)(y().mark((function e(t){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,n,r,i,a){return"function"==typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var z=function(e){(0,f.Z)(n,e);var t=(0,h.Z)(n);function n(e){var i;((0,l.Z)(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,E(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,u.Z)(r),(0,u.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,s=r.dependencies,o=void 0===s?[]:s,u=r.onReset,l=n.store,c=i.getNamePath(),d=i.getValue(e),f=i.getValue(l),h=t&&N(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=[]),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],u&&u(),void i.refresh();break;case"setField":if(h){var v=n.data;return"touched"in v&&(i.touched=v.touched),"validating"in v&&!("originRCField"in v)&&(i.validatePromise=v.validating?Promise.resolve([]):null),"errors"in v&&(i.errors=v.errors||[]),i.dirty=!0,void i.reRender()}if(a&&!c.length&&q(a,e,l,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(o.map(E).some((function(e){return N(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!o.length||c.length||a)&&q(a,e,l,d,f,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,s=a.validateFirst,o=void 0!==s&&s,u=a.messageVariables,l=(e||{}).triggerName,c=i.getRules();l&&(c=c.filter((function(e){var t=e.validateTrigger;return!t||p(t).includes(l)})));var d=H(t,n,c,e,o,u);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.validatePromise===r&&(i.validatePromise=null,i.errors=e,i.reRender())})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=[],i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return i.dirty},i.getErrors=function(){return i.errors},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"==typeof e){var t=i.getMeta();return(0,o.Z)((0,o.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=(0,v.Z)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return C(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,u=t.normalize,l=t.valuePropName,c=t.getValueProps,d=t.fieldContext,f=void 0!==r?r:d.validateTrigger,h=i.getNamePath(),v=d.getInternalHooks,g=d.getFieldsValue,F=v(m.k),y=F.dispatch,Z=i.getValue(),V=c||function(e){return(0,s.Z)({},l,e)},k=e[n],b=(0,o.Z)((0,o.Z)({},e),V(Z));b[n]=function(){var e;i.touched=!0,i.dirty=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):M.apply(void 0,[l].concat(n)),u&&(e=u(e,Z,g(!0))),y({type:"updateValue",namePath:h,value:e}),k&&k.apply(void 0,n)};var P=p(f||[]);return P.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&y({type:"validateField",namePath:h,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m.k).initEntityValue)((0,d.Z)(i));return i}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m.k).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):((0,g.ZP)(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);z.contextType=m.Z,z.defaultProps={trigger:"onChange",valuePropName:"value"};const J=function(e){var t=e.name,n=(0,a.Z)(e,["name"]),s=r.useContext(m.Z),o=void 0!==t?E(t):void 0,u="keep";return n.isListField||(u="_".concat((o||[]).join("_"))),r.createElement(z,(0,i.Z)({key:u,name:o},n,{fieldContext:s}))};const K=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,s=e.validateTrigger,l=r.useContext(m.Z),c=r.useRef({keys:[],id:0}).current;if("function"!=typeof i)return(0,g.ZP)(!1,"Form.List only accepts function as children."),null;var d=E(l.prefixName)||[],f=[].concat((0,u.Z)(d),(0,u.Z)(E(t)));return r.createElement(m.Z.Provider,{value:(0,o.Z)((0,o.Z)({},l),{},{prefixName:f})},r.createElement(J,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:s,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,s=l.getFieldValue,o=function(){return s(f||[])||[]},d={add:function(e,t){var n=o();t>=0&&t<=n.length?(c.keys=[].concat((0,u.Z)(c.keys.slice(0,t)),[c.id],(0,u.Z)(c.keys.slice(t))),a([].concat((0,u.Z)(n.slice(0,t)),[e],(0,u.Z)(n.slice(t))))):(c.keys=[].concat((0,u.Z)(c.keys),[c.id]),a([].concat((0,u.Z)(n),[e]))),c.id+=1},remove:function(e){var t=o(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=o();e<0||e>=n.length||t<0||t>=n.length||(c.keys=T(c.keys,e,t),a(T(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),d,t)})))};var Y=n(9439);var B="__@field_split__";function G(e){return e.map((function(e){return"".concat((0,V.Z)(e),":").concat(e)})).join(B)}const Q=function(){function e(){(0,l.Z)(this,e),this.kvs=new Map}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(G(e),t)}},{key:"get",value:function(e){return this.kvs.get(G(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(G(e))}},{key:"map",value:function(e){return(0,u.Z)(this.kvs.entries()).map((function(t){var n=(0,Y.Z)(t,2),r=n[0],i=n[1],a=r.split(B);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Y.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();var X=function e(t){var n=this;(0,l.Z)(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===m.k?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):((0,g.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=A({},e,n.store))},this.getInitialValue=function(e){return C(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Q;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=E(e);return t.get(n)||{INVALIDATE_NAME_PATH:E(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var s="getMeta"in n?n.getMeta():null;t(s)&&i.push(a)}else i.push(a)})),x(n.store,i.map(E))},this.getFieldValue=function(e){n.warningUnhooked();var t=E(e);return C(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:E(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=E(e);return n.getFieldsError([t])[0].errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],s=t[1],o=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(E),o=!1):(i=null,o=a):(i=a.map(E),o=s);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return o?l.every(c):l.some(c);var d=new Q;i.forEach((function(e){d.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&d.update(n,(function(t){return[].concat((0,u.Z)(t),[e])}))}))}));var f=function(e){return e.some(c)},h=d.map((function(e){return e.value}));return o?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(E);return t.some((function(e){var t=e.getNamePath();return N(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Q,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))(0,g.ZP)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)(0,g.ZP)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var s=n.getFieldValue(i);e.skipExist&&void 0!==s||(n.store=w(n.store,i,(0,u.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,u.Z)((0,u.Z)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=A({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(E);r.forEach((function(e){var t=n.getInitialValue(e);n.store=w(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,(0,a.Z)(e,["name","errors"])),s=E(r);"value"in i&&(n.store=w(n.store,s,i.value)),n.notifyObservers(t,[s],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,o.Z)((0,o.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===C(n.store,r)&&(n.store=w(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var a=void 0!==r?r:n.preserve;if(!1===a&&(!t||i.length>1)){var s=e.getNamePath(),o=t?void 0:C(n.initialValues,s);s.length&&n.getFieldValue(s)!==o&&n.fieldEntities.every((function(e){return!I(e.getNamePath(),s)}))&&(n.store=w(n.store,s,o,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,o.Z)((0,o.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=E(e),i=n.store;n.store=w(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var a=n.getDependencyChildrenFields(r);a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat((0,u.Z)(a))});var s=n.callbacks.onValuesChange;s&&s(x(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,u.Z)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=A(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Q;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=E(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new Q;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return N(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(E):[],a=[];n.getFieldEntities(!0).forEach((function(s){if(r||i.push(s.getNamePath()),(null==t?void 0:t.recursive)&&r){var u=s.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(s.props.rules&&s.props.rules.length){var l=s.getNamePath();if(!r||N(i,l)){var c=s.validateRules((0,o.Z)({validateMessages:(0,o.Z)((0,o.Z)({},U),n.validateMessages)},t));a.push(c.then((function(){return{name:l,errors:[]}})).catch((function(e){return Promise.reject({name:l,errors:e})})))}}}));var s=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[s]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=s,s.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=s.then((function(){return n.lastValidatePromise===s?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==s})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};const ee=function(e){var t=r.useRef(),n=r.useState({}),i=(0,Y.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new X((function(){i({})}));t.current=a.getForm()}return[t.current]};var te=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ne=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,u=r.useContext(te),l=r.useRef({});return r.createElement(te.Provider,{value:(0,o.Z)((0,o.Z)({},u),{},{validateMessages:(0,o.Z)((0,o.Z)({},u.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:l.current}),u.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:l.current}),u.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=(0,o.Z)((0,o.Z)({},l.current),{},(0,s.Z)({},e,t))),u.registerForm(e,t)},unregisterForm:function(e){var t=(0,o.Z)({},l.current);delete t[e],l.current=t,u.unregisterForm(e)}})},a)};const re=te;const ie=function(e,t){var n=e.name,s=e.initialValues,l=e.fields,c=e.form,d=e.preserve,f=e.children,h=e.component,v=void 0===h?"form":h,g=e.validateMessages,p=e.validateTrigger,F=void 0===p?"onChange":p,y=e.onValuesChange,Z=e.onFieldsChange,k=e.onFinish,b=e.onFinishFailed,P=(0,a.Z)(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),E=r.useContext(re),C=ee(c),w=(0,Y.Z)(C,1)[0],x=w.getInternalHooks(m.k),N=x.useSubscribe,$=x.setInitialValues,R=x.setCallbacks,A=x.setValidateMessages,I=x.setPreserve;r.useImperativeHandle(t,(function(){return w})),r.useEffect((function(){return E.registerForm(n,w),function(){E.unregisterForm(n)}}),[E,w,n]),A((0,o.Z)((0,o.Z)({},E.validateMessages),g)),R({onValuesChange:y,onFieldsChange:function(e){if(E.triggerFormChange(n,e),Z){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];Z.apply(void 0,[e].concat(r))}},onFinish:function(e){E.triggerFormFinish(n,e),k&&k(e)},onFinishFailed:b}),I(d);var M=r.useRef(null);$(s,!M.current),M.current||(M.current=!0);var T=f,O="function"==typeof f;O&&(T=f(w.getFieldsValue(!0),w));N(!O);var U=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,V.Z)(e)||"object"!==(0,V.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,u.Z)(n),(0,u.Z)(r)));return(0,u.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"==typeof r&&"function"==typeof i||r===i}))})(U.current||[],l||[])||w.setFields(l||[]),U.current=l}),[l,w]);var j=r.useMemo((function(){return(0,o.Z)((0,o.Z)({},w),{},{validateTrigger:F})}),[w,F]),L=r.createElement(m.Z.Provider,{value:j},T);return!1===v?L:r.createElement(v,(0,i.Z)({},P,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=P.onReset)||void 0===t||t.call(P,e)}}),L)};var ae=r.forwardRef(ie);ae.FormProvider=ne,ae.Field=J,ae.List=K,ae.useForm=ee;const se=ae}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLOEUsRUFBV3hOLE1BRWpJdVgsSUM5SE4sSUFDSUssR0FENEIsYUFBaUIsSUFFakRBLEdBQVFuQyxhQUFlQSxHQUN2Qm1DLEdBQVF2UCxNQUFRLEVBQ2hCdVAsR0FBUUMsS0FBTyxFQUNmRCxHQUFRRSxRQUFVLEdBRWxCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL0ZpZWxkQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvdXRpbHMvdHlwZVV0aWwuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3V0aWxzL3ZhbHVlVXRpbC5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvdXRpbHMvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3V0aWxzL3ZhbGlkYXRlVXRpbC5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvRmllbGQuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL0xpc3QuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3V0aWxzL05hbWVNYXAuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3VzZUZvcm0uanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3V0aWxzL2FzeW5jVXRpbC5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvRm9ybUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbmV4cG9ydCB2YXIgSE9PS19NQVJLID0gJ1JDX0ZPUk1fSU5URVJOQUxfSE9PS1MnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXG52YXIgd2FybmluZ0Z1bmMgPSBmdW5jdGlvbiB3YXJuaW5nRnVuYygpIHtcbiAgd2FybmluZyhmYWxzZSwgJ0NhbiBub3QgZmluZCBGb3JtQ29udGV4dC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3Ugd3JhcCBGaWVsZCB1bmRlciBGb3JtLicpO1xufTtcblxudmFyIENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGdldEZpZWxkVmFsdWU6IHdhcm5pbmdGdW5jLFxuICBnZXRGaWVsZHNWYWx1ZTogd2FybmluZ0Z1bmMsXG4gIGdldEZpZWxkRXJyb3I6IHdhcm5pbmdGdW5jLFxuICBnZXRGaWVsZHNFcnJvcjogd2FybmluZ0Z1bmMsXG4gIGlzRmllbGRzVG91Y2hlZDogd2FybmluZ0Z1bmMsXG4gIGlzRmllbGRUb3VjaGVkOiB3YXJuaW5nRnVuYyxcbiAgaXNGaWVsZFZhbGlkYXRpbmc6IHdhcm5pbmdGdW5jLFxuICBpc0ZpZWxkc1ZhbGlkYXRpbmc6IHdhcm5pbmdGdW5jLFxuICByZXNldEZpZWxkczogd2FybmluZ0Z1bmMsXG4gIHNldEZpZWxkczogd2FybmluZ0Z1bmMsXG4gIHNldEZpZWxkc1ZhbHVlOiB3YXJuaW5nRnVuYyxcbiAgdmFsaWRhdGVGaWVsZHM6IHdhcm5pbmdGdW5jLFxuICBzdWJtaXQ6IHdhcm5pbmdGdW5jLFxuICBnZXRJbnRlcm5hbEhvb2tzOiBmdW5jdGlvbiBnZXRJbnRlcm5hbEhvb2tzKCkge1xuICAgIHdhcm5pbmdGdW5jKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3BhdGNoOiB3YXJuaW5nRnVuYyxcbiAgICAgIGluaXRFbnRpdHlWYWx1ZTogd2FybmluZ0Z1bmMsXG4gICAgICByZWdpc3RlckZpZWxkOiB3YXJuaW5nRnVuYyxcbiAgICAgIHVzZVN1YnNjcmliZTogd2FybmluZ0Z1bmMsXG4gICAgICBzZXRJbml0aWFsVmFsdWVzOiB3YXJuaW5nRnVuYyxcbiAgICAgIHNldENhbGxiYWNrczogd2FybmluZ0Z1bmMsXG4gICAgICBnZXRGaWVsZHM6IHdhcm5pbmdGdW5jLFxuICAgICAgc2V0VmFsaWRhdGVNZXNzYWdlczogd2FybmluZ0Z1bmMsXG4gICAgICBzZXRQcmVzZXJ2ZTogd2FybmluZ0Z1bmNcbiAgICB9O1xuICB9XG59KTtcbmV4cG9ydCBkZWZhdWx0IENvbnRleHQ7IiwiZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG59IiwiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgZ2V0IGZyb20gXCJyYy11dGlsL2VzL3V0aWxzL2dldFwiO1xuaW1wb3J0IHNldCBmcm9tIFwicmMtdXRpbC9lcy91dGlscy9zZXRcIjtcbmltcG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuL3R5cGVVdGlsJztcbi8qKlxuICogQ29udmVydCBuYW1lIHRvIGludGVybmFsIHN1cHBvcnRlZCBmb3JtYXQuXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBrZWVwIHNpbmNlIHdlIHN0aWxsIHRoaW5raW5nIGlmIG5lZWQgc3VwcG9ydCBsaWtlIGBhLmIuY2AgZm9ybWF0LlxuICogJ2EnID0+IFsnYSddXG4gKiAxMjMgPT4gWzEyM11cbiAqIFsnYScsIDEyM10gPT4gWydhJywgMTIzXVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lUGF0aChwYXRoKSB7XG4gIHJldHVybiB0b0FycmF5KHBhdGgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKHN0b3JlLCBuYW1lUGF0aCkge1xuICB2YXIgdmFsdWUgPSBnZXQoc3RvcmUsIG5hbWVQYXRoKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFZhbHVlKHN0b3JlLCBuYW1lUGF0aCwgdmFsdWUpIHtcbiAgdmFyIHJlbW92ZUlmVW5kZWZpbmVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcbiAgdmFyIG5ld1N0b3JlID0gc2V0KHN0b3JlLCBuYW1lUGF0aCwgdmFsdWUsIHJlbW92ZUlmVW5kZWZpbmVkKTtcbiAgcmV0dXJuIG5ld1N0b3JlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lQnlOYW1lUGF0aExpc3Qoc3RvcmUsIG5hbWVQYXRoTGlzdCkge1xuICB2YXIgbmV3U3RvcmUgPSB7fTtcbiAgbmFtZVBhdGhMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUoc3RvcmUsIG5hbWVQYXRoKTtcbiAgICBuZXdTdG9yZSA9IHNldFZhbHVlKG5ld1N0b3JlLCBuYW1lUGF0aCwgdmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIG5ld1N0b3JlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zTmFtZVBhdGgobmFtZVBhdGhMaXN0LCBuYW1lUGF0aCkge1xuICByZXR1cm4gbmFtZVBhdGhMaXN0ICYmIG5hbWVQYXRoTGlzdC5zb21lKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgcmV0dXJuIG1hdGNoTmFtZVBhdGgocGF0aCwgbmFtZVBhdGgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbi8qKlxuICogQ29weSB2YWx1ZXMgaW50byBzdG9yZSBhbmQgcmV0dXJuIGEgbmV3IHZhbHVlcyBvYmplY3RcbiAqICh7IGE6IDEsIGI6IHsgYzogMiB9IH0sIHsgYTogNCwgYjogeyBkOiA1IH0gfSkgPT4geyBhOiA0LCBiOiB7IGM6IDIsIGQ6IDUgfSB9XG4gKi9cblxuXG5mdW5jdGlvbiBpbnRlcm5hbFNldFZhbHVlcyhzdG9yZSwgdmFsdWVzKSB7XG4gIHZhciBuZXdTdG9yZSA9IEFycmF5LmlzQXJyYXkoc3RvcmUpID8gX3RvQ29uc3VtYWJsZUFycmF5KHN0b3JlKSA6IF9vYmplY3RTcHJlYWQoe30sIHN0b3JlKTtcblxuICBpZiAoIXZhbHVlcykge1xuICAgIHJldHVybiBuZXdTdG9yZTtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHByZXZWYWx1ZSA9IG5ld1N0b3JlW2tleV07XG4gICAgdmFyIHZhbHVlID0gdmFsdWVzW2tleV07IC8vIElmIGJvdGggYXJlIG9iamVjdCAoYnV0IHRhcmdldCBpcyBub3QgYXJyYXkpLCB3ZSB1c2UgcmVjdXJzaW9uIHRvIHNldCBkZWVwIHZhbHVlXG5cbiAgICB2YXIgcmVjdXJzaXZlID0gaXNPYmplY3QocHJldlZhbHVlKSAmJiBpc09iamVjdCh2YWx1ZSk7XG4gICAgbmV3U3RvcmVba2V5XSA9IHJlY3Vyc2l2ZSA/IGludGVybmFsU2V0VmFsdWVzKHByZXZWYWx1ZSwgdmFsdWUgfHwge30pIDogdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gbmV3U3RvcmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRWYWx1ZXMoc3RvcmUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3RWYWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlc3RWYWx1ZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHJlc3RWYWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChjdXJyZW50LCBuZXdTdG9yZSkge1xuICAgIHJldHVybiBpbnRlcm5hbFNldFZhbHVlcyhjdXJyZW50LCBuZXdTdG9yZSk7XG4gIH0sIHN0b3JlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaE5hbWVQYXRoKG5hbWVQYXRoLCBjaGFuZ2VkTmFtZVBhdGgpIHtcbiAgaWYgKCFuYW1lUGF0aCB8fCAhY2hhbmdlZE5hbWVQYXRoIHx8IG5hbWVQYXRoLmxlbmd0aCAhPT0gY2hhbmdlZE5hbWVQYXRoLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBuYW1lUGF0aC5ldmVyeShmdW5jdGlvbiAobmFtZVVuaXQsIGkpIHtcbiAgICByZXR1cm4gY2hhbmdlZE5hbWVQYXRoW2ldID09PSBuYW1lVW5pdDtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaW1pbGFyKHNvdXJjZSwgdGFyZ2V0KSB7XG4gIGlmIChzb3VyY2UgPT09IHRhcmdldCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKCFzb3VyY2UgJiYgdGFyZ2V0IHx8IHNvdXJjZSAmJiAhdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFzb3VyY2UgfHwgIXRhcmdldCB8fCBfdHlwZW9mKHNvdXJjZSkgIT09ICdvYmplY3QnIHx8IF90eXBlb2YodGFyZ2V0KSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciB0YXJnZXRLZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KTtcbiAgdmFyIGtleXMgPSBuZXcgU2V0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc291cmNlS2V5cyksIF90b0NvbnN1bWFibGVBcnJheSh0YXJnZXRLZXlzKSkpO1xuICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KGtleXMpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc291cmNlVmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICB2YXIgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcblxuICAgIGlmICh0eXBlb2Ygc291cmNlVmFsdWUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHRhcmdldFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc291cmNlVmFsdWUgPT09IHRhcmdldFZhbHVlO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0R2V0VmFsdWVGcm9tRXZlbnQodmFsdWVQcm9wTmFtZSkge1xuICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07XG5cbiAgaWYgKGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiB2YWx1ZVByb3BOYW1lIGluIGV2ZW50LnRhcmdldCkge1xuICAgIHJldHVybiBldmVudC50YXJnZXRbdmFsdWVQcm9wTmFtZV07XG4gIH1cblxuICByZXR1cm4gZXZlbnQ7XG59XG4vKipcbiAqIE1vdmVzIGFuIGFycmF5IGl0ZW0gZnJvbSBvbmUgcG9zaXRpb24gaW4gYW4gYXJyYXkgdG8gYW5vdGhlci5cbiAqXG4gKiBOb3RlOiBUaGlzIGlzIGEgcHVyZSBmdW5jdGlvbiBzbyBhIG5ldyBhcnJheSB3aWxsIGJlIHJldHVybmVkLCBpbnN0ZWFkXG4gKiBvZiBhbHRlcmluZyB0aGUgYXJyYXkgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIGFycmF5ICAgICAgICAgQXJyYXkgaW4gd2hpY2ggdG8gbW92ZSBhbiBpdGVtLiAgICAgICAgIChyZXF1aXJlZClcbiAqIEBwYXJhbSBtb3ZlSW5kZXggICAgIFRoZSBpbmRleCBvZiB0aGUgaXRlbSB0byBtb3ZlLiAgICAgICAgICAocmVxdWlyZWQpXG4gKiBAcGFyYW0gdG9JbmRleCAgICAgICBUaGUgaW5kZXggdG8gbW92ZSBpdGVtIGF0IG1vdmVJbmRleCB0by4gKHJlcXVpcmVkKVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlKGFycmF5LCBtb3ZlSW5kZXgsIHRvSW5kZXgpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAobW92ZUluZGV4IDwgMCB8fCBtb3ZlSW5kZXggPj0gbGVuZ3RoIHx8IHRvSW5kZXggPCAwIHx8IHRvSW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgdmFyIGl0ZW0gPSBhcnJheVttb3ZlSW5kZXhdO1xuICB2YXIgZGlmZiA9IG1vdmVJbmRleCAtIHRvSW5kZXg7XG5cbiAgaWYgKGRpZmYgPiAwKSB7XG4gICAgLy8gbW92ZSBsZWZ0XG4gICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJyYXkuc2xpY2UoMCwgdG9JbmRleCkpLCBbaXRlbV0sIF90b0NvbnN1bWFibGVBcnJheShhcnJheS5zbGljZSh0b0luZGV4LCBtb3ZlSW5kZXgpKSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5LnNsaWNlKG1vdmVJbmRleCArIDEsIGxlbmd0aCkpKTtcbiAgfVxuXG4gIGlmIChkaWZmIDwgMCkge1xuICAgIC8vIG1vdmUgcmlnaHRcbiAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhcnJheS5zbGljZSgwLCBtb3ZlSW5kZXgpKSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5LnNsaWNlKG1vdmVJbmRleCArIDEsIHRvSW5kZXggKyAxKSksIFtpdGVtXSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5LnNsaWNlKHRvSW5kZXggKyAxLCBsZW5ndGgpKSk7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59IiwidmFyIHR5cGVUZW1wbGF0ZSA9IFwiJyR7bmFtZX0nIGlzIG5vdCBhIHZhbGlkICR7dHlwZX1cIjtcbmV4cG9ydCB2YXIgZGVmYXVsdFZhbGlkYXRlTWVzc2FnZXMgPSB7XG4gIGRlZmF1bHQ6IFwiVmFsaWRhdGlvbiBlcnJvciBvbiBmaWVsZCAnJHtuYW1lfSdcIixcbiAgcmVxdWlyZWQ6IFwiJyR7bmFtZX0nIGlzIHJlcXVpcmVkXCIsXG4gIGVudW06IFwiJyR7bmFtZX0nIG11c3QgYmUgb25lIG9mIFske2VudW19XVwiLFxuICB3aGl0ZXNwYWNlOiBcIicke25hbWV9JyBjYW5ub3QgYmUgZW1wdHlcIixcbiAgZGF0ZToge1xuICAgIGZvcm1hdDogXCInJHtuYW1lfScgaXMgaW52YWxpZCBmb3IgZm9ybWF0IGRhdGVcIixcbiAgICBwYXJzZTogXCInJHtuYW1lfScgY291bGQgbm90IGJlIHBhcnNlZCBhcyBkYXRlXCIsXG4gICAgaW52YWxpZDogXCInJHtuYW1lfScgaXMgaW52YWxpZCBkYXRlXCJcbiAgfSxcbiAgdHlwZXM6IHtcbiAgICBzdHJpbmc6IHR5cGVUZW1wbGF0ZSxcbiAgICBtZXRob2Q6IHR5cGVUZW1wbGF0ZSxcbiAgICBhcnJheTogdHlwZVRlbXBsYXRlLFxuICAgIG9iamVjdDogdHlwZVRlbXBsYXRlLFxuICAgIG51bWJlcjogdHlwZVRlbXBsYXRlLFxuICAgIGRhdGU6IHR5cGVUZW1wbGF0ZSxcbiAgICBib29sZWFuOiB0eXBlVGVtcGxhdGUsXG4gICAgaW50ZWdlcjogdHlwZVRlbXBsYXRlLFxuICAgIGZsb2F0OiB0eXBlVGVtcGxhdGUsXG4gICAgcmVnZXhwOiB0eXBlVGVtcGxhdGUsXG4gICAgZW1haWw6IHR5cGVUZW1wbGF0ZSxcbiAgICB1cmw6IHR5cGVUZW1wbGF0ZSxcbiAgICBoZXg6IHR5cGVUZW1wbGF0ZVxuICB9LFxuICBzdHJpbmc6IHtcbiAgICBsZW46IFwiJyR7bmFtZX0nIG11c3QgYmUgZXhhY3RseSAke2xlbn0gY2hhcmFjdGVyc1wiLFxuICAgIG1pbjogXCInJHtuYW1lfScgbXVzdCBiZSBhdCBsZWFzdCAke21pbn0gY2hhcmFjdGVyc1wiLFxuICAgIG1heDogXCInJHtuYW1lfScgY2Fubm90IGJlIGxvbmdlciB0aGFuICR7bWF4fSBjaGFyYWN0ZXJzXCIsXG4gICAgcmFuZ2U6IFwiJyR7bmFtZX0nIG11c3QgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fSBjaGFyYWN0ZXJzXCJcbiAgfSxcbiAgbnVtYmVyOiB7XG4gICAgbGVuOiBcIicke25hbWV9JyBtdXN0IGVxdWFsICR7bGVufVwiLFxuICAgIG1pbjogXCInJHtuYW1lfScgY2Fubm90IGJlIGxlc3MgdGhhbiAke21pbn1cIixcbiAgICBtYXg6IFwiJyR7bmFtZX0nIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gJHttYXh9XCIsXG4gICAgcmFuZ2U6IFwiJyR7bmFtZX0nIG11c3QgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fVwiXG4gIH0sXG4gIGFycmF5OiB7XG4gICAgbGVuOiBcIicke25hbWV9JyBtdXN0IGJlIGV4YWN0bHkgJHtsZW59IGluIGxlbmd0aFwiLFxuICAgIG1pbjogXCInJHtuYW1lfScgY2Fubm90IGJlIGxlc3MgdGhhbiAke21pbn0gaW4gbGVuZ3RoXCIsXG4gICAgbWF4OiBcIicke25hbWV9JyBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuICR7bWF4fSBpbiBsZW5ndGhcIixcbiAgICByYW5nZTogXCInJHtuYW1lfScgbXVzdCBiZSBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9IGluIGxlbmd0aFwiXG4gIH0sXG4gIHBhdHRlcm46IHtcbiAgICBtaXNtYXRjaDogXCInJHtuYW1lfScgZG9lcyBub3QgbWF0Y2ggcGF0dGVybiAke3BhdHRlcm59XCJcbiAgfVxufTsiLCJpbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiO1xuaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yXCI7XG5pbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IFJhd0FzeW5jVmFsaWRhdG9yIGZyb20gJ2FzeW5jLXZhbGlkYXRvcic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgd2FybmluZyBmcm9tIFwicmMtdXRpbC9lcy93YXJuaW5nXCI7XG5pbXBvcnQgeyBzZXRWYWx1ZXMgfSBmcm9tICcuL3ZhbHVlVXRpbCc7XG5pbXBvcnQgeyBkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyB9IGZyb20gJy4vbWVzc2FnZXMnOyAvLyBSZW1vdmUgaW5jb3JyZWN0IG9yaWdpbmFsIHRzIGRlZmluZVxuXG52YXIgQXN5bmNWYWxpZGF0b3IgPSBSYXdBc3luY1ZhbGlkYXRvcjtcbi8qKlxuICogUmVwbGFjZSB3aXRoIHRlbXBsYXRlLlxuICogICBgSSdtICR7bmFtZX1gICsgeyBuYW1lOiAnYmFtYm9vJyB9ID0gSSdtIGJhbWJvb1xuICovXG5cbmZ1bmN0aW9uIHJlcGxhY2VNZXNzYWdlKHRlbXBsYXRlLCBrdikge1xuICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFwkXFx7XFx3K1xcfS9nLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdmFyIGtleSA9IHN0ci5zbGljZSgyLCAtMSk7XG4gICAgcmV0dXJuIGt2W2tleV07XG4gIH0pO1xufVxuLyoqXG4gKiBXZSB1c2UgYGFzeW5jLXZhbGlkYXRvcmAgdG8gdmFsaWRhdGUgcnVsZXMuIFNvIGhhdmUgdG8gaG90IHJlcGxhY2UgdGhlIG1lc3NhZ2Ugd2l0aCB2YWxpZGF0b3IuXG4gKiB7IHJlcXVpcmVkOiAnJHtuYW1lfSBpcyByZXF1aXJlZCcgfSA9PiB7IHJlcXVpcmVkOiAoKSA9PiAnZmllbGQgaXMgcmVxdWlyZWQnIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbnZlcnRNZXNzYWdlcyhtZXNzYWdlcywgbmFtZSwgcnVsZSwgbWVzc2FnZVZhcmlhYmxlcykge1xuICB2YXIga3YgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJ1bGUpLCB7fSwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZW51bTogKHJ1bGUuZW51bSB8fCBbXSkuam9pbignLCAnKVxuICB9KTtcblxuICB2YXIgcmVwbGFjZUZ1bmMgPSBmdW5jdGlvbiByZXBsYWNlRnVuYyh0ZW1wbGF0ZSwgYWRkaXRpb25hbEtWKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXBsYWNlTWVzc2FnZSh0ZW1wbGF0ZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBrdiksIGFkZGl0aW9uYWxLVikpO1xuICAgIH07XG4gIH07XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5cblxuICBmdW5jdGlvbiBmaWxsVGVtcGxhdGUoc291cmNlKSB7XG4gICAgdmFyIHRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChydWxlTmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gc291cmNlW3J1bGVOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGFyZ2V0W3J1bGVOYW1lXSA9IHJlcGxhY2VGdW5jKHZhbHVlLCBtZXNzYWdlVmFyaWFibGVzKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRhcmdldFtydWxlTmFtZV0gPSB7fTtcbiAgICAgICAgZmlsbFRlbXBsYXRlKHZhbHVlLCB0YXJnZXRbcnVsZU5hbWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtydWxlTmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgKi9cblxuXG4gIHJldHVybiBmaWxsVGVtcGxhdGUoc2V0VmFsdWVzKHt9LCBkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcywgbWVzc2FnZXMpKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVSdWxlKF94LCBfeDIsIF94MywgX3g0LCBfeDUpIHtcbiAgcmV0dXJuIF92YWxpZGF0ZVJ1bGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbi8qKlxuICogV2UgdXNlIGBhc3luYy12YWxpZGF0b3JgIHRvIHZhbGlkYXRlIHRoZSB2YWx1ZS5cbiAqIEJ1dCBvbmx5IGNoZWNrIG9uZSB2YWx1ZSBpbiBhIHRpbWUgdG8gYXZvaWQgbmFtZVBhdGggdmFsaWRhdGUgaXNzdWUuXG4gKi9cblxuXG5mdW5jdGlvbiBfdmFsaWRhdGVSdWxlKCkge1xuICBfdmFsaWRhdGVSdWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIobmFtZSwgdmFsdWUsIHJ1bGUsIG9wdGlvbnMsIG1lc3NhZ2VWYXJpYWJsZXMpIHtcbiAgICB2YXIgY2xvbmVSdWxlLCBzdWJSdWxlRmllbGQsIHZhbGlkYXRvciwgbWVzc2FnZXMsIHJlc3VsdCwgc3ViUmVzdWx0cztcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNsb25lUnVsZSA9IF9vYmplY3RTcHJlYWQoe30sIHJ1bGUpOyAvLyBXZSBzaG91bGQgc3BlY2lhbCBoYW5kbGUgYXJyYXkgdmFsaWRhdGVcblxuICAgICAgICAgICAgc3ViUnVsZUZpZWxkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGNsb25lUnVsZSAmJiBjbG9uZVJ1bGUudHlwZSA9PT0gJ2FycmF5JyAmJiBjbG9uZVJ1bGUuZGVmYXVsdEZpZWxkKSB7XG4gICAgICAgICAgICAgIHN1YlJ1bGVGaWVsZCA9IGNsb25lUnVsZS5kZWZhdWx0RmllbGQ7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjbG9uZVJ1bGUuZGVmYXVsdEZpZWxkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWxpZGF0b3IgPSBuZXcgQXN5bmNWYWxpZGF0b3IoX2RlZmluZVByb3BlcnR5KHt9LCBuYW1lLCBbY2xvbmVSdWxlXSkpO1xuICAgICAgICAgICAgbWVzc2FnZXMgPSBjb252ZXJ0TWVzc2FnZXMob3B0aW9ucy52YWxpZGF0ZU1lc3NhZ2VzLCBuYW1lLCBjbG9uZVJ1bGUsIG1lc3NhZ2VWYXJpYWJsZXMpO1xuICAgICAgICAgICAgdmFsaWRhdG9yLm1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3O1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsaWRhdG9yLnZhbGlkYXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdmFsdWUpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSkpO1xuXG4gICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyO1xuICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oNyk7XG5cbiAgICAgICAgICAgIGlmIChfY29udGV4dDIudDAuZXJyb3JzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi50MC5lcnJvcnMubWFwKGZ1bmN0aW9uIChfcmVmMiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IF9yZWYyLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgvLyBXcmFwIFJlYWN0Tm9kZSB3aXRoIGBrZXlgXG5cbiAgICAgICAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgICAgICAgIFJlYWN0LmlzVmFsaWRFbGVtZW50KG1lc3NhZ2UpID8gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChtZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJlcnJvcl9cIi5jb25jYXQoaW5kZXgpXG4gICAgICAgICAgICAgICAgICB9KSA6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW21lc3NhZ2VzLmRlZmF1bHQoKV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgaWYgKCEoIXJlc3VsdC5sZW5ndGggJiYgc3ViUnVsZUZpZWxkKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoZnVuY3Rpb24gKHN1YlZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGUoXCJcIi5jb25jYXQobmFtZSwgXCIuXCIpLmNvbmNhdChpKSwgc3ViVmFsdWUsIHN1YlJ1bGVGaWVsZCwgb3B0aW9ucywgbWVzc2FnZVZhcmlhYmxlcyk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgc3ViUmVzdWx0cyA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgc3ViUmVzdWx0cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVycm9ycykge1xuICAgICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmV2KSwgX3RvQ29uc3VtYWJsZUFycmF5KGVycm9ycykpO1xuICAgICAgICAgICAgfSwgW10pKTtcblxuICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG4gICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzcsIDEyXV0pO1xuICB9KSk7XG4gIHJldHVybiBfdmFsaWRhdGVSdWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJ1bGVzKG5hbWVQYXRoLCB2YWx1ZSwgcnVsZXMsIG9wdGlvbnMsIHZhbGlkYXRlRmlyc3QsIG1lc3NhZ2VWYXJpYWJsZXMpIHtcbiAgdmFyIG5hbWUgPSBuYW1lUGF0aC5qb2luKCcuJyk7IC8vIEZpbGwgcnVsZSB3aXRoIGNvbnRleHRcblxuICB2YXIgZmlsbGVkUnVsZXMgPSBydWxlcy5tYXAoZnVuY3Rpb24gKGN1cnJlbnRSdWxlKSB7XG4gICAgdmFyIG9yaWdpblZhbGlkYXRvckZ1bmMgPSBjdXJyZW50UnVsZS52YWxpZGF0b3I7XG5cbiAgICBpZiAoIW9yaWdpblZhbGlkYXRvckZ1bmMpIHtcbiAgICAgIHJldHVybiBjdXJyZW50UnVsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyZW50UnVsZSksIHt9LCB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihydWxlLCB2YWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBoYXNQcm9taXNlID0gZmFsc2U7IC8vIFdyYXAgY2FsbGJhY2sgb25seSBhY2NlcHQgd2hlbiBwcm9taXNlIG5vdCBwcm92aWRlZFxuXG4gICAgICAgIHZhciB3cmFwcGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdhaXQgYSB0aWNrIHRvIG1ha2Ugc3VyZSByZXR1cm4gdHlwZSBpcyBhIHByb21pc2VcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoIWhhc1Byb21pc2UsICdZb3VyIHZhbGlkYXRvciBmdW5jdGlvbiBoYXMgYWxyZWFkeSByZXR1cm4gYSBwcm9taXNlLiBgY2FsbGJhY2tgIHdpbGwgYmUgaWdub3JlZC4nKTtcblxuICAgICAgICAgICAgaWYgKCFoYXNQcm9taXNlKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07IC8vIEdldCBwcm9taXNlXG5cblxuICAgICAgICB2YXIgcHJvbWlzZSA9IG9yaWdpblZhbGlkYXRvckZ1bmMocnVsZSwgdmFsLCB3cmFwcGVkQ2FsbGJhY2spO1xuICAgICAgICBoYXNQcm9taXNlID0gcHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwcm9taXNlLmNhdGNoID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAvKipcbiAgICAgICAgICogMS4gVXNlIHByb21pc2UgYXMgdGhlIGZpcnN0IHByaW9yaXR5LlxuICAgICAgICAgKiAyLiBJZiBwcm9taXNlIG5vdCBleGlzdCwgdXNlIGNhbGxiYWNrIHdpdGggd2FybmluZyBpbnN0ZWFkXG4gICAgICAgICAqL1xuXG4gICAgICAgIHdhcm5pbmcoaGFzUHJvbWlzZSwgJ2BjYWxsYmFja2AgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHJldHVybiBhIHByb21pc2UgaW5zdGVhZC4nKTtcblxuICAgICAgICBpZiAoaGFzUHJvbWlzZSkge1xuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciB8fCAnICcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB2YXIgc3VtbWFyeVByb21pc2U7XG5cbiAgaWYgKHZhbGlkYXRlRmlyc3QgPT09IHRydWUpIHtcbiAgICAvLyA+Pj4+PiBWYWxpZGF0ZSBieSBzZXJpYWxpemF0aW9uXG4gICAgc3VtbWFyeVByb21pc2UgPSBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGksIGVycm9ycztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpID0gMDtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCEoaSA8IGZpbGxlZFJ1bGVzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZVJ1bGUobmFtZSwgdmFsdWUsIGZpbGxlZFJ1bGVzW2ldLCBvcHRpb25zLCBtZXNzYWdlVmFyaWFibGVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gX2NvbnRleHQuc2VudDtcblxuICAgICAgICAgICAgICAgIGlmICghZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYsIF94Nykge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuICB9IGVsc2Uge1xuICAgIC8vID4+Pj4+IFZhbGlkYXRlIGJ5IHBhcmFsbGVsXG4gICAgdmFyIHJ1bGVQcm9taXNlcyA9IGZpbGxlZFJ1bGVzLm1hcChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlUnVsZShuYW1lLCB2YWx1ZSwgcnVsZSwgb3B0aW9ucywgbWVzc2FnZVZhcmlhYmxlcyk7XG4gICAgfSk7XG4gICAgc3VtbWFyeVByb21pc2UgPSAodmFsaWRhdGVGaXJzdCA/IGZpbmlzaE9uRmlyc3RGYWlsZWQocnVsZVByb21pc2VzKSA6IGZpbmlzaE9uQWxsRmFpbGVkKHJ1bGVQcm9taXNlcykpLnRoZW4oZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgaWYgKCFlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9ycyk7XG4gICAgfSk7XG4gIH0gLy8gSW50ZXJuYWwgY2F0Y2ggZXJyb3IgdG8gYXZvaWQgY29uc29sZSBlcnJvciBsb2cuXG5cblxuICBzdW1tYXJ5UHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlO1xuICB9KTtcbiAgcmV0dXJuIHN1bW1hcnlQcm9taXNlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hPbkFsbEZhaWxlZChfeDgpIHtcbiAgcmV0dXJuIF9maW5pc2hPbkFsbEZhaWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfZmluaXNoT25BbGxGYWlsZWQoKSB7XG4gIF9maW5pc2hPbkFsbEZhaWxlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJ1bGVQcm9taXNlcykge1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5hbGwocnVsZVByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChlcnJvcnNMaXN0KSB7XG4gICAgICAgICAgICAgIHZhciBfcmVmMztcblxuICAgICAgICAgICAgICB2YXIgZXJyb3JzID0gKF9yZWYzID0gW10pLmNvbmNhdC5hcHBseShfcmVmMywgX3RvQ29uc3VtYWJsZUFycmF5KGVycm9yc0xpc3QpKTtcblxuICAgICAgICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTMpO1xuICB9KSk7XG4gIHJldHVybiBfZmluaXNoT25BbGxGYWlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gZmluaXNoT25GaXJzdEZhaWxlZChfeDkpIHtcbiAgcmV0dXJuIF9maW5pc2hPbkZpcnN0RmFpbGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9maW5pc2hPbkZpcnN0RmFpbGVkKCkge1xuICBfZmluaXNoT25GaXJzdEZhaWxlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJ1bGVQcm9taXNlcykge1xuICAgIHZhciBjb3VudDtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgIHJ1bGVQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBydWxlUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU0KTtcbiAgfSkpO1xuICByZXR1cm4gX2ZpbmlzaE9uRmlyc3RGYWlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuaW1wb3J0IHRvQ2hpbGRyZW5BcnJheSBmcm9tIFwicmMtdXRpbC9lcy9DaGlsZHJlbi90b0FycmF5XCI7XG5pbXBvcnQgd2FybmluZyBmcm9tIFwicmMtdXRpbC9lcy93YXJuaW5nXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRmllbGRDb250ZXh0LCB7IEhPT0tfTUFSSyB9IGZyb20gJy4vRmllbGRDb250ZXh0JztcbmltcG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuL3V0aWxzL3R5cGVVdGlsJztcbmltcG9ydCB7IHZhbGlkYXRlUnVsZXMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRlVXRpbCc7XG5pbXBvcnQgeyBjb250YWluc05hbWVQYXRoLCBkZWZhdWx0R2V0VmFsdWVGcm9tRXZlbnQsIGdldE5hbWVQYXRoLCBnZXRWYWx1ZSB9IGZyb20gJy4vdXRpbHMvdmFsdWVVdGlsJztcblxuZnVuY3Rpb24gcmVxdWlyZVVwZGF0ZShzaG91bGRVcGRhdGUsIHByZXYsIG5leHQsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbmZvKSB7XG4gIGlmICh0eXBlb2Ygc2hvdWxkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZShwcmV2LCBuZXh0LCAnc291cmNlJyBpbiBpbmZvID8ge1xuICAgICAgc291cmNlOiBpbmZvLnNvdXJjZVxuICAgIH0gOiB7fSk7XG4gIH1cblxuICByZXR1cm4gcHJldlZhbHVlICE9PSBuZXh0VmFsdWU7XG59IC8vIFdlIHVzZSBDbGFzcyBpbnN0ZWFkIG9mIEhvb2tzIGhlcmUgc2luY2UgaXQgd2lsbCBjb3N0IG11Y2ggY29kZSBieSB1c2luZyBIb29rcy5cblxuXG52YXIgRmllbGQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZpZWxkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZpZWxkKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU3Vic2NyaXB0aW9ucyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgZnVuY3Rpb24gRmllbGQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmllbGQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICByZXNldENvdW50OiAwXG4gICAgfTtcbiAgICBfdGhpcy5jYW5jZWxSZWdpc3RlckZ1bmMgPSBudWxsO1xuICAgIF90aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBGb2xsb3cgc3RhdGUgc2hvdWxkIG5vdCBtYW5hZ2VtZW50IGluIFN0YXRlIHNpbmNlIGl0IHdpbGwgYXN5bmMgdXBkYXRlIGJ5IFJlYWN0LlxuICAgICAqIFRoaXMgbWFrZXMgZmlyc3QgcmVuZGVyIG9mIGZvcm0gY2FuIG5vdCBnZXQgY29ycmVjdCBzdGF0ZSB2YWx1ZS5cbiAgICAgKi9cblxuICAgIF90aGlzLnRvdWNoZWQgPSBmYWxzZTtcbiAgICAvKiogTWFyayB3aGVuIHRvdWNoZWQgJiB2YWxpZGF0ZWQuIEN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGBkZXBlbmRlbmNpZXNgICovXG5cbiAgICBfdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9IG51bGw7XG4gICAgX3RoaXMuZXJyb3JzID0gW107XG5cbiAgICBfdGhpcy5jYW5jZWxSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHByZXNlcnZlID0gX3RoaXMkcHJvcHMucHJlc2VydmUsXG4gICAgICAgICAgaXNMaXN0RmllbGQgPSBfdGhpcyRwcm9wcy5pc0xpc3RGaWVsZCxcbiAgICAgICAgICBuYW1lID0gX3RoaXMkcHJvcHMubmFtZTtcblxuICAgICAgaWYgKF90aGlzLmNhbmNlbFJlZ2lzdGVyRnVuYykge1xuICAgICAgICBfdGhpcy5jYW5jZWxSZWdpc3RlckZ1bmMoaXNMaXN0RmllbGQsIHByZXNlcnZlLCBnZXROYW1lUGF0aChuYW1lKSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNhbmNlbFJlZ2lzdGVyRnVuYyA9IG51bGw7XG4gICAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBVdGlscyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIF90aGlzLmdldE5hbWVQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZSxcbiAgICAgICAgICBmaWVsZENvbnRleHQgPSBfdGhpcyRwcm9wczIuZmllbGRDb250ZXh0O1xuICAgICAgdmFyIF9maWVsZENvbnRleHQkcHJlZml4TiA9IGZpZWxkQ29udGV4dC5wcmVmaXhOYW1lLFxuICAgICAgICAgIHByZWZpeE5hbWUgPSBfZmllbGRDb250ZXh0JHByZWZpeE4gPT09IHZvaWQgMCA/IFtdIDogX2ZpZWxkQ29udGV4dCRwcmVmaXhOO1xuICAgICAgcmV0dXJuIG5hbWUgIT09IHVuZGVmaW5lZCA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJlZml4TmFtZSksIF90b0NvbnN1bWFibGVBcnJheShuYW1lKSkgOiBbXTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0UnVsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgX3RoaXMkcHJvcHMzJHJ1bGVzID0gX3RoaXMkcHJvcHMzLnJ1bGVzLFxuICAgICAgICAgIHJ1bGVzID0gX3RoaXMkcHJvcHMzJHJ1bGVzID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHByb3BzMyRydWxlcyxcbiAgICAgICAgICBmaWVsZENvbnRleHQgPSBfdGhpcyRwcm9wczMuZmllbGRDb250ZXh0O1xuICAgICAgcmV0dXJuIHJ1bGVzLm1hcChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHJ1bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcnVsZShmaWVsZENvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMubW91bnRlZCkgcmV0dXJuO1xuICAgICAgLyoqXG4gICAgICAgKiBDbGVhbiB1cCBjdXJyZW50IG5vZGUuXG4gICAgICAgKi9cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIHJlc2V0Q291bnQgPSBfcmVmLnJlc2V0Q291bnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXRDb3VudDogcmVzZXRDb3VudCArIDFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gRmllbGQgRW50aXR5IEludGVyZmFjZXMgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFRyaWdnZXIgYnkgc3RvcmUgdXBkYXRlLiBDaGVjayBpZiBuZWVkIHVwZGF0ZSB0aGUgY29tcG9uZW50XG5cblxuICAgIF90aGlzLm9uU3RvcmVDaGFuZ2UgPSBmdW5jdGlvbiAocHJldlN0b3JlLCBuYW1lUGF0aExpc3QsIGluZm8pIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBzaG91bGRVcGRhdGUgPSBfdGhpcyRwcm9wczQuc2hvdWxkVXBkYXRlLFxuICAgICAgICAgIF90aGlzJHByb3BzNCRkZXBlbmRlbiA9IF90aGlzJHByb3BzNC5kZXBlbmRlbmNpZXMsXG4gICAgICAgICAgZGVwZW5kZW5jaWVzID0gX3RoaXMkcHJvcHM0JGRlcGVuZGVuID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHByb3BzNCRkZXBlbmRlbixcbiAgICAgICAgICBvblJlc2V0ID0gX3RoaXMkcHJvcHM0Lm9uUmVzZXQ7XG4gICAgICB2YXIgc3RvcmUgPSBpbmZvLnN0b3JlO1xuXG4gICAgICB2YXIgbmFtZVBhdGggPSBfdGhpcy5nZXROYW1lUGF0aCgpO1xuXG4gICAgICB2YXIgcHJldlZhbHVlID0gX3RoaXMuZ2V0VmFsdWUocHJldlN0b3JlKTtcblxuICAgICAgdmFyIGN1clZhbHVlID0gX3RoaXMuZ2V0VmFsdWUoc3RvcmUpO1xuXG4gICAgICB2YXIgbmFtZVBhdGhNYXRjaCA9IG5hbWVQYXRoTGlzdCAmJiBjb250YWluc05hbWVQYXRoKG5hbWVQYXRoTGlzdCwgbmFtZVBhdGgpOyAvLyBgc2V0RmllbGRzVmFsdWVgIGlzIGEgcXVpY2sgYWNjZXNzIHRvIHVwZGF0ZSByZWxhdGVkIHN0YXR1c1xuXG4gICAgICBpZiAoaW5mby50eXBlID09PSAndmFsdWVVcGRhdGUnICYmIGluZm8uc291cmNlID09PSAnZXh0ZXJuYWwnICYmIHByZXZWYWx1ZSAhPT0gY3VyVmFsdWUpIHtcbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudmFsaWRhdGVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuZXJyb3JzID0gW107XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoaW5mby50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3Jlc2V0JzpcbiAgICAgICAgICBpZiAoIW5hbWVQYXRoTGlzdCB8fCBuYW1lUGF0aE1hdGNoKSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBzdGF0ZVxuICAgICAgICAgICAgX3RoaXMudG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKG9uUmVzZXQpIHtcbiAgICAgICAgICAgICAgb25SZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzZXRGaWVsZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5hbWVQYXRoTWF0Y2gpIHtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBpbmZvLmRhdGE7XG5cbiAgICAgICAgICAgICAgaWYgKCd0b3VjaGVkJyBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudG91Y2hlZCA9IGRhdGEudG91Y2hlZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgndmFsaWRhdGluZycgaW4gZGF0YSAmJiAhKCdvcmlnaW5SQ0ZpZWxkJyBpbiBkYXRhKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9IGRhdGEudmFsaWRhdGluZyA/IFByb21pc2UucmVzb2x2ZShbXSkgOiBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCdlcnJvcnMnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBkYXRhLmVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBfdGhpcy5yZVJlbmRlcigpO1xuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gSGFuZGxlIHVwZGF0ZSBieSBgc2V0RmllbGRgIHdpdGggYHNob3VsZFVwZGF0ZWBcblxuXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICYmICFuYW1lUGF0aC5sZW5ndGggJiYgcmVxdWlyZVVwZGF0ZShzaG91bGRVcGRhdGUsIHByZXZTdG9yZSwgc3RvcmUsIHByZXZWYWx1ZSwgY3VyVmFsdWUsIGluZm8pKSB7XG4gICAgICAgICAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZGVwZW5kZW5jaWVzVXBkYXRlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyaWdnZXIgd2hlbiBtYXJrZWQgYGRlcGVuZGVuY2llc2AgdXBkYXRlZC4gUmVsYXRlZCBmaWVsZHMgd2lsbCBhbGwgdXBkYXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmN5TGlzdCA9IGRlcGVuZGVuY2llcy5tYXAoZ2V0TmFtZVBhdGgpOyAvLyBObyBuZWVkIGZvciBgbmFtZVBhdGhNYXRoYCBjaGVjayBhbmQgYHNob3VsZFVwZGF0ZWAgY2hlY2ssIHNpbmNlIGB2YWx1ZVVwZGF0ZWAgd2lsbCBiZVxuICAgICAgICAgICAgLy8gZW1pdHRlZCBlYXJsaWVyIGFuZCB0aGV5IHdpbGwgd29yayB0aGVyZVxuICAgICAgICAgICAgLy8gSWYgc2V0IGl0IG1heSBjYXVzZSB1bm5lY2Vzc2FyeSB0d2ljZSByZXJlbmRlcmluZ1xuXG4gICAgICAgICAgICBpZiAoZGVwZW5kZW5jeUxpc3Quc29tZShmdW5jdGlvbiAoZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNOYW1lUGF0aChpbmZvLnJlbGF0ZWRGaWVsZHMsIGRlcGVuZGVuY3kpO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgX3RoaXMucmVSZW5kZXIoKTtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIDEuIElmIGBuYW1lUGF0aGAgZXhpc3RzIGluIGBuYW1lUGF0aExpc3RgLCBtZWFucyBpdCdzIHJlbGF0ZWQgdmFsdWUgYW5kIHNob3VsZCB1cGRhdGVcbiAgICAgICAgICAvLyAgICAgIEZvciBleGFtcGxlIDxMaXN0IG5hbWU9XCJsaXN0XCI+PEZpZWxkIG5hbWU9e1snbGlzdCcsIDBdfT48L0xpc3Q+XG4gICAgICAgICAgLy8gICAgICBJZiBgbmFtZVBhdGhMaXN0YCBpcyBbWydsaXN0J11dIChMaXN0IHZhbHVlIHVwZGF0ZSksIEZpZWxkIHNob3VsZCBiZSB1cGRhdGVkXG4gICAgICAgICAgLy8gICAgICBJZiBgbmFtZVBhdGhMaXN0YCBpcyBbWydsaXN0JywgMF1dIChGaWVsZCB2YWx1ZSB1cGRhdGUpLCBMaXN0IHNob3VsZG4ndCBiZSB1cGRhdGVkXG4gICAgICAgICAgLy8gMi5cbiAgICAgICAgICAvLyAgIDIuMSBJZiBgZGVwZW5kZW5jaWVzYCBpcyBzZXQsIGBuYW1lYCBpcyBub3Qgc2V0IGFuZCBgc2hvdWxkVXBkYXRlYCBpcyBub3Qgc2V0LFxuICAgICAgICAgIC8vICAgICAgIGRvbid0IHVzZSBgc2hvdWxkVXBkYXRlYC4gYGRlcGVuZGVuY2llc2AgaXMgdmlldyBhcyBhIHNob3J0Y3V0IGlmIGBzaG91bGRVcGRhdGVgXG4gICAgICAgICAgLy8gICAgICAgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgICAgLy8gICAyLjIgSWYgYHNob3VsZFVwZGF0ZWAgcHJvdmlkZWQsIHVzZSBjdXN0b21pemUgbG9naWMgdG8gdXBkYXRlIHRoZSBmaWVsZFxuICAgICAgICAgIC8vICAgICAgIGVsc2UgdG8gY2hlY2sgaWYgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgIGlmIChuYW1lUGF0aE1hdGNoIHx8ICghZGVwZW5kZW5jaWVzLmxlbmd0aCB8fCBuYW1lUGF0aC5sZW5ndGggfHwgc2hvdWxkVXBkYXRlKSAmJiByZXF1aXJlVXBkYXRlKHNob3VsZFVwZGF0ZSwgcHJldlN0b3JlLCBzdG9yZSwgcHJldlZhbHVlLCBjdXJWYWx1ZSwgaW5mbykpIHtcbiAgICAgICAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBfdGhpcy5yZVJlbmRlcigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy52YWxpZGF0ZVJ1bGVzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIC8vIFdlIHNob3VsZCBmaXhlZCBuYW1lUGF0aCAmIHZhbHVlIHRvIGF2b2lkIGRldmVsb3BlciBjaGFuZ2UgdGhlbiBieSBmb3JtIGZ1bmN0aW9uXG4gICAgICB2YXIgbmFtZVBhdGggPSBfdGhpcy5nZXROYW1lUGF0aCgpO1xuXG4gICAgICB2YXIgY3VycmVudFZhbHVlID0gX3RoaXMuZ2V0VmFsdWUoKTsgLy8gRm9yY2UgY2hhbmdlIHRvIGFzeW5jIHRvIGF2b2lkIHJ1bGUgT09EIHVuZGVyIHJlbmRlclByb3BzIGZpZWxkXG5cblxuICAgICAgdmFyIHJvb3RQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMubW91bnRlZCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF90aGlzJHByb3BzNSR2YWxpZGF0ZSA9IF90aGlzJHByb3BzNS52YWxpZGF0ZUZpcnN0LFxuICAgICAgICAgICAgdmFsaWRhdGVGaXJzdCA9IF90aGlzJHByb3BzNSR2YWxpZGF0ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRwcm9wczUkdmFsaWRhdGUsXG4gICAgICAgICAgICBtZXNzYWdlVmFyaWFibGVzID0gX3RoaXMkcHJvcHM1Lm1lc3NhZ2VWYXJpYWJsZXM7XG5cbiAgICAgICAgdmFyIF9yZWYyID0gb3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICAgIHRyaWdnZXJOYW1lID0gX3JlZjIudHJpZ2dlck5hbWU7XG5cbiAgICAgICAgdmFyIGZpbHRlcmVkUnVsZXMgPSBfdGhpcy5nZXRSdWxlcygpO1xuXG4gICAgICAgIGlmICh0cmlnZ2VyTmFtZSkge1xuICAgICAgICAgIGZpbHRlcmVkUnVsZXMgPSBmaWx0ZXJlZFJ1bGVzLmZpbHRlcihmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkYXRlVHJpZ2dlciA9IHJ1bGUudmFsaWRhdGVUcmlnZ2VyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlVHJpZ2dlcikge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyaWdnZXJMaXN0ID0gdG9BcnJheSh2YWxpZGF0ZVRyaWdnZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJMaXN0LmluY2x1ZGVzKHRyaWdnZXJOYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9taXNlID0gdmFsaWRhdGVSdWxlcyhuYW1lUGF0aCwgY3VycmVudFZhbHVlLCBmaWx0ZXJlZFJ1bGVzLCBvcHRpb25zLCB2YWxpZGF0ZUZpcnN0LCBtZXNzYWdlVmFyaWFibGVzKTtcbiAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZXJyb3JzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgICAgICAgIGlmIChfdGhpcy52YWxpZGF0ZVByb21pc2UgPT09IHJvb3RQcm9taXNlKSB7XG4gICAgICAgICAgICBfdGhpcy52YWxpZGF0ZVByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gZXJyb3JzO1xuXG4gICAgICAgICAgICBfdGhpcy5yZVJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy52YWxpZGF0ZVByb21pc2UgPSByb290UHJvbWlzZTtcbiAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIF90aGlzLmVycm9ycyA9IFtdOyAvLyBGb3JjZSB0cmlnZ2VyIHJlLXJlbmRlciBzaW5jZSB3ZSBuZWVkIHN5bmMgcmVuZGVyUHJvcHMgd2l0aCBuZXcgbWV0YVxuXG4gICAgICBfdGhpcy5yZVJlbmRlcigpO1xuXG4gICAgICByZXR1cm4gcm9vdFByb21pc2U7XG4gICAgfTtcblxuICAgIF90aGlzLmlzRmllbGRWYWxpZGF0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICEhX3RoaXMudmFsaWRhdGVQcm9taXNlO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc0ZpZWxkVG91Y2hlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy50b3VjaGVkO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc0ZpZWxkRGlydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZGlydHk7XG4gICAgfTtcblxuICAgIF90aGlzLmdldEVycm9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5lcnJvcnM7XG4gICAgfTtcblxuICAgIF90aGlzLmlzTGlzdEZpZWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLmlzTGlzdEZpZWxkO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc0xpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMuaXNMaXN0O1xuICAgIH07XG5cbiAgICBfdGhpcy5pc1ByZXNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnByZXNlcnZlO1xuICAgIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENoaWxkIENvbXBvbmVudCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICBfdGhpcy5nZXRNZXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gTWFrZSBlcnJvciAmIHZhbGlkYXRpbmcgaW4gY2FjaGUgdG8gc2F2ZSBwZXJmXG4gICAgICBfdGhpcy5wcmV2VmFsaWRhdGluZyA9IF90aGlzLmlzRmllbGRWYWxpZGF0aW5nKCk7XG4gICAgICB2YXIgbWV0YSA9IHtcbiAgICAgICAgdG91Y2hlZDogX3RoaXMuaXNGaWVsZFRvdWNoZWQoKSxcbiAgICAgICAgdmFsaWRhdGluZzogX3RoaXMucHJldlZhbGlkYXRpbmcsXG4gICAgICAgIGVycm9yczogX3RoaXMuZXJyb3JzLFxuICAgICAgICBuYW1lOiBfdGhpcy5nZXROYW1lUGF0aCgpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG1ldGE7XG4gICAgfTsgLy8gT25seSByZXR1cm4gdmFsaWRhdGUgY2hpbGQgbm9kZS4gSWYgaW52YWxpZGF0ZSwgd2lsbCBkbyBub3RoaW5nIGFib3V0IGZpZWxkLlxuXG5cbiAgICBfdGhpcy5nZXRPbmx5Q2hpbGQgPSBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgIC8vIFN1cHBvcnQgcmVuZGVyIHByb3BzXG4gICAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBtZXRhID0gX3RoaXMuZ2V0TWV0YSgpO1xuXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzLmdldE9ubHlDaGlsZChjaGlsZHJlbihfdGhpcy5nZXRDb250cm9sbGVkKCksIG1ldGEsIF90aGlzLnByb3BzLmZpZWxkQ29udGV4dCkpKSwge30sIHtcbiAgICAgICAgICBpc0Z1bmN0aW9uOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBGaWxlZCBlbGVtZW50IG9ubHlcblxuXG4gICAgICB2YXIgY2hpbGRMaXN0ID0gdG9DaGlsZHJlbkFycmF5KGNoaWxkcmVuKTtcblxuICAgICAgaWYgKGNoaWxkTGlzdC5sZW5ndGggIT09IDEgfHwgISAvKiNfX1BVUkVfXyovUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRMaXN0WzBdKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoaWxkOiBjaGlsZExpc3QsXG4gICAgICAgICAgaXNGdW5jdGlvbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2hpbGQ6IGNoaWxkTGlzdFswXSxcbiAgICAgICAgaXNGdW5jdGlvbjogZmFsc2VcbiAgICAgIH07XG4gICAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZpZWxkIENvbnRyb2wgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIF90aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgICB2YXIgZ2V0RmllbGRzVmFsdWUgPSBfdGhpcy5wcm9wcy5maWVsZENvbnRleHQuZ2V0RmllbGRzVmFsdWU7XG5cbiAgICAgIHZhciBuYW1lUGF0aCA9IF90aGlzLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgIHJldHVybiBnZXRWYWx1ZShzdG9yZSB8fCBnZXRGaWVsZHNWYWx1ZSh0cnVlKSwgbmFtZVBhdGgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRDb250cm9sbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNoaWxkUHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHRyaWdnZXIgPSBfdGhpcyRwcm9wczYudHJpZ2dlcixcbiAgICAgICAgICB2YWxpZGF0ZVRyaWdnZXIgPSBfdGhpcyRwcm9wczYudmFsaWRhdGVUcmlnZ2VyLFxuICAgICAgICAgIGdldFZhbHVlRnJvbUV2ZW50ID0gX3RoaXMkcHJvcHM2LmdldFZhbHVlRnJvbUV2ZW50LFxuICAgICAgICAgIG5vcm1hbGl6ZSA9IF90aGlzJHByb3BzNi5ub3JtYWxpemUsXG4gICAgICAgICAgdmFsdWVQcm9wTmFtZSA9IF90aGlzJHByb3BzNi52YWx1ZVByb3BOYW1lLFxuICAgICAgICAgIGdldFZhbHVlUHJvcHMgPSBfdGhpcyRwcm9wczYuZ2V0VmFsdWVQcm9wcyxcbiAgICAgICAgICBmaWVsZENvbnRleHQgPSBfdGhpcyRwcm9wczYuZmllbGRDb250ZXh0O1xuICAgICAgdmFyIG1lcmdlZFZhbGlkYXRlVHJpZ2dlciA9IHZhbGlkYXRlVHJpZ2dlciAhPT0gdW5kZWZpbmVkID8gdmFsaWRhdGVUcmlnZ2VyIDogZmllbGRDb250ZXh0LnZhbGlkYXRlVHJpZ2dlcjtcblxuICAgICAgdmFyIG5hbWVQYXRoID0gX3RoaXMuZ2V0TmFtZVBhdGgoKTtcblxuICAgICAgdmFyIGdldEludGVybmFsSG9va3MgPSBmaWVsZENvbnRleHQuZ2V0SW50ZXJuYWxIb29rcyxcbiAgICAgICAgICBnZXRGaWVsZHNWYWx1ZSA9IGZpZWxkQ29udGV4dC5nZXRGaWVsZHNWYWx1ZTtcblxuICAgICAgdmFyIF9nZXRJbnRlcm5hbEhvb2tzID0gZ2V0SW50ZXJuYWxIb29rcyhIT09LX01BUkspLFxuICAgICAgICAgIGRpc3BhdGNoID0gX2dldEludGVybmFsSG9va3MuZGlzcGF0Y2g7XG5cbiAgICAgIHZhciB2YWx1ZSA9IF90aGlzLmdldFZhbHVlKCk7XG5cbiAgICAgIHZhciBtZXJnZWRHZXRWYWx1ZVByb3BzID0gZ2V0VmFsdWVQcm9wcyB8fCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIHZhbHVlUHJvcE5hbWUsIHZhbCk7XG4gICAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXG5cbiAgICAgIHZhciBvcmlnaW5UcmlnZ2VyRnVuYyA9IGNoaWxkUHJvcHNbdHJpZ2dlcl07XG5cbiAgICAgIHZhciBjb250cm9sID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjaGlsZFByb3BzKSwgbWVyZ2VkR2V0VmFsdWVQcm9wcyh2YWx1ZSkpOyAvLyBBZGQgdHJpZ2dlclxuXG5cbiAgICAgIGNvbnRyb2xbdHJpZ2dlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE1hcmsgYXMgdG91Y2hlZFxuICAgICAgICBfdGhpcy50b3VjaGVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB2YXIgbmV3VmFsdWU7XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRWYWx1ZUZyb21FdmVudCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gZ2V0VmFsdWVGcm9tRXZlbnQuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IGRlZmF1bHRHZXRWYWx1ZUZyb21FdmVudC5hcHBseSh2b2lkIDAsIFt2YWx1ZVByb3BOYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gbm9ybWFsaXplKG5ld1ZhbHVlLCB2YWx1ZSwgZ2V0RmllbGRzVmFsdWUodHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICd1cGRhdGVWYWx1ZScsXG4gICAgICAgICAgbmFtZVBhdGg6IG5hbWVQYXRoLFxuICAgICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3JpZ2luVHJpZ2dlckZ1bmMpIHtcbiAgICAgICAgICBvcmlnaW5UcmlnZ2VyRnVuYy5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9OyAvLyBBZGQgdmFsaWRhdGVUcmlnZ2VyXG5cblxuICAgICAgdmFyIHZhbGlkYXRlVHJpZ2dlckxpc3QgPSB0b0FycmF5KG1lcmdlZFZhbGlkYXRlVHJpZ2dlciB8fCBbXSk7XG4gICAgICB2YWxpZGF0ZVRyaWdnZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXJOYW1lKSB7XG4gICAgICAgIC8vIFdyYXAgYWRkaXRpb25hbCBmdW5jdGlvbiBvZiBjb21wb25lbnQsIHNvIHRoYXQgd2UgY2FuIGdldCBsYXRlc3QgdmFsdWUgZnJvbSBzdG9yZVxuICAgICAgICB2YXIgb3JpZ2luVHJpZ2dlciA9IGNvbnRyb2xbdHJpZ2dlck5hbWVdO1xuXG4gICAgICAgIGNvbnRyb2xbdHJpZ2dlck5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvcmlnaW5UcmlnZ2VyKSB7XG4gICAgICAgICAgICBvcmlnaW5UcmlnZ2VyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9IC8vIEFsd2F5cyB1c2UgbGF0ZXN0IHJ1bGVzXG5cblxuICAgICAgICAgIHZhciBydWxlcyA9IF90aGlzLnByb3BzLnJ1bGVzO1xuXG4gICAgICAgICAgaWYgKHJ1bGVzICYmIHJ1bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gV2UgZGlzcGF0Y2ggdmFsaWRhdGUgdG8gcm9vdCxcbiAgICAgICAgICAgIC8vIHNpbmNlIGl0IHdpbGwgdXBkYXRlIHJlbGF0ZWQgZGF0YSB3aXRoIG90aGVyIGZpZWxkIHdpdGggc2FtZSBuYW1lXG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgIHR5cGU6ICd2YWxpZGF0ZUZpZWxkJyxcbiAgICAgICAgICAgICAgbmFtZVBhdGg6IG5hbWVQYXRoLFxuICAgICAgICAgICAgICB0cmlnZ2VyTmFtZTogdHJpZ2dlck5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbnRyb2w7XG4gICAgfTsgLy8gUmVnaXN0ZXIgb24gaW5pdFxuXG5cbiAgICBpZiAocHJvcHMuZmllbGRDb250ZXh0KSB7XG4gICAgICB2YXIgZ2V0SW50ZXJuYWxIb29rcyA9IHByb3BzLmZpZWxkQ29udGV4dC5nZXRJbnRlcm5hbEhvb2tzO1xuXG4gICAgICB2YXIgX2dldEludGVybmFsSG9va3MyID0gZ2V0SW50ZXJuYWxIb29rcyhIT09LX01BUkspLFxuICAgICAgICAgIGluaXRFbnRpdHlWYWx1ZSA9IF9nZXRJbnRlcm5hbEhvb2tzMi5pbml0RW50aXR5VmFsdWU7XG5cbiAgICAgIGluaXRFbnRpdHlWYWx1ZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpZWxkLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IF90aGlzJHByb3BzNy5zaG91bGRVcGRhdGUsXG4gICAgICAgICAgZmllbGRDb250ZXh0ID0gX3RoaXMkcHJvcHM3LmZpZWxkQ29udGV4dDtcbiAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7IC8vIFJlZ2lzdGVyIG9uIGluaXRcblxuICAgICAgaWYgKGZpZWxkQ29udGV4dCkge1xuICAgICAgICB2YXIgZ2V0SW50ZXJuYWxIb29rcyA9IGZpZWxkQ29udGV4dC5nZXRJbnRlcm5hbEhvb2tzO1xuXG4gICAgICAgIHZhciBfZ2V0SW50ZXJuYWxIb29rczMgPSBnZXRJbnRlcm5hbEhvb2tzKEhPT0tfTUFSSyksXG4gICAgICAgICAgICByZWdpc3RlckZpZWxkID0gX2dldEludGVybmFsSG9va3MzLnJlZ2lzdGVyRmllbGQ7XG5cbiAgICAgICAgdGhpcy5jYW5jZWxSZWdpc3RlckZ1bmMgPSByZWdpc3RlckZpZWxkKHRoaXMpO1xuICAgICAgfSAvLyBPbmUgbW9yZSByZW5kZXIgZm9yIGNvbXBvbmVudCBpbiBjYXNlIGZpZWxkcyBub3QgcmVhZHlcblxuXG4gICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMucmVSZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLmNhbmNlbFJlZ2lzdGVyKCk7XG4gICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVSZW5kZXIoKSB7XG4gICAgICBpZiAoIXRoaXMubW91bnRlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHJlc2V0Q291bnQgPSB0aGlzLnN0YXRlLnJlc2V0Q291bnQ7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0T25seUNoaWxkID0gdGhpcy5nZXRPbmx5Q2hpbGQoY2hpbGRyZW4pLFxuICAgICAgICAgIGNoaWxkID0gX3RoaXMkZ2V0T25seUNoaWxkLmNoaWxkLFxuICAgICAgICAgIGlzRnVuY3Rpb24gPSBfdGhpcyRnZXRPbmx5Q2hpbGQuaXNGdW5jdGlvbjsgLy8gTm90IG5lZWQgdG8gYGNsb25lRWxlbWVudGAgc2luY2UgdXNlciBjYW4gaGFuZGxlIHRoaXMgaW4gcmVuZGVyIGZ1bmN0aW9uIHNlbGZcblxuXG4gICAgICB2YXIgcmV0dXJuQ2hpbGROb2RlO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbikge1xuICAgICAgICByZXR1cm5DaGlsZE5vZGUgPSBjaGlsZDtcbiAgICAgIH0gZWxzZSBpZiAoIC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgcmV0dXJuQ2hpbGROb2RlID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgdGhpcy5nZXRDb250cm9sbGVkKGNoaWxkLnByb3BzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKCFjaGlsZCwgJ2BjaGlsZHJlbmAgb2YgRmllbGQgaXMgbm90IHZhbGlkYXRlIFJlYWN0RWxlbWVudC4nKTtcbiAgICAgICAgcmV0dXJuQ2hpbGROb2RlID0gY2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge1xuICAgICAgICBrZXk6IHJlc2V0Q291bnRcbiAgICAgIH0sIHJldHVybkNoaWxkTm9kZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpZWxkO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5GaWVsZC5jb250ZXh0VHlwZSA9IEZpZWxkQ29udGV4dDtcbkZpZWxkLmRlZmF1bHRQcm9wcyA9IHtcbiAgdHJpZ2dlcjogJ29uQ2hhbmdlJyxcbiAgdmFsdWVQcm9wTmFtZTogJ3ZhbHVlJ1xufTtcblxuZnVuY3Rpb24gV3JhcHBlckZpZWxkKF9yZWY0KSB7XG4gIHZhciBuYW1lID0gX3JlZjQubmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmNCwgW1wibmFtZVwiXSk7XG5cbiAgdmFyIGZpZWxkQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRmllbGRDb250ZXh0KTtcbiAgdmFyIG5hbWVQYXRoID0gbmFtZSAhPT0gdW5kZWZpbmVkID8gZ2V0TmFtZVBhdGgobmFtZSkgOiB1bmRlZmluZWQ7XG4gIHZhciBrZXkgPSAna2VlcCc7XG5cbiAgaWYgKCFyZXN0UHJvcHMuaXNMaXN0RmllbGQpIHtcbiAgICBrZXkgPSBcIl9cIi5jb25jYXQoKG5hbWVQYXRoIHx8IFtdKS5qb2luKCdfJykpO1xuICB9IC8vIFdhcm5pbmcgaWYgaXQncyBhIGRpcmVjdGx5IGxpc3QgZmllbGQuXG4gIC8vIFdlIGNhbiBzdGlsbCBzdXBwb3J0IG11bHRpcGxlIGxldmVsIGZpZWxkIHByZXNlcnZlLlxuXG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcmVzdFByb3BzLnByZXNlcnZlID09PSBmYWxzZSAmJiByZXN0UHJvcHMuaXNMaXN0RmllbGQgJiYgbmFtZVBhdGgubGVuZ3RoIDw9IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnYHByZXNlcnZlYCBzaG91bGQgbm90IGFwcGx5IG9uIEZvcm0uTGlzdCBmaWVsZHMuJyk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmllbGQsIF9leHRlbmRzKHtcbiAgICBrZXk6IGtleSxcbiAgICBuYW1lOiBuYW1lUGF0aFxuICB9LCByZXN0UHJvcHMsIHtcbiAgICBmaWVsZENvbnRleHQ6IGZpZWxkQ29udGV4dFxuICB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZXJGaWVsZDsiLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbmltcG9ydCBGaWVsZENvbnRleHQgZnJvbSAnLi9GaWVsZENvbnRleHQnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQnO1xuaW1wb3J0IHsgbW92ZSBhcyBfbW92ZSwgZ2V0TmFtZVBhdGggfSBmcm9tICcuL3V0aWxzL3ZhbHVlVXRpbCc7XG5cbnZhciBMaXN0ID0gZnVuY3Rpb24gTGlzdChfcmVmKSB7XG4gIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgaW5pdGlhbFZhbHVlID0gX3JlZi5pbml0aWFsVmFsdWUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBydWxlcyA9IF9yZWYucnVsZXMsXG4gICAgICB2YWxpZGF0ZVRyaWdnZXIgPSBfcmVmLnZhbGlkYXRlVHJpZ2dlcjtcbiAgdmFyIGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEZpZWxkQ29udGV4dCk7XG4gIHZhciBrZXlSZWYgPSBSZWFjdC51c2VSZWYoe1xuICAgIGtleXM6IFtdLFxuICAgIGlkOiAwXG4gIH0pO1xuICB2YXIga2V5TWFuYWdlciA9IGtleVJlZi5jdXJyZW50OyAvLyBVc2VyIHNob3VsZCBub3QgcGFzcyBgY2hpbGRyZW5gIGFzIG90aGVyIHR5cGUuXG5cbiAgaWYgKHR5cGVvZiBjaGlsZHJlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdGb3JtLkxpc3Qgb25seSBhY2NlcHRzIGZ1bmN0aW9uIGFzIGNoaWxkcmVuLicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhcmVudFByZWZpeE5hbWUgPSBnZXROYW1lUGF0aChjb250ZXh0LnByZWZpeE5hbWUpIHx8IFtdO1xuICB2YXIgcHJlZml4TmFtZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyZW50UHJlZml4TmFtZSksIF90b0NvbnN1bWFibGVBcnJheShnZXROYW1lUGF0aChuYW1lKSkpO1xuXG4gIHZhciBzaG91bGRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRVcGRhdGUocHJldlZhbHVlLCBuZXh0VmFsdWUsIF9yZWYyKSB7XG4gICAgdmFyIHNvdXJjZSA9IF9yZWYyLnNvdXJjZTtcblxuICAgIGlmIChzb3VyY2UgPT09ICdpbnRlcm5hbCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldlZhbHVlICE9PSBuZXh0VmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbnRleHQpLCB7fSwge1xuICAgICAgcHJlZml4TmFtZTogcHJlZml4TmFtZVxuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkLCB7XG4gICAgbmFtZTogW10sXG4gICAgc2hvdWxkVXBkYXRlOiBzaG91bGRVcGRhdGUsXG4gICAgcnVsZXM6IHJ1bGVzLFxuICAgIHZhbGlkYXRlVHJpZ2dlcjogdmFsaWRhdGVUcmlnZ2VyLFxuICAgIGluaXRpYWxWYWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgIGlzTGlzdDogdHJ1ZVxuICB9LCBmdW5jdGlvbiAoX3JlZjMsIG1ldGEpIHtcbiAgICB2YXIgX3JlZjMkdmFsdWUgPSBfcmVmMy52YWx1ZSxcbiAgICAgICAgdmFsdWUgPSBfcmVmMyR2YWx1ZSA9PT0gdm9pZCAwID8gW10gOiBfcmVmMyR2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2UgPSBfcmVmMy5vbkNoYW5nZTtcbiAgICB2YXIgZ2V0RmllbGRWYWx1ZSA9IGNvbnRleHQuZ2V0RmllbGRWYWx1ZTtcblxuICAgIHZhciBnZXROZXdWYWx1ZSA9IGZ1bmN0aW9uIGdldE5ld1ZhbHVlKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IGdldEZpZWxkVmFsdWUocHJlZml4TmFtZSB8fCBbXSk7XG4gICAgICByZXR1cm4gdmFsdWVzIHx8IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWx3YXlzIGdldCBsYXRlc3QgdmFsdWUgaW4gY2FzZSB1c2VyIHVwZGF0ZSBmaWVsZHMgYnkgYGZvcm1gIGFwaS5cbiAgICAgKi9cblxuXG4gICAgdmFyIG9wZXJhdGlvbnMgPSB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChkZWZhdWx0VmFsdWUsIGluZGV4KSB7XG4gICAgICAgIC8vIE1hcHBpbmcga2V5c1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBnZXROZXdWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGtleU1hbmFnZXIua2V5cyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoa2V5TWFuYWdlci5rZXlzLnNsaWNlKDAsIGluZGV4KSksIFtrZXlNYW5hZ2VyLmlkXSwgX3RvQ29uc3VtYWJsZUFycmF5KGtleU1hbmFnZXIua2V5cy5zbGljZShpbmRleCkpKTtcbiAgICAgICAgICBvbkNoYW5nZShbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5ld1ZhbHVlLnNsaWNlKDAsIGluZGV4KSksIFtkZWZhdWx0VmFsdWVdLCBfdG9Db25zdW1hYmxlQXJyYXkobmV3VmFsdWUuc2xpY2UoaW5kZXgpKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiBuZXdWYWx1ZS5sZW5ndGgpKSB7XG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgdGhlIGFkZCBmdW5jdGlvbiBzaG91bGQgYmUgYSB2YWxpZCBwb3NpdGl2ZSBudW1iZXIuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAga2V5TWFuYWdlci5rZXlzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShrZXlNYW5hZ2VyLmtleXMpLCBba2V5TWFuYWdlci5pZF0pO1xuICAgICAgICAgIG9uQ2hhbmdlKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3VmFsdWUpLCBbZGVmYXVsdFZhbHVlXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5TWFuYWdlci5pZCArPSAxO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGluZGV4KSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGdldE5ld1ZhbHVlKCk7XG4gICAgICAgIHZhciBpbmRleFNldCA9IG5ldyBTZXQoQXJyYXkuaXNBcnJheShpbmRleCkgPyBpbmRleCA6IFtpbmRleF0pO1xuXG4gICAgICAgIGlmIChpbmRleFNldC5zaXplIDw9IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBrZXlNYW5hZ2VyLmtleXMgPSBrZXlNYW5hZ2VyLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBrZXlzSW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gIWluZGV4U2V0LmhhcyhrZXlzSW5kZXgpO1xuICAgICAgICB9KTsgLy8gVHJpZ2dlciBzdG9yZSBjaGFuZ2VcblxuICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZS5maWx0ZXIoZnVuY3Rpb24gKF8sIHZhbHVlSW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gIWluZGV4U2V0Lmhhcyh2YWx1ZUluZGV4KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gZ2V0TmV3VmFsdWUoKTsgLy8gRG8gbm90IGhhbmRsZSBvdXQgb2YgcmFuZ2VcblxuICAgICAgICBpZiAoZnJvbSA8IDAgfHwgZnJvbSA+PSBuZXdWYWx1ZS5sZW5ndGggfHwgdG8gPCAwIHx8IHRvID49IG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleU1hbmFnZXIua2V5cyA9IF9tb3ZlKGtleU1hbmFnZXIua2V5cywgZnJvbSwgdG8pOyAvLyBUcmlnZ2VyIHN0b3JlIGNoYW5nZVxuXG4gICAgICAgIG9uQ2hhbmdlKF9tb3ZlKG5ld1ZhbHVlLCBmcm9tLCB0bykpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGxpc3RWYWx1ZSA9IHZhbHVlIHx8IFtdO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3RWYWx1ZSkpIHtcbiAgICAgIGxpc3RWYWx1ZSA9IFtdO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIkN1cnJlbnQgdmFsdWUgb2YgJ1wiLmNvbmNhdChwcmVmaXhOYW1lLmpvaW4oJyA+ICcpLCBcIicgaXMgbm90IGFuIGFycmF5IHR5cGUuXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW4obGlzdFZhbHVlLm1hcChmdW5jdGlvbiAoX18sIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0ga2V5TWFuYWdlci5rZXlzW2luZGV4XTtcblxuICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleU1hbmFnZXIua2V5c1tpbmRleF0gPSBrZXlNYW5hZ2VyLmlkO1xuICAgICAgICBrZXkgPSBrZXlNYW5hZ2VyLmtleXNbaW5kZXhdO1xuICAgICAgICBrZXlNYW5hZ2VyLmlkICs9IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGluZGV4LFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaXNMaXN0RmllbGQ6IHRydWVcbiAgICAgIH07XG4gICAgfSksIG9wZXJhdGlvbnMsIG1ldGEpO1xuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0OyIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xudmFyIFNQTElUID0gJ19fQGZpZWxkX3NwbGl0X18nO1xuLyoqXG4gKiBDb252ZXJ0IG5hbWUgcGF0aCBpbnRvIHN0cmluZyB0byBmYXN0IHRoZSBmZXRjaCBzcGVlZCBvZiBNYXAuXG4gKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplKG5hbWVQYXRoKSB7XG4gIHJldHVybiBuYW1lUGF0aC5tYXAoZnVuY3Rpb24gKGNlbGwpIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoX3R5cGVvZihjZWxsKSwgXCI6XCIpLmNvbmNhdChjZWxsKTtcbiAgfSkgLy8gTWFnaWMgc3BsaXRcbiAgLmpvaW4oU1BMSVQpO1xufVxuLyoqXG4gKiBOYW1lTWFwIGxpa2UgYSBgTWFwYCBidXQgYWNjZXB0cyBgc3RyaW5nW11gIGFzIGtleS5cbiAqL1xuXG5cbnZhciBOYW1lTWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTmFtZU1hcCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmFtZU1hcCk7XG5cbiAgICB0aGlzLmt2cyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOYW1lTWFwLCBbe1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMua3ZzLnNldChub3JtYWxpemUoa2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMua3ZzLmdldChub3JtYWxpemUoa2V5KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoa2V5LCB1cGRhdGVyKSB7XG4gICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgIHZhciBuZXh0ID0gdXBkYXRlcihvcmlnaW4pO1xuXG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGtleSkge1xuICAgICAgdGhpcy5rdnMuZGVsZXRlKG5vcm1hbGl6ZShrZXkpKTtcbiAgICB9IC8vIFNpbmNlIHdlIG9ubHkgdXNlIHRoaXMgaW4gdGVzdCwgbGV0IHNpbXBseSByZWFsaXplIHRoaXNcblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5rdnMuZW50cmllcygpKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICBrZXkgPSBfcmVmMlswXSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07XG5cbiAgICAgICAgdmFyIGNlbGxzID0ga2V5LnNwbGl0KFNQTElUKTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHtcbiAgICAgICAgICBrZXk6IGNlbGxzLm1hcChmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgICAgICAgdmFyIF9jZWxsJG1hdGNoID0gY2VsbC5tYXRjaCgvXihbXjpdKik6KC4qKSQvKSxcbiAgICAgICAgICAgICAgICBfY2VsbCRtYXRjaDIgPSBfc2xpY2VkVG9BcnJheShfY2VsbCRtYXRjaCwgMyksXG4gICAgICAgICAgICAgICAgdHlwZSA9IF9jZWxsJG1hdGNoMlsxXSxcbiAgICAgICAgICAgICAgICB1bml0ID0gX2NlbGwkbWF0Y2gyWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ251bWJlcicgPyBOdW1iZXIodW5pdCkgOiB1bml0O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIGpzb24gPSB7fTtcbiAgICAgIHRoaXMubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIga2V5ID0gX3JlZjMua2V5LFxuICAgICAgICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZTtcbiAgICAgICAganNvbltrZXkuam9pbignLicpXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5hbWVNYXA7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5hbWVNYXA7IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuaW1wb3J0IHsgSE9PS19NQVJLIH0gZnJvbSAnLi9GaWVsZENvbnRleHQnO1xuaW1wb3J0IHsgYWxsUHJvbWlzZUZpbmlzaCB9IGZyb20gJy4vdXRpbHMvYXN5bmNVdGlsJztcbmltcG9ydCBOYW1lTWFwIGZyb20gJy4vdXRpbHMvTmFtZU1hcCc7XG5pbXBvcnQgeyBkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyB9IGZyb20gJy4vdXRpbHMvbWVzc2FnZXMnO1xuaW1wb3J0IHsgY2xvbmVCeU5hbWVQYXRoTGlzdCwgY29udGFpbnNOYW1lUGF0aCwgZ2V0TmFtZVBhdGgsIGdldFZhbHVlLCBtYXRjaE5hbWVQYXRoLCBzZXRWYWx1ZSwgc2V0VmFsdWVzIH0gZnJvbSAnLi91dGlscy92YWx1ZVV0aWwnO1xuZXhwb3J0IHZhciBGb3JtU3RvcmUgPSBmdW5jdGlvbiBGb3JtU3RvcmUoZm9yY2VSb290VXBkYXRlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1TdG9yZSk7XG5cbiAgdGhpcy5mb3JtSG9va2VkID0gZmFsc2U7XG4gIHRoaXMuc3Vic2NyaWJhYmxlID0gdHJ1ZTtcbiAgdGhpcy5zdG9yZSA9IHt9O1xuICB0aGlzLmZpZWxkRW50aXRpZXMgPSBbXTtcbiAgdGhpcy5pbml0aWFsVmFsdWVzID0ge307XG4gIHRoaXMuY2FsbGJhY2tzID0ge307XG4gIHRoaXMudmFsaWRhdGVNZXNzYWdlcyA9IG51bGw7XG4gIHRoaXMucHJlc2VydmUgPSBudWxsO1xuICB0aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPSBudWxsO1xuXG4gIHRoaXMuZ2V0Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RmllbGRWYWx1ZTogX3RoaXMuZ2V0RmllbGRWYWx1ZSxcbiAgICAgIGdldEZpZWxkc1ZhbHVlOiBfdGhpcy5nZXRGaWVsZHNWYWx1ZSxcbiAgICAgIGdldEZpZWxkRXJyb3I6IF90aGlzLmdldEZpZWxkRXJyb3IsXG4gICAgICBnZXRGaWVsZHNFcnJvcjogX3RoaXMuZ2V0RmllbGRzRXJyb3IsXG4gICAgICBpc0ZpZWxkc1RvdWNoZWQ6IF90aGlzLmlzRmllbGRzVG91Y2hlZCxcbiAgICAgIGlzRmllbGRUb3VjaGVkOiBfdGhpcy5pc0ZpZWxkVG91Y2hlZCxcbiAgICAgIGlzRmllbGRWYWxpZGF0aW5nOiBfdGhpcy5pc0ZpZWxkVmFsaWRhdGluZyxcbiAgICAgIGlzRmllbGRzVmFsaWRhdGluZzogX3RoaXMuaXNGaWVsZHNWYWxpZGF0aW5nLFxuICAgICAgcmVzZXRGaWVsZHM6IF90aGlzLnJlc2V0RmllbGRzLFxuICAgICAgc2V0RmllbGRzOiBfdGhpcy5zZXRGaWVsZHMsXG4gICAgICBzZXRGaWVsZHNWYWx1ZTogX3RoaXMuc2V0RmllbGRzVmFsdWUsXG4gICAgICB2YWxpZGF0ZUZpZWxkczogX3RoaXMudmFsaWRhdGVGaWVsZHMsXG4gICAgICBzdWJtaXQ6IF90aGlzLnN1Ym1pdCxcbiAgICAgIGdldEludGVybmFsSG9va3M6IF90aGlzLmdldEludGVybmFsSG9va3NcbiAgICB9O1xuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gSW50ZXJuYWwgSG9va3MgPT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB0aGlzLmdldEludGVybmFsSG9va3MgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gSE9PS19NQVJLKSB7XG4gICAgICBfdGhpcy5mb3JtSG9va2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpc3BhdGNoOiBfdGhpcy5kaXNwYXRjaCxcbiAgICAgICAgaW5pdEVudGl0eVZhbHVlOiBfdGhpcy5pbml0RW50aXR5VmFsdWUsXG4gICAgICAgIHJlZ2lzdGVyRmllbGQ6IF90aGlzLnJlZ2lzdGVyRmllbGQsXG4gICAgICAgIHVzZVN1YnNjcmliZTogX3RoaXMudXNlU3Vic2NyaWJlLFxuICAgICAgICBzZXRJbml0aWFsVmFsdWVzOiBfdGhpcy5zZXRJbml0aWFsVmFsdWVzLFxuICAgICAgICBzZXRDYWxsYmFja3M6IF90aGlzLnNldENhbGxiYWNrcyxcbiAgICAgICAgc2V0VmFsaWRhdGVNZXNzYWdlczogX3RoaXMuc2V0VmFsaWRhdGVNZXNzYWdlcyxcbiAgICAgICAgZ2V0RmllbGRzOiBfdGhpcy5nZXRGaWVsZHMsXG4gICAgICAgIHNldFByZXNlcnZlOiBfdGhpcy5zZXRQcmVzZXJ2ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB3YXJuaW5nKGZhbHNlLCAnYGdldEludGVybmFsSG9va3NgIGlzIGludGVybmFsIHVzYWdlLiBTaG91bGQgbm90IGNhbGwgZGlyZWN0bHkuJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdGhpcy51c2VTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJhYmxlKSB7XG4gICAgX3RoaXMuc3Vic2NyaWJhYmxlID0gc3Vic2NyaWJhYmxlO1xuICB9O1xuICAvKipcbiAgICogRmlyc3QgdGltZSBgc2V0SW5pdGlhbFZhbHVlc2Agc2hvdWxkIHVwZGF0ZSBzdG9yZSB3aXRoIGluaXRpYWwgdmFsdWVcbiAgICovXG5cblxuICB0aGlzLnNldEluaXRpYWxWYWx1ZXMgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlcywgaW5pdCkge1xuICAgIF90aGlzLmluaXRpYWxWYWx1ZXMgPSBpbml0aWFsVmFsdWVzIHx8IHt9O1xuXG4gICAgaWYgKGluaXQpIHtcbiAgICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWVzKHt9LCBpbml0aWFsVmFsdWVzLCBfdGhpcy5zdG9yZSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0SW5pdGlhbFZhbHVlID0gZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgcmV0dXJuIGdldFZhbHVlKF90aGlzLmluaXRpYWxWYWx1ZXMsIG5hbWVQYXRoKTtcbiAgfTtcblxuICB0aGlzLnNldENhbGxiYWNrcyA9IGZ1bmN0aW9uIChjYWxsYmFja3MpIHtcbiAgICBfdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH07XG5cbiAgdGhpcy5zZXRWYWxpZGF0ZU1lc3NhZ2VzID0gZnVuY3Rpb24gKHZhbGlkYXRlTWVzc2FnZXMpIHtcbiAgICBfdGhpcy52YWxpZGF0ZU1lc3NhZ2VzID0gdmFsaWRhdGVNZXNzYWdlcztcbiAgfTtcblxuICB0aGlzLnNldFByZXNlcnZlID0gZnVuY3Rpb24gKHByZXNlcnZlKSB7XG4gICAgX3RoaXMucHJlc2VydmUgPSBwcmVzZXJ2ZTtcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gRGV2IFdhcm5pbmcgPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuXG4gIHRoaXMud2FybmluZ1VuaG9va2VkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFfdGhpcy50aW1lb3V0SWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF90aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmICghX3RoaXMuZm9ybUhvb2tlZCkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnN0YW5jZSBjcmVhdGVkIGJ5IGB1c2VGb3JtYCBpcyBub3QgY29ubmVjdGVkIHRvIGFueSBGb3JtIGVsZW1lbnQuIEZvcmdldCB0byBwYXNzIGBmb3JtYCBwcm9wPycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRmllbGRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IHJlZ2lzdGVyZWQgZmllbGQgZW50aXRpZXMuXG4gICAqIEBwYXJhbSBwdXJlIE9ubHkgcmV0dXJuIGZpZWxkIHdoaWNoIGhhcyBhIGBuYW1lYC4gRGVmYXVsdDogZmFsc2VcbiAgICovXG5cblxuICB0aGlzLmdldEZpZWxkRW50aXRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHB1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgaWYgKCFwdXJlKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZmllbGRFbnRpdGllcztcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXMuZmllbGRFbnRpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICByZXR1cm4gZmllbGQuZ2V0TmFtZVBhdGgoKS5sZW5ndGg7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZHNNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHB1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgIHZhciBjYWNoZSA9IG5ldyBOYW1lTWFwKCk7XG5cbiAgICBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKHB1cmUpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgY2FjaGUuc2V0KG5hbWVQYXRoLCBmaWVsZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2FjaGU7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZEVudGl0aWVzRm9yTmFtZVBhdGhMaXN0ID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgaWYgKCFuYW1lTGlzdCkge1xuICAgICAgcmV0dXJuIF90aGlzLmdldEZpZWxkRW50aXRpZXModHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlID0gX3RoaXMuZ2V0RmllbGRzTWFwKHRydWUpO1xuXG4gICAgcmV0dXJuIG5hbWVMaXN0Lm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KG5hbWVQYXRoKSB8fCB7XG4gICAgICAgIElOVkFMSURBVEVfTkFNRV9QQVRIOiBnZXROYW1lUGF0aChuYW1lKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkc1ZhbHVlID0gZnVuY3Rpb24gKG5hbWVMaXN0LCBmaWx0ZXJGdW5jKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICBpZiAobmFtZUxpc3QgPT09IHRydWUgJiYgIWZpbHRlckZ1bmMpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zdG9yZTtcbiAgICB9XG5cbiAgICB2YXIgZmllbGRFbnRpdGllcyA9IF90aGlzLmdldEZpZWxkRW50aXRpZXNGb3JOYW1lUGF0aExpc3QoQXJyYXkuaXNBcnJheShuYW1lTGlzdCkgPyBuYW1lTGlzdCA6IG51bGwpO1xuXG4gICAgdmFyIGZpbHRlcmVkTmFtZUxpc3QgPSBbXTtcbiAgICBmaWVsZEVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgdmFyIF9lbnRpdHkkaXNMaXN0RmllbGQ7XG5cbiAgICAgIHZhciBuYW1lUGF0aCA9ICdJTlZBTElEQVRFX05BTUVfUEFUSCcgaW4gZW50aXR5ID8gZW50aXR5LklOVkFMSURBVEVfTkFNRV9QQVRIIDogZW50aXR5LmdldE5hbWVQYXRoKCk7IC8vIElnbm9yZSB3aGVuIGl0J3MgYSBsaXN0IGl0ZW0gYW5kIG5vdCBzcGVjaWZpYyB0aGUgbmFtZVBhdGgsXG4gICAgICAvLyBzaW5jZSBwYXJlbnQgZmllbGQgaXMgYWxyZWFkeSB0YWtlIGluIGNvdW50XG5cbiAgICAgIGlmICghbmFtZUxpc3QgJiYgKChfZW50aXR5JGlzTGlzdEZpZWxkID0gZW50aXR5LmlzTGlzdEZpZWxkKSA9PT0gbnVsbCB8fCBfZW50aXR5JGlzTGlzdEZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZW50aXR5JGlzTGlzdEZpZWxkLmNhbGwoZW50aXR5KSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbHRlckZ1bmMpIHtcbiAgICAgICAgZmlsdGVyZWROYW1lTGlzdC5wdXNoKG5hbWVQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtZXRhID0gJ2dldE1ldGEnIGluIGVudGl0eSA/IGVudGl0eS5nZXRNZXRhKCkgOiBudWxsO1xuXG4gICAgICAgIGlmIChmaWx0ZXJGdW5jKG1ldGEpKSB7XG4gICAgICAgICAgZmlsdGVyZWROYW1lTGlzdC5wdXNoKG5hbWVQYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZUJ5TmFtZVBhdGhMaXN0KF90aGlzLnN0b3JlLCBmaWx0ZXJlZE5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCkpO1xuICB9O1xuXG4gIHRoaXMuZ2V0RmllbGRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgbmFtZVBhdGggPSBnZXROYW1lUGF0aChuYW1lKTtcbiAgICByZXR1cm4gZ2V0VmFsdWUoX3RoaXMuc3RvcmUsIG5hbWVQYXRoKTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkc0Vycm9yID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgZmllbGRFbnRpdGllcyA9IF90aGlzLmdldEZpZWxkRW50aXRpZXNGb3JOYW1lUGF0aExpc3QobmFtZUxpc3QpO1xuXG4gICAgcmV0dXJuIGZpZWxkRW50aXRpZXMubWFwKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XG4gICAgICBpZiAoZW50aXR5ICYmICEoJ0lOVkFMSURBVEVfTkFNRV9QQVRIJyBpbiBlbnRpdHkpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogZW50aXR5LmdldE5hbWVQYXRoKCksXG4gICAgICAgICAgZXJyb3JzOiBlbnRpdHkuZ2V0RXJyb3JzKClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZ2V0TmFtZVBhdGgobmFtZUxpc3RbaW5kZXhdKSxcbiAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkRXJyb3IgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG5cbiAgICB2YXIgZmllbGRFcnJvciA9IF90aGlzLmdldEZpZWxkc0Vycm9yKFtuYW1lUGF0aF0pWzBdO1xuXG4gICAgcmV0dXJuIGZpZWxkRXJyb3IuZXJyb3JzO1xuICB9O1xuXG4gIHRoaXMuaXNGaWVsZHNUb3VjaGVkID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmcwID0gYXJnc1swXSxcbiAgICAgICAgYXJnMSA9IGFyZ3NbMV07XG4gICAgdmFyIG5hbWVQYXRoTGlzdDtcbiAgICB2YXIgaXNBbGxGaWVsZHNUb3VjaGVkID0gZmFsc2U7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIG5hbWVQYXRoTGlzdCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnMCkpIHtcbiAgICAgICAgbmFtZVBhdGhMaXN0ID0gYXJnMC5tYXAoZ2V0TmFtZVBhdGgpO1xuICAgICAgICBpc0FsbEZpZWxkc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVQYXRoTGlzdCA9IG51bGw7XG4gICAgICAgIGlzQWxsRmllbGRzVG91Y2hlZCA9IGFyZzA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWVQYXRoTGlzdCA9IGFyZzAubWFwKGdldE5hbWVQYXRoKTtcbiAgICAgIGlzQWxsRmllbGRzVG91Y2hlZCA9IGFyZzE7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkRW50aXRpZXMgPSBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKHRydWUpO1xuXG4gICAgdmFyIGlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gaXNGaWVsZFRvdWNoZWQoZmllbGQpIHtcbiAgICAgIHJldHVybiBmaWVsZC5pc0ZpZWxkVG91Y2hlZCgpO1xuICAgIH07IC8vID09PT09IFdpbGwgZ2V0IGZ1bGx5IGNvbXBhcmUgd2hlbiBub3QgY29uZmlnIG5hbWVQYXRoTGlzdCA9PT09PVxuXG5cbiAgICBpZiAoIW5hbWVQYXRoTGlzdCkge1xuICAgICAgcmV0dXJuIGlzQWxsRmllbGRzVG91Y2hlZCA/IGZpZWxkRW50aXRpZXMuZXZlcnkoaXNGaWVsZFRvdWNoZWQpIDogZmllbGRFbnRpdGllcy5zb21lKGlzRmllbGRUb3VjaGVkKTtcbiAgICB9IC8vIEdlbmVyYXRlIGEgbmVzdCB0cmVlIGZvciB2YWxpZGF0ZVxuXG5cbiAgICB2YXIgbWFwID0gbmV3IE5hbWVNYXAoKTtcbiAgICBuYW1lUGF0aExpc3QuZm9yRWFjaChmdW5jdGlvbiAoc2hvcnROYW1lUGF0aCkge1xuICAgICAgbWFwLnNldChzaG9ydE5hbWVQYXRoLCBbXSk7XG4gICAgfSk7XG4gICAgZmllbGRFbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIGZpZWxkTmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpOyAvLyBGaW5kIG1hdGNoZWQgZW50aXR5IGFuZCBwdXQgaW50byBsaXN0XG5cbiAgICAgIG5hbWVQYXRoTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzaG9ydE5hbWVQYXRoKSB7XG4gICAgICAgIGlmIChzaG9ydE5hbWVQYXRoLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lVW5pdCwgaSkge1xuICAgICAgICAgIHJldHVybiBmaWVsZE5hbWVQYXRoW2ldID09PSBuYW1lVW5pdDtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBtYXAudXBkYXRlKHNob3J0TmFtZVBhdGgsIGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShsaXN0KSwgW2ZpZWxkXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvLyBDaGVjayBpZiBOYW1lTWFwIHZhbHVlIGlzIHRvdWNoZWRcblxuICAgIHZhciBpc05hbWVQYXRoTGlzdFRvdWNoZWQgPSBmdW5jdGlvbiBpc05hbWVQYXRoTGlzdFRvdWNoZWQoZW50aXRpZXMpIHtcbiAgICAgIHJldHVybiBlbnRpdGllcy5zb21lKGlzRmllbGRUb3VjaGVkKTtcbiAgICB9O1xuXG4gICAgdmFyIG5hbWVQYXRoTGlzdEVudGl0aWVzID0gbWFwLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaXNBbGxGaWVsZHNUb3VjaGVkID8gbmFtZVBhdGhMaXN0RW50aXRpZXMuZXZlcnkoaXNOYW1lUGF0aExpc3RUb3VjaGVkKSA6IG5hbWVQYXRoTGlzdEVudGl0aWVzLnNvbWUoaXNOYW1lUGF0aExpc3RUb3VjaGVkKTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfdGhpcy53YXJuaW5nVW5ob29rZWQoKTtcblxuICAgIHJldHVybiBfdGhpcy5pc0ZpZWxkc1RvdWNoZWQoW25hbWVdKTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRzVmFsaWRhdGluZyA9IGZ1bmN0aW9uIChuYW1lTGlzdCkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgdmFyIGZpZWxkRW50aXRpZXMgPSBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKCk7XG5cbiAgICBpZiAoIW5hbWVMaXN0KSB7XG4gICAgICByZXR1cm4gZmllbGRFbnRpdGllcy5zb21lKGZ1bmN0aW9uICh0ZXN0RmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RGaWVsZC5pc0ZpZWxkVmFsaWRhdGluZygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVQYXRoTGlzdCA9IG5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCk7XG4gICAgcmV0dXJuIGZpZWxkRW50aXRpZXMuc29tZShmdW5jdGlvbiAodGVzdEZpZWxkKSB7XG4gICAgICB2YXIgZmllbGROYW1lUGF0aCA9IHRlc3RGaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgcmV0dXJuIGNvbnRhaW5zTmFtZVBhdGgobmFtZVBhdGhMaXN0LCBmaWVsZE5hbWVQYXRoKSAmJiB0ZXN0RmllbGQuaXNGaWVsZFZhbGlkYXRpbmcoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRWYWxpZGF0aW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfdGhpcy53YXJuaW5nVW5ob29rZWQoKTtcblxuICAgIHJldHVybiBfdGhpcy5pc0ZpZWxkc1ZhbGlkYXRpbmcoW25hbWVdKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2V0IEZpZWxkIHdpdGggZmllbGQgYGluaXRpYWxWYWx1ZWAgcHJvcC5cbiAgICogQ2FuIHBhc3MgYGVudGl0aWVzYCBvciBgbmFtZVBhdGhMaXN0YCBvciBqdXN0IG5vdGhpbmcuXG4gICAqL1xuXG5cbiAgdGhpcy5yZXNldFdpdGhGaWVsZEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgLy8gQ3JlYXRlIGNhY2hlXG4gICAgdmFyIGNhY2hlID0gbmV3IE5hbWVNYXAoKTtcblxuICAgIHZhciBmaWVsZEVudGl0aWVzID0gX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKTtcblxuICAgIGZpZWxkRW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBmaWVsZC5wcm9wcy5pbml0aWFsVmFsdWU7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpOyAvLyBSZWNvcmQgb25seSBpZiBoYXMgYGluaXRpYWxWYWx1ZWBcblxuICAgICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gY2FjaGUuZ2V0KG5hbWVQYXRoKSB8fCBuZXcgU2V0KCk7XG4gICAgICAgIHJlY29yZHMuYWRkKHtcbiAgICAgICAgICBlbnRpdHk6IGZpZWxkLFxuICAgICAgICAgIHZhbHVlOiBpbml0aWFsVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNhY2hlLnNldChuYW1lUGF0aCwgcmVjb3Jkcyk7XG4gICAgICB9XG4gICAgfSk7IC8vIFJlc2V0XG5cbiAgICB2YXIgcmVzZXRXaXRoRmllbGRzID0gZnVuY3Rpb24gcmVzZXRXaXRoRmllbGRzKGVudGl0aWVzKSB7XG4gICAgICBlbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gZmllbGQucHJvcHMuaW5pdGlhbFZhbHVlO1xuXG4gICAgICAgIGlmIChpbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBuYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgICB2YXIgZm9ybUluaXRpYWxWYWx1ZSA9IF90aGlzLmdldEluaXRpYWxWYWx1ZShuYW1lUGF0aCk7XG5cbiAgICAgICAgICBpZiAoZm9ybUluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBXYXJuaW5nIGlmIGNvbmZsaWN0IHdpdGggZm9ybSBpbml0aWFsVmFsdWVzIGFuZCBkbyBub3QgbW9kaWZ5IHZhbHVlXG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIkZvcm0gYWxyZWFkeSBzZXQgJ2luaXRpYWxWYWx1ZXMnIHdpdGggcGF0aCAnXCIuY29uY2F0KG5hbWVQYXRoLmpvaW4oJy4nKSwgXCInLiBGaWVsZCBjYW4gbm90IG92ZXJ3cml0ZSBpdC5cIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IGNhY2hlLmdldChuYW1lUGF0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZWNvcmRzICYmIHJlY29yZHMuc2l6ZSA+IDEpIHtcbiAgICAgICAgICAgICAgLy8gV2FybmluZyBpZiBtdWx0aXBsZSBmaWVsZCBzZXQgYGluaXRpYWxWYWx1ZWBhbmQgZG8gbm90IG1vZGlmeSB2YWx1ZVxuICAgICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIk11bHRpcGxlIEZpZWxkIHdpdGggcGF0aCAnXCIuY29uY2F0KG5hbWVQYXRoLmpvaW4oJy4nKSwgXCInIHNldCAnaW5pdGlhbFZhbHVlJy4gQ2FuIG5vdCBkZWNpZGUgd2hpY2ggb25lIHRvIHBpY2suXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3Jkcykge1xuICAgICAgICAgICAgICB2YXIgb3JpZ2luVmFsdWUgPSBfdGhpcy5nZXRGaWVsZFZhbHVlKG5hbWVQYXRoKTsgLy8gU2V0IGBpbml0aWFsVmFsdWVgXG5cblxuICAgICAgICAgICAgICBpZiAoIWluZm8uc2tpcEV4aXN0IHx8IG9yaWdpblZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlKF90aGlzLnN0b3JlLCBuYW1lUGF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlY29yZHMpWzBdLnZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZXF1aXJlZEZpZWxkRW50aXRpZXM7XG5cbiAgICBpZiAoaW5mby5lbnRpdGllcykge1xuICAgICAgcmVxdWlyZWRGaWVsZEVudGl0aWVzID0gaW5mby5lbnRpdGllcztcbiAgICB9IGVsc2UgaWYgKGluZm8ubmFtZVBhdGhMaXN0KSB7XG4gICAgICByZXF1aXJlZEZpZWxkRW50aXRpZXMgPSBbXTtcbiAgICAgIGluZm8ubmFtZVBhdGhMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gY2FjaGUuZ2V0KG5hbWVQYXRoKTtcblxuICAgICAgICBpZiAocmVjb3Jkcykge1xuICAgICAgICAgIHZhciBfcmVxdWlyZWRGaWVsZEVudGl0aWU7XG5cbiAgICAgICAgICAoX3JlcXVpcmVkRmllbGRFbnRpdGllID0gcmVxdWlyZWRGaWVsZEVudGl0aWVzKS5wdXNoLmFwcGx5KF9yZXF1aXJlZEZpZWxkRW50aXRpZSwgX3RvQ29uc3VtYWJsZUFycmF5KF90b0NvbnN1bWFibGVBcnJheShyZWNvcmRzKS5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByLmVudGl0eTtcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWlyZWRGaWVsZEVudGl0aWVzID0gZmllbGRFbnRpdGllcztcbiAgICB9XG5cbiAgICByZXNldFdpdGhGaWVsZHMocmVxdWlyZWRGaWVsZEVudGl0aWVzKTtcbiAgfTtcblxuICB0aGlzLnJlc2V0RmllbGRzID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG5cbiAgICBpZiAoIW5hbWVMaXN0KSB7XG4gICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlcyh7fSwgX3RoaXMuaW5pdGlhbFZhbHVlcyk7XG5cbiAgICAgIF90aGlzLnJlc2V0V2l0aEZpZWxkSW5pdGlhbFZhbHVlKCk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhwcmV2U3RvcmUsIG51bGwsIHtcbiAgICAgICAgdHlwZTogJ3Jlc2V0J1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFJlc2V0IGJ5IGBuYW1lTGlzdGBcblxuXG4gICAgdmFyIG5hbWVQYXRoTGlzdCA9IG5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCk7XG4gICAgbmFtZVBhdGhMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgICB2YXIgaW5pdGlhbFZhbHVlID0gX3RoaXMuZ2V0SW5pdGlhbFZhbHVlKG5hbWVQYXRoKTtcblxuICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGluaXRpYWxWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5yZXNldFdpdGhGaWVsZEluaXRpYWxWYWx1ZSh7XG4gICAgICBuYW1lUGF0aExpc3Q6IG5hbWVQYXRoTGlzdFxuICAgIH0pO1xuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgbmFtZVBhdGhMaXN0LCB7XG4gICAgICB0eXBlOiAncmVzZXQnXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXRGaWVsZHMgPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkRGF0YSkge1xuICAgICAgdmFyIG5hbWUgPSBmaWVsZERhdGEubmFtZSxcbiAgICAgICAgICBlcnJvcnMgPSBmaWVsZERhdGEuZXJyb3JzLFxuICAgICAgICAgIGRhdGEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZmllbGREYXRhLCBbXCJuYW1lXCIsIFwiZXJyb3JzXCJdKTtcblxuICAgICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7IC8vIFZhbHVlXG5cbiAgICAgIGlmICgndmFsdWUnIGluIGRhdGEpIHtcbiAgICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGRhdGEudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5ub3RpZnlPYnNlcnZlcnMocHJldlN0b3JlLCBbbmFtZVBhdGhdLCB7XG4gICAgICAgIHR5cGU6ICdzZXRGaWVsZCcsXG4gICAgICAgIGRhdGE6IGZpZWxkRGF0YVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVudGl0aWVzID0gX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKTtcblxuICAgIHZhciBmaWVsZHMgPSBlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgdmFyIG1ldGEgPSBmaWVsZC5nZXRNZXRhKCk7XG5cbiAgICAgIHZhciBmaWVsZERhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1ldGEpLCB7fSwge1xuICAgICAgICBuYW1lOiBuYW1lUGF0aCxcbiAgICAgICAgdmFsdWU6IF90aGlzLmdldEZpZWxkVmFsdWUobmFtZVBhdGgpXG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpZWxkRGF0YSwgJ29yaWdpblJDRmllbGQnLCB7XG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZERhdGE7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpZWxkcztcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IE9ic2VydmVyID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBUaGlzIG9ubHkgdHJpZ2dlciB3aGVuIGEgZmllbGQgaXMgb24gY29uc3RydWN0b3IgdG8gYXZvaWQgd2UgZ2V0IGluaXRpYWxWYWx1ZSB0b28gbGF0ZVxuICAgKi9cblxuXG4gIHRoaXMuaW5pdEVudGl0eVZhbHVlID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgIHZhciBpbml0aWFsVmFsdWUgPSBlbnRpdHkucHJvcHMuaW5pdGlhbFZhbHVlO1xuXG4gICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBlbnRpdHkuZ2V0TmFtZVBhdGgoKTtcbiAgICAgIHZhciBwcmV2VmFsdWUgPSBnZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgpO1xuXG4gICAgICBpZiAocHJldlZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVnaXN0ZXJGaWVsZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICBfdGhpcy5maWVsZEVudGl0aWVzLnB1c2goZW50aXR5KTsgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cblxuICAgIGlmIChlbnRpdHkucHJvcHMuaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcmV2U3RvcmUgPSBfdGhpcy5zdG9yZTtcblxuICAgICAgX3RoaXMucmVzZXRXaXRoRmllbGRJbml0aWFsVmFsdWUoe1xuICAgICAgICBlbnRpdGllczogW2VudGl0eV0sXG4gICAgICAgIHNraXBFeGlzdDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhwcmV2U3RvcmUsIFtlbnRpdHkuZ2V0TmFtZVBhdGgoKV0sIHtcbiAgICAgICAgdHlwZTogJ3ZhbHVlVXBkYXRlJyxcbiAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnXG4gICAgICB9KTtcbiAgICB9IC8vIHVuLXJlZ2lzdGVyIGZpZWxkIGNhbGxiYWNrXG5cblxuICAgIHJldHVybiBmdW5jdGlvbiAoaXNMaXN0RmllbGQsIHByZXNlcnZlKSB7XG4gICAgICB2YXIgc3ViTmFtZVBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgX3RoaXMuZmllbGRFbnRpdGllcyA9IF90aGlzLmZpZWxkRW50aXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBlbnRpdHk7XG4gICAgICB9KTsgLy8gQ2xlYW4gdXAgc3RvcmUgdmFsdWUgaWYgbm90IHByZXNlcnZlXG5cbiAgICAgIHZhciBtZXJnZWRQcmVzZXJ2ZSA9IHByZXNlcnZlICE9PSB1bmRlZmluZWQgPyBwcmVzZXJ2ZSA6IF90aGlzLnByZXNlcnZlO1xuXG4gICAgICBpZiAobWVyZ2VkUHJlc2VydmUgPT09IGZhbHNlICYmICghaXNMaXN0RmllbGQgfHwgc3ViTmFtZVBhdGgubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgdmFyIG5hbWVQYXRoID0gZW50aXR5LmdldE5hbWVQYXRoKCk7XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBpc0xpc3RGaWVsZCA/IHVuZGVmaW5lZCA6IGdldFZhbHVlKF90aGlzLmluaXRpYWxWYWx1ZXMsIG5hbWVQYXRoKTtcblxuICAgICAgICBpZiAobmFtZVBhdGgubGVuZ3RoICYmIF90aGlzLmdldEZpZWxkVmFsdWUobmFtZVBhdGgpICE9PSBkZWZhdWx0VmFsdWUgJiYgX3RoaXMuZmllbGRFbnRpdGllcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICByZXR1cm4gKC8vIE9ubHkgcmVzZXQgd2hlbiBubyBuYW1lUGF0aCBleGlzdFxuICAgICAgICAgICAgIW1hdGNoTmFtZVBhdGgoZmllbGQuZ2V0TmFtZVBhdGgoKSwgbmFtZVBhdGgpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlKF90aGlzLnN0b3JlLCBuYW1lUGF0aCwgZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICd1cGRhdGVWYWx1ZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbmFtZVBhdGggPSBhY3Rpb24ubmFtZVBhdGgsXG4gICAgICAgICAgICAgIHZhbHVlID0gYWN0aW9uLnZhbHVlO1xuXG4gICAgICAgICAgX3RoaXMudXBkYXRlVmFsdWUobmFtZVBhdGgsIHZhbHVlKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3ZhbGlkYXRlRmllbGQnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9uYW1lUGF0aCA9IGFjdGlvbi5uYW1lUGF0aCxcbiAgICAgICAgICAgICAgdHJpZ2dlck5hbWUgPSBhY3Rpb24udHJpZ2dlck5hbWU7XG5cbiAgICAgICAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcyhbX25hbWVQYXRoXSwge1xuICAgICAgICAgICAgdHJpZ2dlck5hbWU6IHRyaWdnZXJOYW1lXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OiAvLyBDdXJyZW50bHkgd2UgZG9uJ3QgaGF2ZSBvdGhlciBhY3Rpb24uIERvIG5vdGhpbmcuXG5cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAocHJldlN0b3JlLCBuYW1lUGF0aExpc3QsIGluZm8pIHtcbiAgICBpZiAoX3RoaXMuc3Vic2NyaWJhYmxlKSB7XG4gICAgICB2YXIgbWVyZ2VkSW5mbyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5mbyksIHt9LCB7XG4gICAgICAgIHN0b3JlOiBfdGhpcy5nZXRGaWVsZHNWYWx1ZSh0cnVlKVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmdldEZpZWxkRW50aXRpZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgb25TdG9yZUNoYW5nZSA9IF9yZWYyLm9uU3RvcmVDaGFuZ2U7XG4gICAgICAgIG9uU3RvcmVDaGFuZ2UocHJldlN0b3JlLCBuYW1lUGF0aExpc3QsIG1lcmdlZEluZm8pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmZvcmNlUm9vdFVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnVwZGF0ZVZhbHVlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG4gICAgdmFyIHByZXZTdG9yZSA9IF90aGlzLnN0b3JlO1xuICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWUoX3RoaXMuc3RvcmUsIG5hbWVQYXRoLCB2YWx1ZSk7XG5cbiAgICBfdGhpcy5ub3RpZnlPYnNlcnZlcnMocHJldlN0b3JlLCBbbmFtZVBhdGhdLCB7XG4gICAgICB0eXBlOiAndmFsdWVVcGRhdGUnLFxuICAgICAgc291cmNlOiAnaW50ZXJuYWwnXG4gICAgfSk7IC8vIE5vdGlmeSBkZXBlbmRlbmNpZXMgY2hpbGRyZW4gd2l0aCBwYXJlbnQgdXBkYXRlXG4gICAgLy8gV2UgbmVlZCBkZWxheSB0byB0cmlnZ2VyIHZhbGlkYXRlIGluIGNhc2UgRmllbGQgaXMgdW5kZXIgcmVuZGVyIHByb3BzXG5cblxuICAgIHZhciBjaGlsZHJlbkZpZWxkcyA9IF90aGlzLmdldERlcGVuZGVuY3lDaGlsZHJlbkZpZWxkcyhuYW1lUGF0aCk7XG5cbiAgICBpZiAoY2hpbGRyZW5GaWVsZHMubGVuZ3RoKSB7XG4gICAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcyhjaGlsZHJlbkZpZWxkcyk7XG4gICAgfVxuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgY2hpbGRyZW5GaWVsZHMsIHtcbiAgICAgIHR5cGU6ICdkZXBlbmRlbmNpZXNVcGRhdGUnLFxuICAgICAgcmVsYXRlZEZpZWxkczogW25hbWVQYXRoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuRmllbGRzKSlcbiAgICB9KTsgLy8gdHJpZ2dlciBjYWxsYmFjayBmdW5jdGlvblxuXG5cbiAgICB2YXIgb25WYWx1ZXNDaGFuZ2UgPSBfdGhpcy5jYWxsYmFja3Mub25WYWx1ZXNDaGFuZ2U7XG5cbiAgICBpZiAob25WYWx1ZXNDaGFuZ2UpIHtcbiAgICAgIHZhciBjaGFuZ2VkVmFsdWVzID0gY2xvbmVCeU5hbWVQYXRoTGlzdChfdGhpcy5zdG9yZSwgW25hbWVQYXRoXSk7XG4gICAgICBvblZhbHVlc0NoYW5nZShjaGFuZ2VkVmFsdWVzLCBfdGhpcy5nZXRGaWVsZHNWYWx1ZSgpKTtcbiAgICB9XG5cbiAgICBfdGhpcy50cmlnZ2VyT25GaWVsZHNDaGFuZ2UoW25hbWVQYXRoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuRmllbGRzKSkpO1xuICB9OyAvLyBMZXQgYWxsIGNoaWxkIEZpZWxkIGdldCB1cGRhdGUuXG5cblxuICB0aGlzLnNldEZpZWxkc1ZhbHVlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG5cbiAgICBpZiAoc3RvcmUpIHtcbiAgICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWVzKF90aGlzLnN0b3JlLCBzdG9yZSk7XG4gICAgfVxuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgbnVsbCwge1xuICAgICAgdHlwZTogJ3ZhbHVlVXBkYXRlJyxcbiAgICAgIHNvdXJjZTogJ2V4dGVybmFsJ1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGVwZW5kZW5jeUNoaWxkcmVuRmllbGRzID0gZnVuY3Rpb24gKHJvb3ROYW1lUGF0aCkge1xuICAgIHZhciBjaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICB2YXIgY2hpbGRyZW5GaWVsZHMgPSBbXTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzMmZpZWxkcyA9IG5ldyBOYW1lTWFwKCk7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgbWFwc1xuICAgICAqIENhbiB1c2UgY2FjaGUgdG8gc2F2ZSBwZXJmIGlmIHVzZXIgcmVwb3J0IHBlcmZvcm1hbmNlIGlzc3VlIHdpdGggdGhpc1xuICAgICAqL1xuXG4gICAgX3RoaXMuZ2V0RmllbGRFbnRpdGllcygpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgZGVwZW5kZW5jaWVzID0gZmllbGQucHJvcHMuZGVwZW5kZW5jaWVzO1xuICAgICAgKGRlcGVuZGVuY2llcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoZGVwZW5kZW5jeSkge1xuICAgICAgICB2YXIgZGVwZW5kZW5jeU5hbWVQYXRoID0gZ2V0TmFtZVBhdGgoZGVwZW5kZW5jeSk7XG4gICAgICAgIGRlcGVuZGVuY2llczJmaWVsZHMudXBkYXRlKGRlcGVuZGVuY3lOYW1lUGF0aCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBTZXQoKTtcbiAgICAgICAgICBmaWVsZHMuYWRkKGZpZWxkKTtcbiAgICAgICAgICByZXR1cm4gZmllbGRzO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGZpbGxDaGlsZHJlbiA9IGZ1bmN0aW9uIGZpbGxDaGlsZHJlbihuYW1lUGF0aCkge1xuICAgICAgdmFyIGZpZWxkcyA9IGRlcGVuZGVuY2llczJmaWVsZHMuZ2V0KG5hbWVQYXRoKSB8fCBuZXcgU2V0KCk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgaWYgKCFjaGlsZHJlbi5oYXMoZmllbGQpKSB7XG4gICAgICAgICAgY2hpbGRyZW4uYWRkKGZpZWxkKTtcbiAgICAgICAgICB2YXIgZmllbGROYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgICBpZiAoZmllbGQuaXNGaWVsZERpcnR5KCkgJiYgZmllbGROYW1lUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuRmllbGRzLnB1c2goZmllbGROYW1lUGF0aCk7XG4gICAgICAgICAgICBmaWxsQ2hpbGRyZW4oZmllbGROYW1lUGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZmlsbENoaWxkcmVuKHJvb3ROYW1lUGF0aCk7XG4gICAgcmV0dXJuIGNoaWxkcmVuRmllbGRzO1xuICB9O1xuXG4gIHRoaXMudHJpZ2dlck9uRmllbGRzQ2hhbmdlID0gZnVuY3Rpb24gKG5hbWVQYXRoTGlzdCwgZmlsZWRFcnJvcnMpIHtcbiAgICB2YXIgb25GaWVsZHNDaGFuZ2UgPSBfdGhpcy5jYWxsYmFja3Mub25GaWVsZHNDaGFuZ2U7XG5cbiAgICBpZiAob25GaWVsZHNDaGFuZ2UpIHtcbiAgICAgIHZhciBmaWVsZHMgPSBfdGhpcy5nZXRGaWVsZHMoKTtcbiAgICAgIC8qKlxuICAgICAgICogRmlsbCBlcnJvcnMgc2luY2UgYGZpZWxkc2AgbWF5IGJlIHJlcGxhY2VkIGJ5IGNvbnRyb2xsZWQgZmllbGRzXG4gICAgICAgKi9cblxuXG4gICAgICBpZiAoZmlsZWRFcnJvcnMpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gbmV3IE5hbWVNYXAoKTtcbiAgICAgICAgZmlsZWRFcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYzLm5hbWUsXG4gICAgICAgICAgICAgIGVycm9ycyA9IF9yZWYzLmVycm9ycztcbiAgICAgICAgICBjYWNoZS5zZXQobmFtZSwgZXJyb3JzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgIGZpZWxkLmVycm9ycyA9IGNhY2hlLmdldChmaWVsZC5uYW1lKSB8fCBmaWVsZC5lcnJvcnM7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlZEZpZWxkcyA9IGZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSBfcmVmNC5uYW1lO1xuICAgICAgICByZXR1cm4gY29udGFpbnNOYW1lUGF0aChuYW1lUGF0aExpc3QsIGZpZWxkTmFtZSk7XG4gICAgICB9KTtcbiAgICAgIG9uRmllbGRzQ2hhbmdlKGNoYW5nZWRGaWVsZHMsIGZpZWxkcyk7XG4gICAgfVxuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gVmFsaWRhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB0aGlzLnZhbGlkYXRlRmllbGRzID0gZnVuY3Rpb24gKG5hbWVMaXN0LCBvcHRpb25zKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJvdmlkZU5hbWVMaXN0ID0gISFuYW1lTGlzdDtcbiAgICB2YXIgbmFtZVBhdGhMaXN0ID0gcHJvdmlkZU5hbWVMaXN0ID8gbmFtZUxpc3QubWFwKGdldE5hbWVQYXRoKSA6IFtdOyAvLyBDb2xsZWN0IHJlc3VsdCBpbiBwcm9taXNlIGxpc3RcblxuICAgIHZhciBwcm9taXNlTGlzdCA9IFtdO1xuXG4gICAgX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgLy8gQWRkIGZpZWxkIGlmIG5vdCBwcm92aWRlIGBuYW1lTGlzdGBcbiAgICAgIGlmICghcHJvdmlkZU5hbWVMaXN0KSB7XG4gICAgICAgIG5hbWVQYXRoTGlzdC5wdXNoKGZpZWxkLmdldE5hbWVQYXRoKCkpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZWN1cnNpdmUgdmFsaWRhdGUgaWYgY29uZmlndXJlZC5cbiAgICAgICAqIFRPRE86IHBlcmYgaW1wcm92ZW1lbnQgQHpvbWJpZUpcbiAgICAgICAqL1xuXG5cbiAgICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlY3Vyc2l2ZSkgJiYgcHJvdmlkZU5hbWVMaXN0KSB7XG4gICAgICAgIHZhciBuYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgaWYgKCAvLyBuYW1lTGlzdFtpXSA9PT0gdW5kZWZpbmVkIOivtOaYjuaYr+S7pSBuYW1lTGlzdCDlvIDlpLTnmoRcbiAgICAgICAgLy8gWyduYW1lJ10gLT4gWyduYW1lJywnbGlzdCddXG4gICAgICAgIG5hbWVQYXRoLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lVW5pdCwgaSkge1xuICAgICAgICAgIHJldHVybiBuYW1lTGlzdFtpXSA9PT0gbmFtZVVuaXQgfHwgbmFtZUxpc3RbaV0gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBuYW1lUGF0aExpc3QucHVzaChuYW1lUGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gU2tpcCBpZiB3aXRob3V0IHJ1bGVcblxuXG4gICAgICBpZiAoIWZpZWxkLnByb3BzLnJ1bGVzIHx8ICFmaWVsZC5wcm9wcy5ydWxlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmllbGROYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7IC8vIEFkZCBmaWVsZCB2YWxpZGF0ZSBydWxlIGluIHRvIHByb21pc2UgbGlzdFxuXG4gICAgICBpZiAoIXByb3ZpZGVOYW1lTGlzdCB8fCBjb250YWluc05hbWVQYXRoKG5hbWVQYXRoTGlzdCwgZmllbGROYW1lUGF0aCkpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBmaWVsZC52YWxpZGF0ZVJ1bGVzKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHZhbGlkYXRlTWVzc2FnZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdFZhbGlkYXRlTWVzc2FnZXMpLCBfdGhpcy52YWxpZGF0ZU1lc3NhZ2VzKVxuICAgICAgICB9LCBvcHRpb25zKSk7IC8vIFdyYXAgcHJvbWlzZSB3aXRoIGZpZWxkXG5cbiAgICAgICAgcHJvbWlzZUxpc3QucHVzaChwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBmaWVsZE5hbWVQYXRoLFxuICAgICAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgICAgIH07XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgbmFtZTogZmllbGROYW1lUGF0aCxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBzdW1tYXJ5UHJvbWlzZSA9IGFsbFByb21pc2VGaW5pc2gocHJvbWlzZUxpc3QpO1xuICAgIF90aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPSBzdW1tYXJ5UHJvbWlzZTsgLy8gTm90aWZ5IGZpZWxkcyB3aXRoIHJ1bGUgdGhhdCB2YWxpZGF0ZSBoYXMgZmluaXNoZWQgYW5kIG5lZWQgdXBkYXRlXG5cbiAgICBzdW1tYXJ5UHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgdmFyIHJlc3VsdE5hbWVQYXRoTGlzdCA9IHJlc3VsdHMubWFwKGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgbmFtZSA9IF9yZWY1Lm5hbWU7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhfdGhpcy5zdG9yZSwgcmVzdWx0TmFtZVBhdGhMaXN0LCB7XG4gICAgICAgIHR5cGU6ICd2YWxpZGF0ZUZpbmlzaCdcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy50cmlnZ2VyT25GaWVsZHNDaGFuZ2UocmVzdWx0TmFtZVBhdGhMaXN0LCByZXN1bHRzKTtcbiAgICB9KTtcbiAgICB2YXIgcmV0dXJuUHJvbWlzZSA9IHN1bW1hcnlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPT09IHN1bW1hcnlQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMuZ2V0RmllbGRzVmFsdWUobmFtZVBhdGhMaXN0KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChbXSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIHZhciBlcnJvckxpc3QgPSByZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgIHZhbHVlczogX3RoaXMuZ2V0RmllbGRzVmFsdWUobmFtZVBhdGhMaXN0KSxcbiAgICAgICAgZXJyb3JGaWVsZHM6IGVycm9yTGlzdCxcbiAgICAgICAgb3V0T2ZEYXRlOiBfdGhpcy5sYXN0VmFsaWRhdGVQcm9taXNlICE9PSBzdW1tYXJ5UHJvbWlzZVxuICAgICAgfSk7XG4gICAgfSk7IC8vIERvIG5vdCB0aHJvdyBpbiBjb25zb2xlXG5cbiAgICByZXR1cm5Qcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTdWJtaXQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdGhpcy5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcygpLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgdmFyIG9uRmluaXNoID0gX3RoaXMuY2FsbGJhY2tzLm9uRmluaXNoO1xuXG4gICAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvbkZpbmlzaCh2YWx1ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBTaG91bGQgcHJpbnQgZXJyb3IgaWYgdXNlciBgb25GaW5pc2hgIGNhbGxiYWNrIGZhaWxlZFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgb25GaW5pc2hGYWlsZWQgPSBfdGhpcy5jYWxsYmFja3Mub25GaW5pc2hGYWlsZWQ7XG5cbiAgICAgIGlmIChvbkZpbmlzaEZhaWxlZCkge1xuICAgICAgICBvbkZpbmlzaEZhaWxlZChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmZvcmNlUm9vdFVwZGF0ZSA9IGZvcmNlUm9vdFVwZGF0ZTtcbn07XG5cbmZ1bmN0aW9uIHVzZUZvcm0oZm9ybSkge1xuICB2YXIgZm9ybVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZvcmNlVXBkYXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICBpZiAoIWZvcm1SZWYuY3VycmVudCkge1xuICAgIGlmIChmb3JtKSB7XG4gICAgICBmb3JtUmVmLmN1cnJlbnQgPSBmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgRm9ybVN0b3JlIGlmIG5vdCBwcm92aWRlZFxuICAgICAgdmFyIGZvcmNlUmVSZW5kZXIgPSBmdW5jdGlvbiBmb3JjZVJlUmVuZGVyKCkge1xuICAgICAgICBmb3JjZVVwZGF0ZSh7fSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZm9ybVN0b3JlID0gbmV3IEZvcm1TdG9yZShmb3JjZVJlUmVuZGVyKTtcbiAgICAgIGZvcm1SZWYuY3VycmVudCA9IGZvcm1TdG9yZS5nZXRGb3JtKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtmb3JtUmVmLmN1cnJlbnRdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VGb3JtOyIsImV4cG9ydCBmdW5jdGlvbiBhbGxQcm9taXNlRmluaXNoKHByb21pc2VMaXN0KSB7XG4gIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICB2YXIgY291bnQgPSBwcm9taXNlTGlzdC5sZW5ndGg7XG4gIHZhciByZXN1bHRzID0gW107XG5cbiAgaWYgKCFwcm9taXNlTGlzdC5sZW5ndGgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcHJvbWlzZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHJlc3VsdDtcblxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHJlc3VsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBGb3JtQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgdHJpZ2dlckZvcm1DaGFuZ2U6IGZ1bmN0aW9uIHRyaWdnZXJGb3JtQ2hhbmdlKCkge30sXG4gIHRyaWdnZXJGb3JtRmluaXNoOiBmdW5jdGlvbiB0cmlnZ2VyRm9ybUZpbmlzaCgpIHt9LFxuICByZWdpc3RlckZvcm06IGZ1bmN0aW9uIHJlZ2lzdGVyRm9ybSgpIHt9LFxuICB1bnJlZ2lzdGVyRm9ybTogZnVuY3Rpb24gdW5yZWdpc3RlckZvcm0oKSB7fVxufSk7XG5cbnZhciBGb3JtUHJvdmlkZXIgPSBmdW5jdGlvbiBGb3JtUHJvdmlkZXIoX3JlZikge1xuICB2YXIgdmFsaWRhdGVNZXNzYWdlcyA9IF9yZWYudmFsaWRhdGVNZXNzYWdlcyxcbiAgICAgIG9uRm9ybUNoYW5nZSA9IF9yZWYub25Gb3JtQ2hhbmdlLFxuICAgICAgb25Gb3JtRmluaXNoID0gX3JlZi5vbkZvcm1GaW5pc2gsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBmb3JtQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuICB2YXIgZm9ybXNSZWYgPSBSZWFjdC51c2VSZWYoe30pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmb3JtQ29udGV4dCksIHt9LCB7XG4gICAgICB2YWxpZGF0ZU1lc3NhZ2VzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGZvcm1Db250ZXh0LnZhbGlkYXRlTWVzc2FnZXMpLCB2YWxpZGF0ZU1lc3NhZ2VzKSxcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8gPSAgICAgICAgICAgICAgICAgIEdsb2JhbCBGb3JtIENvbnRyb2wgICAgICAgICAgICAgICAgICA9XG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIHRyaWdnZXJGb3JtQ2hhbmdlOiBmdW5jdGlvbiB0cmlnZ2VyRm9ybUNoYW5nZShuYW1lLCBjaGFuZ2VkRmllbGRzKSB7XG4gICAgICAgIGlmIChvbkZvcm1DaGFuZ2UpIHtcbiAgICAgICAgICBvbkZvcm1DaGFuZ2UobmFtZSwge1xuICAgICAgICAgICAgY2hhbmdlZEZpZWxkczogY2hhbmdlZEZpZWxkcyxcbiAgICAgICAgICAgIGZvcm1zOiBmb3Jtc1JlZi5jdXJyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtQ29udGV4dC50cmlnZ2VyRm9ybUNoYW5nZShuYW1lLCBjaGFuZ2VkRmllbGRzKTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyRm9ybUZpbmlzaDogZnVuY3Rpb24gdHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKSB7XG4gICAgICAgIGlmIChvbkZvcm1GaW5pc2gpIHtcbiAgICAgICAgICBvbkZvcm1GaW5pc2gobmFtZSwge1xuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBmb3JtczogZm9ybXNSZWYuY3VycmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybUNvbnRleHQudHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKTtcbiAgICAgIH0sXG4gICAgICByZWdpc3RlckZvcm06IGZ1bmN0aW9uIHJlZ2lzdGVyRm9ybShuYW1lLCBmb3JtKSB7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgZm9ybXNSZWYuY3VycmVudCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybXNSZWYuY3VycmVudCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIGZvcm0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1Db250ZXh0LnJlZ2lzdGVyRm9ybShuYW1lLCBmb3JtKTtcbiAgICAgIH0sXG4gICAgICB1bnJlZ2lzdGVyRm9ybTogZnVuY3Rpb24gdW5yZWdpc3RlckZvcm0obmFtZSkge1xuICAgICAgICB2YXIgbmV3Rm9ybXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBmb3Jtc1JlZi5jdXJyZW50KTtcblxuICAgICAgICBkZWxldGUgbmV3Rm9ybXNbbmFtZV07XG4gICAgICAgIGZvcm1zUmVmLmN1cnJlbnQgPSBuZXdGb3JtcztcbiAgICAgICAgZm9ybUNvbnRleHQudW5yZWdpc3RlckZvcm0obmFtZSk7XG4gICAgICB9XG4gICAgfSlcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuZXhwb3J0IHsgRm9ybVByb3ZpZGVyIH07XG5leHBvcnQgZGVmYXVsdCBGb3JtQ29udGV4dDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlRm9ybSBmcm9tICcuL3VzZUZvcm0nO1xuaW1wb3J0IEZpZWxkQ29udGV4dCwgeyBIT09LX01BUksgfSBmcm9tICcuL0ZpZWxkQ29udGV4dCc7XG5pbXBvcnQgRm9ybUNvbnRleHQgZnJvbSAnLi9Gb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBpc1NpbWlsYXIgfSBmcm9tICcuL3V0aWxzL3ZhbHVlVXRpbCc7XG5cbnZhciBGb3JtID0gZnVuY3Rpb24gRm9ybShfcmVmLCByZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBpbml0aWFsVmFsdWVzID0gX3JlZi5pbml0aWFsVmFsdWVzLFxuICAgICAgZmllbGRzID0gX3JlZi5maWVsZHMsXG4gICAgICBmb3JtID0gX3JlZi5mb3JtLFxuICAgICAgcHJlc2VydmUgPSBfcmVmLnByZXNlcnZlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRjb21wb25lbnQgPSBfcmVmLmNvbXBvbmVudCxcbiAgICAgIENvbXBvbmVudCA9IF9yZWYkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnZm9ybScgOiBfcmVmJGNvbXBvbmVudCxcbiAgICAgIHZhbGlkYXRlTWVzc2FnZXMgPSBfcmVmLnZhbGlkYXRlTWVzc2FnZXMsXG4gICAgICBfcmVmJHZhbGlkYXRlVHJpZ2dlciA9IF9yZWYudmFsaWRhdGVUcmlnZ2VyLFxuICAgICAgdmFsaWRhdGVUcmlnZ2VyID0gX3JlZiR2YWxpZGF0ZVRyaWdnZXIgPT09IHZvaWQgMCA/ICdvbkNoYW5nZScgOiBfcmVmJHZhbGlkYXRlVHJpZ2dlcixcbiAgICAgIG9uVmFsdWVzQ2hhbmdlID0gX3JlZi5vblZhbHVlc0NoYW5nZSxcbiAgICAgIF9vbkZpZWxkc0NoYW5nZSA9IF9yZWYub25GaWVsZHNDaGFuZ2UsXG4gICAgICBfb25GaW5pc2ggPSBfcmVmLm9uRmluaXNoLFxuICAgICAgb25GaW5pc2hGYWlsZWQgPSBfcmVmLm9uRmluaXNoRmFpbGVkLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcIm5hbWVcIiwgXCJpbml0aWFsVmFsdWVzXCIsIFwiZmllbGRzXCIsIFwiZm9ybVwiLCBcInByZXNlcnZlXCIsIFwiY2hpbGRyZW5cIiwgXCJjb21wb25lbnRcIiwgXCJ2YWxpZGF0ZU1lc3NhZ2VzXCIsIFwidmFsaWRhdGVUcmlnZ2VyXCIsIFwib25WYWx1ZXNDaGFuZ2VcIiwgXCJvbkZpZWxkc0NoYW5nZVwiLCBcIm9uRmluaXNoXCIsIFwib25GaW5pc2hGYWlsZWRcIl0pO1xuXG4gIHZhciBmb3JtQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRm9ybUNvbnRleHQpOyAvLyBXZSBjdXN0b21pemUgaGFuZGxlIGV2ZW50IHNpbmNlIENvbnRleHQgd2lsbCBtYWtlcyBhbGwgdGhlIGNvbnN1bWVyIHJlLXJlbmRlcjpcbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0cHJvdmlkZXJcblxuICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKGZvcm0pLFxuICAgICAgX3VzZUZvcm0yID0gX3NsaWNlZFRvQXJyYXkoX3VzZUZvcm0sIDEpLFxuICAgICAgZm9ybUluc3RhbmNlID0gX3VzZUZvcm0yWzBdO1xuXG4gIHZhciBfZm9ybUluc3RhbmNlJGdldEludGUgPSBmb3JtSW5zdGFuY2UuZ2V0SW50ZXJuYWxIb29rcyhIT09LX01BUkspLFxuICAgICAgdXNlU3Vic2NyaWJlID0gX2Zvcm1JbnN0YW5jZSRnZXRJbnRlLnVzZVN1YnNjcmliZSxcbiAgICAgIHNldEluaXRpYWxWYWx1ZXMgPSBfZm9ybUluc3RhbmNlJGdldEludGUuc2V0SW5pdGlhbFZhbHVlcyxcbiAgICAgIHNldENhbGxiYWNrcyA9IF9mb3JtSW5zdGFuY2UkZ2V0SW50ZS5zZXRDYWxsYmFja3MsXG4gICAgICBzZXRWYWxpZGF0ZU1lc3NhZ2VzID0gX2Zvcm1JbnN0YW5jZSRnZXRJbnRlLnNldFZhbGlkYXRlTWVzc2FnZXMsXG4gICAgICBzZXRQcmVzZXJ2ZSA9IF9mb3JtSW5zdGFuY2UkZ2V0SW50ZS5zZXRQcmVzZXJ2ZTsgLy8gUGFzcyByZWYgd2l0aCBmb3JtIGluc3RhbmNlXG5cblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtSW5zdGFuY2U7XG4gIH0pOyAvLyBSZWdpc3RlciBmb3JtIGludG8gQ29udGV4dFxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZm9ybUNvbnRleHQucmVnaXN0ZXJGb3JtKG5hbWUsIGZvcm1JbnN0YW5jZSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvcm1Db250ZXh0LnVucmVnaXN0ZXJGb3JtKG5hbWUpO1xuICAgIH07XG4gIH0sIFtmb3JtQ29udGV4dCwgZm9ybUluc3RhbmNlLCBuYW1lXSk7IC8vIFBhc3MgcHJvcHMgdG8gc3RvcmVcblxuICBzZXRWYWxpZGF0ZU1lc3NhZ2VzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybUNvbnRleHQudmFsaWRhdGVNZXNzYWdlcyksIHZhbGlkYXRlTWVzc2FnZXMpKTtcbiAgc2V0Q2FsbGJhY2tzKHtcbiAgICBvblZhbHVlc0NoYW5nZTogb25WYWx1ZXNDaGFuZ2UsXG4gICAgb25GaWVsZHNDaGFuZ2U6IGZ1bmN0aW9uIG9uRmllbGRzQ2hhbmdlKGNoYW5nZWRGaWVsZHMpIHtcbiAgICAgIGZvcm1Db250ZXh0LnRyaWdnZXJGb3JtQ2hhbmdlKG5hbWUsIGNoYW5nZWRGaWVsZHMpO1xuXG4gICAgICBpZiAoX29uRmllbGRzQ2hhbmdlKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICByZXN0W19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vbkZpZWxkc0NoYW5nZS5hcHBseSh2b2lkIDAsIFtjaGFuZ2VkRmllbGRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25GaW5pc2g6IGZ1bmN0aW9uIG9uRmluaXNoKHZhbHVlcykge1xuICAgICAgZm9ybUNvbnRleHQudHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKTtcblxuICAgICAgaWYgKF9vbkZpbmlzaCkge1xuICAgICAgICBfb25GaW5pc2godmFsdWVzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRmluaXNoRmFpbGVkOiBvbkZpbmlzaEZhaWxlZFxuICB9KTtcbiAgc2V0UHJlc2VydmUocHJlc2VydmUpOyAvLyBTZXQgaW5pdGlhbCB2YWx1ZSwgaW5pdCBzdG9yZSB2YWx1ZSB3aGVuIGZpcnN0IG1vdW50XG5cbiAgdmFyIG1vdW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBzZXRJbml0aWFsVmFsdWVzKGluaXRpYWxWYWx1ZXMsICFtb3VudFJlZi5jdXJyZW50KTtcblxuICBpZiAoIW1vdW50UmVmLmN1cnJlbnQpIHtcbiAgICBtb3VudFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSAvLyBQcmVwYXJlIGNoaWxkcmVuIGJ5IGBjaGlsZHJlbmAgdHlwZVxuXG5cbiAgdmFyIGNoaWxkcmVuTm9kZSA9IGNoaWxkcmVuO1xuICB2YXIgY2hpbGRyZW5SZW5kZXJQcm9wcyA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJztcblxuICBpZiAoY2hpbGRyZW5SZW5kZXJQcm9wcykge1xuICAgIHZhciB2YWx1ZXMgPSBmb3JtSW5zdGFuY2UuZ2V0RmllbGRzVmFsdWUodHJ1ZSk7XG4gICAgY2hpbGRyZW5Ob2RlID0gY2hpbGRyZW4odmFsdWVzLCBmb3JtSW5zdGFuY2UpO1xuICB9IC8vIE5vdCB1c2Ugc3Vic2NyaWJlIHdoZW4gdXNpbmcgcmVuZGVyIHByb3BzXG5cblxuICB1c2VTdWJzY3JpYmUoIWNoaWxkcmVuUmVuZGVyUHJvcHMpOyAvLyBMaXN0ZW4gaWYgZmllbGRzIHByb3ZpZGVkLiBXZSB1c2UgcmVmIHRvIHNhdmUgcHJldiBkYXRhIGhlcmUgdG8gYXZvaWQgYWRkaXRpb25hbCByZW5kZXJcblxuICB2YXIgcHJldkZpZWxkc1JlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNTaW1pbGFyKHByZXZGaWVsZHNSZWYuY3VycmVudCB8fCBbXSwgZmllbGRzIHx8IFtdKSkge1xuICAgICAgZm9ybUluc3RhbmNlLnNldEZpZWxkcyhmaWVsZHMgfHwgW10pO1xuICAgIH1cblxuICAgIHByZXZGaWVsZHNSZWYuY3VycmVudCA9IGZpZWxkcztcbiAgfSwgW2ZpZWxkcywgZm9ybUluc3RhbmNlXSk7XG4gIHZhciBmb3JtQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybUluc3RhbmNlKSwge30sIHtcbiAgICAgIHZhbGlkYXRlVHJpZ2dlcjogdmFsaWRhdGVUcmlnZ2VyXG4gICAgfSk7XG4gIH0sIFtmb3JtSW5zdGFuY2UsIHZhbGlkYXRlVHJpZ2dlcl0pO1xuICB2YXIgd3JhcHBlck5vZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogZm9ybUNvbnRleHRWYWx1ZVxuICB9LCBjaGlsZHJlbk5vZGUpO1xuXG4gIGlmIChDb21wb25lbnQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHdyYXBwZXJOb2RlO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywge1xuICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZm9ybUluc3RhbmNlLnN1Ym1pdCgpO1xuICAgIH0sXG4gICAgb25SZXNldDogZnVuY3Rpb24gb25SZXNldChldmVudCkge1xuICAgICAgdmFyIF9yZXN0UHJvcHMkb25SZXNldDtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZvcm1JbnN0YW5jZS5yZXNldEZpZWxkcygpO1xuICAgICAgKF9yZXN0UHJvcHMkb25SZXNldCA9IHJlc3RQcm9wcy5vblJlc2V0KSA9PT0gbnVsbCB8fCBfcmVzdFByb3BzJG9uUmVzZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXN0UHJvcHMkb25SZXNldC5jYWxsKHJlc3RQcm9wcywgZXZlbnQpO1xuICAgIH1cbiAgfSksIHdyYXBwZXJOb2RlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9MaXN0JztcbmltcG9ydCB1c2VGb3JtIGZyb20gJy4vdXNlRm9ybSc7XG5pbXBvcnQgRmllbGRGb3JtIGZyb20gJy4vRm9ybSc7XG5pbXBvcnQgeyBGb3JtUHJvdmlkZXIgfSBmcm9tICcuL0Zvcm1Db250ZXh0JztcbnZhciBJbnRlcm5hbEZvcm0gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihGaWVsZEZvcm0pO1xudmFyIFJlZkZvcm0gPSBJbnRlcm5hbEZvcm07XG5SZWZGb3JtLkZvcm1Qcm92aWRlciA9IEZvcm1Qcm92aWRlcjtcblJlZkZvcm0uRmllbGQgPSBGaWVsZDtcblJlZkZvcm0uTGlzdCA9IExpc3Q7XG5SZWZGb3JtLnVzZUZvcm0gPSB1c2VGb3JtO1xuZXhwb3J0IHsgRmllbGQsIExpc3QsIHVzZUZvcm0sIEZvcm1Qcm92aWRlciB9O1xuZXhwb3J0IGRlZmF1bHQgUmVmRm9ybTsiXSwibmFtZXMiOlsiSE9PS19NQVJLIiwid2FybmluZ0Z1bmMiLCJnZXRGaWVsZFZhbHVlIiwiZ2V0RmllbGRzVmFsdWUiLCJnZXRGaWVsZEVycm9yIiwiZ2V0RmllbGRzRXJyb3IiLCJpc0ZpZWxkc1RvdWNoZWQiLCJpc0ZpZWxkVG91Y2hlZCIsImlzRmllbGRWYWxpZGF0aW5nIiwiaXNGaWVsZHNWYWxpZGF0aW5nIiwicmVzZXRGaWVsZHMiLCJzZXRGaWVsZHMiLCJzZXRGaWVsZHNWYWx1ZSIsInZhbGlkYXRlRmllbGRzIiwic3VibWl0IiwiZ2V0SW50ZXJuYWxIb29rcyIsImRpc3BhdGNoIiwiaW5pdEVudGl0eVZhbHVlIiwicmVnaXN0ZXJGaWVsZCIsInVzZVN1YnNjcmliZSIsInNldEluaXRpYWxWYWx1ZXMiLCJzZXRDYWxsYmFja3MiLCJnZXRGaWVsZHMiLCJzZXRWYWxpZGF0ZU1lc3NhZ2VzIiwic2V0UHJlc2VydmUiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImdldE5hbWVQYXRoIiwicGF0aCIsImdldFZhbHVlIiwic3RvcmUiLCJuYW1lUGF0aCIsImdldCIsInNldFZhbHVlIiwicmVtb3ZlSWZVbmRlZmluZWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJuZXdTdG9yZSIsInNldCIsImNsb25lQnlOYW1lUGF0aExpc3QiLCJuYW1lUGF0aExpc3QiLCJmb3JFYWNoIiwiY29udGFpbnNOYW1lUGF0aCIsInNvbWUiLCJtYXRjaE5hbWVQYXRoIiwiaXNPYmplY3QiLCJvYmoiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImludGVybmFsU2V0VmFsdWVzIiwidmFsdWVzIiwia2V5cyIsImtleSIsInByZXZWYWx1ZSIsInJlY3Vyc2l2ZSIsInNldFZhbHVlcyIsIl9sZW4iLCJyZXN0VmFsdWVzIiwiX2tleSIsInJlZHVjZSIsImN1cnJlbnQiLCJjaGFuZ2VkTmFtZVBhdGgiLCJldmVyeSIsIm5hbWVVbml0IiwiaSIsImRlZmF1bHRHZXRWYWx1ZUZyb21FdmVudCIsInZhbHVlUHJvcE5hbWUiLCJldmVudCIsInRhcmdldCIsImFycmF5IiwibW92ZUluZGV4IiwidG9JbmRleCIsIml0ZW0iLCJkaWZmIiwiY29uY2F0Iiwic2xpY2UiLCJ0eXBlVGVtcGxhdGUiLCJkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyIsImRlZmF1bHQiLCJyZXF1aXJlZCIsImVudW0iLCJ3aGl0ZXNwYWNlIiwiZGF0ZSIsImZvcm1hdCIsInBhcnNlIiwiaW52YWxpZCIsInR5cGVzIiwic3RyaW5nIiwibWV0aG9kIiwib2JqZWN0IiwibnVtYmVyIiwiYm9vbGVhbiIsImludGVnZXIiLCJmbG9hdCIsInJlZ2V4cCIsImVtYWlsIiwidXJsIiwiaGV4IiwibGVuIiwibWluIiwibWF4IiwicmFuZ2UiLCJwYXR0ZXJuIiwibWlzbWF0Y2giLCJBc3luY1ZhbGlkYXRvciIsImNvbnZlcnRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwibmFtZSIsInJ1bGUiLCJtZXNzYWdlVmFyaWFibGVzIiwia3YiLCJqb2luIiwicmVwbGFjZUZ1bmMiLCJ0ZW1wbGF0ZSIsImFkZGl0aW9uYWxLViIsInJlcGxhY2UiLCJzdHIiLCJyZXBsYWNlTWVzc2FnZSIsImZpbGxUZW1wbGF0ZSIsInNvdXJjZSIsInJ1bGVOYW1lIiwidmFsaWRhdGVSdWxlIiwiX3giLCJfeDIiLCJfeDMiLCJfeDQiLCJfeDUiLCJfdmFsaWRhdGVSdWxlIiwiYXBwbHkiLCJ0aGlzIiwiX2NhbGxlZTIiLCJvcHRpb25zIiwiY2xvbmVSdWxlIiwic3ViUnVsZUZpZWxkIiwidmFsaWRhdG9yIiwicmVzdWx0Iiwic3ViUmVzdWx0cyIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwidHlwZSIsImRlZmF1bHRGaWVsZCIsInZhbGlkYXRlTWVzc2FnZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInZhbGlkYXRlIiwidDAiLCJlcnJvcnMiLCJtYXAiLCJfcmVmMiIsImluZGV4IiwibWVzc2FnZSIsImNvbnNvbGUiLCJlcnJvciIsImFsbCIsInN1YlZhbHVlIiwic2VudCIsImFicnVwdCIsInN0b3AiLCJ2YWxpZGF0ZVJ1bGVzIiwicnVsZXMiLCJ2YWxpZGF0ZUZpcnN0Iiwic3VtbWFyeVByb21pc2UiLCJmaWxsZWRSdWxlcyIsImN1cnJlbnRSdWxlIiwib3JpZ2luVmFsaWRhdG9yRnVuYyIsInZhbCIsImNhbGxiYWNrIiwiaGFzUHJvbWlzZSIsInByb21pc2UiLCJhcmdzIiwidGhlbiIsIndhcm5pbmciLCJjYXRjaCIsImVyciIsIl9yZWYiLCJfY2FsbGVlIiwicmVqZWN0IiwiX2NvbnRleHQiLCJfeDYiLCJfeDciLCJydWxlUHJvbWlzZXMiLCJfeDkiLCJfZmluaXNoT25GaXJzdEZhaWxlZCIsImZpbmlzaE9uRmlyc3RGYWlsZWQiLCJfeDgiLCJfZmluaXNoT25BbGxGYWlsZWQiLCJmaW5pc2hPbkFsbEZhaWxlZCIsImUiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsImVycm9yc0xpc3QiLCJfcmVmMyIsIl9jYWxsZWU0IiwiY291bnQiLCJfY29udGV4dDQiLCJyZXF1aXJlVXBkYXRlIiwic2hvdWxkVXBkYXRlIiwibmV4dFZhbHVlIiwiaW5mbyIsIkZpZWxkIiwiX1JlYWN0JENvbXBvbmVudCIsIl9zdXBlciIsInByb3BzIiwiX3RoaXMiLCJjYWxsIiwic3RhdGUiLCJyZXNldENvdW50IiwiY2FuY2VsUmVnaXN0ZXJGdW5jIiwibW91bnRlZCIsInRvdWNoZWQiLCJkaXJ0eSIsInZhbGlkYXRlUHJvbWlzZSIsImNhbmNlbFJlZ2lzdGVyIiwiX3RoaXMkcHJvcHMiLCJwcmVzZXJ2ZSIsImlzTGlzdEZpZWxkIiwiX3RoaXMkcHJvcHMyIiwiX2ZpZWxkQ29udGV4dCRwcmVmaXhOIiwiZmllbGRDb250ZXh0IiwicHJlZml4TmFtZSIsImdldFJ1bGVzIiwiX3RoaXMkcHJvcHMzIiwiX3RoaXMkcHJvcHMzJHJ1bGVzIiwicmVmcmVzaCIsInNldFN0YXRlIiwib25TdG9yZUNoYW5nZSIsInByZXZTdG9yZSIsIl90aGlzJHByb3BzNCIsIl90aGlzJHByb3BzNCRkZXBlbmRlbiIsImRlcGVuZGVuY2llcyIsIm9uUmVzZXQiLCJjdXJWYWx1ZSIsIm5hbWVQYXRoTWF0Y2giLCJkYXRhIiwidmFsaWRhdGluZyIsInJlUmVuZGVyIiwiZGVwZW5kZW5jeSIsInJlbGF0ZWRGaWVsZHMiLCJjdXJyZW50VmFsdWUiLCJyb290UHJvbWlzZSIsIl90aGlzJHByb3BzNSIsIl90aGlzJHByb3BzNSR2YWxpZGF0ZSIsInRyaWdnZXJOYW1lIiwiZmlsdGVyZWRSdWxlcyIsImZpbHRlciIsInZhbGlkYXRlVHJpZ2dlciIsImluY2x1ZGVzIiwiaXNGaWVsZERpcnR5IiwiZ2V0RXJyb3JzIiwiaXNMaXN0IiwiaXNQcmVzZXJ2ZSIsImdldE1ldGEiLCJwcmV2VmFsaWRhdGluZyIsImdldE9ubHlDaGlsZCIsImNoaWxkcmVuIiwibWV0YSIsImdldENvbnRyb2xsZWQiLCJpc0Z1bmN0aW9uIiwiY2hpbGRMaXN0IiwiY2hpbGQiLCJjaGlsZFByb3BzIiwiX3RoaXMkcHJvcHM2IiwidHJpZ2dlciIsImdldFZhbHVlRnJvbUV2ZW50Iiwibm9ybWFsaXplIiwiZ2V0VmFsdWVQcm9wcyIsIm1lcmdlZFZhbGlkYXRlVHJpZ2dlciIsIl9nZXRJbnRlcm5hbEhvb2tzIiwibWVyZ2VkR2V0VmFsdWVQcm9wcyIsIm9yaWdpblRyaWdnZXJGdW5jIiwiY29udHJvbCIsIm5ld1ZhbHVlIiwidmFsaWRhdGVUcmlnZ2VyTGlzdCIsIm9yaWdpblRyaWdnZXIiLCJfdGhpcyRwcm9wczciLCJmb3JjZVVwZGF0ZSIsInJldHVybkNoaWxkTm9kZSIsIl90aGlzJGdldE9ubHlDaGlsZCIsImNvbnRleHRUeXBlIiwiRmllbGRDb250ZXh0IiwiZGVmYXVsdFByb3BzIiwiX3JlZjQiLCJyZXN0UHJvcHMiLCJpbml0aWFsVmFsdWUiLCJjb250ZXh0Iiwia2V5TWFuYWdlciIsImlkIiwicGFyZW50UHJlZml4TmFtZSIsIl9yZWYzJHZhbHVlIiwib25DaGFuZ2UiLCJnZXROZXdWYWx1ZSIsIm9wZXJhdGlvbnMiLCJhZGQiLCJkZWZhdWx0VmFsdWUiLCJyZW1vdmUiLCJpbmRleFNldCIsIlNldCIsInNpemUiLCJfIiwia2V5c0luZGV4IiwiaGFzIiwidmFsdWVJbmRleCIsIm1vdmUiLCJmcm9tIiwidG8iLCJsaXN0VmFsdWUiLCJfXyIsIlNQTElUIiwiY2VsbCIsIk5hbWVNYXAiLCJrdnMiLCJNYXAiLCJ1cGRhdGVyIiwiZGVsZXRlIiwiZW50cmllcyIsImNlbGxzIiwic3BsaXQiLCJfY2VsbCRtYXRjaCIsIm1hdGNoIiwiX2NlbGwkbWF0Y2gyIiwidW5pdCIsIk51bWJlciIsImpzb24iLCJGb3JtU3RvcmUiLCJmb3JjZVJvb3RVcGRhdGUiLCJmb3JtSG9va2VkIiwic3Vic2NyaWJhYmxlIiwiZmllbGRFbnRpdGllcyIsImluaXRpYWxWYWx1ZXMiLCJjYWxsYmFja3MiLCJsYXN0VmFsaWRhdGVQcm9taXNlIiwiZ2V0Rm9ybSIsImluaXQiLCJnZXRJbml0aWFsVmFsdWUiLCJ0aW1lb3V0SWQiLCJ3YXJuaW5nVW5ob29rZWQiLCJnZXRGaWVsZEVudGl0aWVzIiwicHVyZSIsImZpZWxkIiwiZ2V0RmllbGRzTWFwIiwiY2FjaGUiLCJnZXRGaWVsZEVudGl0aWVzRm9yTmFtZVBhdGhMaXN0IiwibmFtZUxpc3QiLCJJTlZBTElEQVRFX05BTUVfUEFUSCIsImZpbHRlckZ1bmMiLCJmaWx0ZXJlZE5hbWVMaXN0IiwiZW50aXR5IiwiX2VudGl0eSRpc0xpc3RGaWVsZCIsInB1c2giLCJhcmcwIiwiYXJnMSIsImlzQWxsRmllbGRzVG91Y2hlZCIsInNob3J0TmFtZVBhdGgiLCJmaWVsZE5hbWVQYXRoIiwidXBkYXRlIiwibGlzdCIsImlzTmFtZVBhdGhMaXN0VG91Y2hlZCIsImVudGl0aWVzIiwibmFtZVBhdGhMaXN0RW50aXRpZXMiLCJ0ZXN0RmllbGQiLCJyZXNldFdpdGhGaWVsZEluaXRpYWxWYWx1ZSIsInJlY29yZHMiLCJyZXF1aXJlZEZpZWxkRW50aXRpZXMiLCJyZXNldFdpdGhGaWVsZHMiLCJvcmlnaW5WYWx1ZSIsInNraXBFeGlzdCIsIl9yZXF1aXJlZEZpZWxkRW50aXRpZSIsInIiLCJub3RpZnlPYnNlcnZlcnMiLCJmaWVsZHMiLCJmaWVsZERhdGEiLCJkZWZpbmVQcm9wZXJ0eSIsInN1Yk5hbWVQYXRoIiwibWVyZ2VkUHJlc2VydmUiLCJhY3Rpb24iLCJ1cGRhdGVWYWx1ZSIsIl9uYW1lUGF0aCIsIm1lcmdlZEluZm8iLCJjaGlsZHJlbkZpZWxkcyIsImdldERlcGVuZGVuY3lDaGlsZHJlbkZpZWxkcyIsIm9uVmFsdWVzQ2hhbmdlIiwidHJpZ2dlck9uRmllbGRzQ2hhbmdlIiwicm9vdE5hbWVQYXRoIiwiZGVwZW5kZW5jaWVzMmZpZWxkcyIsImRlcGVuZGVuY3lOYW1lUGF0aCIsImZpbGxDaGlsZHJlbiIsImZpbGVkRXJyb3JzIiwib25GaWVsZHNDaGFuZ2UiLCJmaWVsZE5hbWUiLCJwcm92aWRlTmFtZUxpc3QiLCJwcm9taXNlTGlzdCIsImhhc0Vycm9yIiwicmVzdWx0cyIsImFsbFByb21pc2VGaW5pc2giLCJyZXN1bHROYW1lUGF0aExpc3QiLCJfcmVmNSIsInJldHVyblByb21pc2UiLCJlcnJvckxpc3QiLCJlcnJvckZpZWxkcyIsIm91dE9mRGF0ZSIsIm9uRmluaXNoIiwib25GaW5pc2hGYWlsZWQiLCJmb3JtIiwiZm9ybVJlZiIsIl9SZWFjdCR1c2VTdGF0ZSIsImZvcm1TdG9yZSIsIkZvcm1Db250ZXh0IiwidHJpZ2dlckZvcm1DaGFuZ2UiLCJ0cmlnZ2VyRm9ybUZpbmlzaCIsInJlZ2lzdGVyRm9ybSIsInVucmVnaXN0ZXJGb3JtIiwiRm9ybVByb3ZpZGVyIiwib25Gb3JtQ2hhbmdlIiwib25Gb3JtRmluaXNoIiwiZm9ybUNvbnRleHQiLCJmb3Jtc1JlZiIsIlByb3ZpZGVyIiwiY2hhbmdlZEZpZWxkcyIsImZvcm1zIiwibmV3Rm9ybXMiLCJyZWYiLCJfcmVmJGNvbXBvbmVudCIsImNvbXBvbmVudCIsIkNvbXBvbmVudCIsIl9yZWYkdmFsaWRhdGVUcmlnZ2VyIiwiX29uRmllbGRzQ2hhbmdlIiwiX29uRmluaXNoIiwiX3VzZUZvcm0iLCJmb3JtSW5zdGFuY2UiLCJfZm9ybUluc3RhbmNlJGdldEludGUiLCJyZXN0IiwibW91bnRSZWYiLCJjaGlsZHJlbk5vZGUiLCJjaGlsZHJlblJlbmRlclByb3BzIiwicHJldkZpZWxkc1JlZiIsInNvdXJjZUtleXMiLCJ0YXJnZXRLZXlzIiwic291cmNlVmFsdWUiLCJ0YXJnZXRWYWx1ZSIsImlzU2ltaWxhciIsImZvcm1Db250ZXh0VmFsdWUiLCJ3cmFwcGVyTm9kZSIsIm9uU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJfcmVzdFByb3BzJG9uUmVzZXQiLCJSZWZGb3JtIiwiTGlzdCIsInVzZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9