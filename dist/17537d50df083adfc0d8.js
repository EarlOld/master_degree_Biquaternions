"use strict";(self.webpackChunkmaster_degree=self.webpackChunkmaster_degree||[]).push([[873],{5776:(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(7462),i=n(4942),a=n(1002),u=n(9439),s=n(4925),o=n(7294),c=n(4184),l=n.n(c),f=n(5105),d=n(2550),v=n(5671),m=n(3144);function g(){return"function"==typeof BigInt}function N(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",u=i[1]||"0";"0"===a&&"0"===u&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:a,decimalStr:u,fullStr:"".concat(s).concat(r)}}function h(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function p(e){var t=String(e);if(h(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null==r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&b(t)?t.length-t.indexOf(".")-1:0}function S(e){var t=String(e);if(h(e)){if(e>Number.MAX_SAFE_INTEGER)return String(g()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(g()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(p(t))}return N(t).fullStr}function b(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var E=function(){function e(t){(0,v.Z)(this,e),this.origin="",(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,m.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(p(this.number),p(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":S(this.number):this.origin}}]),e}(),y=function(){function e(t){if((0,v.Z)(this,e),this.origin="",(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(h(n)&&(n=Number(n)),b(n="string"==typeof n?n:S(n))){var r=N(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,m.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=N((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=i.negativeStr,u=i.trimStr,s="".concat(a).concat(u.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":N("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function I(e){return g()?new y(e):new E(e)}function k(e,t,n){if(""===e)return"";var r=N(e),i=r.negativeStr,a=r.integerStr,u=r.decimalStr,s="".concat(t).concat(u),o="".concat(i).concat(a);if(n>=0){var c=Number(u[n]);return c>=5?k(I(e).add("0.".concat("0".repeat(n)).concat(10-c)).toString(),t,n):0===n?o:"".concat(o).concat(t).concat(u.padEnd(n,"0").slice(0,n))}return".0"===s?o:"".concat(o).concat(s)}var w=n(1131);function Z(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,u=e.upDisabled,s=e.downDisabled,c=e.onStep,f=o.useRef(),d=o.useRef();d.current=c;var v=function(e,t){e.preventDefault(),d.current(t),f.current=setTimeout((function e(){d.current(t),f.current=setTimeout(e,200)}),600)},m=function(){clearTimeout(f.current)};if(o.useEffect((function(){return m}),[]),(0,w.Z)())return null;var g="".concat(t,"-handler"),N=l()(g,"".concat(g,"-up"),(0,i.Z)({},"".concat(g,"-up-disabled"),u)),h=l()(g,"".concat(g,"-down"),(0,i.Z)({},"".concat(g,"-down-disabled"),s)),p={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",(0,r.Z)({},p,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":u,className:N}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",(0,r.Z)({},p,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:h}),a||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var M=n(334);var x=(0,n(8924).Z)()?o.useLayoutEffect:o.useEffect;function D(e,t){var n=o.useRef(!1);x((function(){if(n.current)return e();n.current=!0}),t)}var R=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},_=function(e){var t=I(e);return t.isInvalidate()?null:t},T=o.forwardRef((function(e,t){var n,c=e.prefixCls,v=void 0===c?"rc-input-number":c,m=e.className,g=e.style,N=e.min,h=e.max,E=e.step,y=void 0===E?1:E,w=e.defaultValue,x=e.value,T=e.disabled,C=e.readOnly,A=e.upHandler,F=e.downHandler,q=e.keyboard,G=e.stringMode,B=e.parser,O=e.formatter,P=e.precision,$=e.decimalSeparator,W=e.onChange,H=e.onInput,L=e.onPressEnter,U=e.onStep,V=(0,s.Z)(e,["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"]),X="".concat(v,"-input"),K=o.useRef(null),Q=o.useState(!1),j=(0,u.Z)(Q,2),z=j[0],J=j[1],Y=o.useRef(!1),ee=o.useRef(!1),te=o.useState((function(){return I(null!=x?x:w)})),ne=(0,u.Z)(te,2),re=ne[0],ie=ne[1];var ae=o.useCallback((function(e,t){if(!t)return P>=0?P:Math.max(p(e),p(y))}),[P,y]),ue=o.useCallback((function(e){var t=String(e);if(B)return B(t);var n=t;return $&&(n=n.replace($,".")),n.replace(/[^\w.-]+/g,"")}),[B,$]),se=o.useCallback((function(e,t){if(O)return O(e);var n="number"==typeof e?S(e):e;if(!t){var r=ae(n,t);if(b(n)&&($||r>=0))n=k(n,$||".",r)}return n}),[O,ae,$]),oe=o.useState((function(){var e=null!=w?w:x;return re.isInvalidate()&&["string","number"].includes((0,a.Z)(e))?Number.isNaN(e)?"":e:se(re.toString(),!1)})),ce=(0,u.Z)(oe,2),le=ce[0],fe=ce[1];function de(e,t){fe(se(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}var ve,me,ge,Ne=o.useMemo((function(){return _(h)}),[h]),he=o.useMemo((function(){return _(N)}),[N]),pe=o.useMemo((function(){return!(!Ne||!re||re.isInvalidate())&&Ne.lessEquals(re)}),[Ne,re]),Se=o.useMemo((function(){return!(!he||!re||re.isInvalidate())&&re.lessEquals(he)}),[he,re]),be=(ve=K.current,me=z,ge=(0,o.useRef)(null),[function(){try{var e=ve.selectionStart,t=ve.selectionEnd,n=ve.value,r=n.substring(0,e),i=n.substring(t);ge.current={start:e,end:t,value:n,beforeTxt:r,afterTxt:i}}catch(e){}},function(){if(ve&&ge.current&&me)try{var e=ve.value,t=ge.current,n=t.beforeTxt,r=t.afterTxt,i=t.start,a=e.length;if(e.endsWith(r))a=e.length-ge.current.afterTxt.length;else if(e.startsWith(n))a=n.length;else{var u=n[i-1],s=e.indexOf(u,i-1);-1!==s&&(a=s+1)}ve.setSelectionRange(a,a)}catch(e){(0,M.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),Ee=(0,u.Z)(be,2),ye=Ee[0],Ie=Ee[1],ke=function(e){return Ne&&!e.lessEquals(Ne)?Ne:he&&!he.lessEquals(e)?he:null},we=function(e){return!ke(e)},Ze=function(e,t){var n,r=e,i=we(r)||r.isEmpty();if(r.isEmpty()||t||(r=ke(r)||r,i=!0),!C&&!T&&i){var a=r.toString(),u=ae(a,t);return u>=0&&(r=I(k(a,".",u))),r.equals(re)||(n=r,void 0===x&&ie(n),null==W||W(r.isEmpty()?null:R(G,r)),void 0===x&&de(r,t)),r}return re},Me=function(e){if(ye(),fe(e),!ee.current){var t=I(ue(e));t.isNaN()||Ze(t,!0)}},xe=function(e){var t;if(!(e&&pe||!e&&Se)){Y.current=!1;var n=I(y);e||(n=n.negate());var r=(re||I(0)).add(n.toString()),i=Ze(r,!1);null==U||U(R(G,i),{offset:y,type:e?"up":"down"}),null===(t=K.current)||void 0===t||t.focus()}},De=function(e){var t=I(ue(le)),n=t;n=t.isNaN()?re:Ze(t,e),void 0!==x?de(re,!1):n.isNaN()||de(n,!1)};return D((function(){re.isInvalidate()||de(re,!1)}),[P]),D((function(){var e=I(x);ie(e),(e.isNaN()||!Y.current||O)&&de(e,!1)}),[x]),D((function(){O&&Ie()}),[le]),o.createElement("div",{className:l()(v,m,(n={},(0,i.Z)(n,"".concat(v,"-focused"),z),(0,i.Z)(n,"".concat(v,"-disabled"),T),(0,i.Z)(n,"".concat(v,"-readonly"),C),(0,i.Z)(n,"".concat(v,"-not-a-number"),re.isNaN()),(0,i.Z)(n,"".concat(v,"-out-of-range"),!re.isInvalidate()&&!we(re)),n)),style:g,onFocus:function(){J(!0)},onBlur:function(){De(!1),J(!1),Y.current=!1},onKeyDown:function(e){var t=e.which;Y.current=!0,t===f.Z.ENTER&&(ee.current||(Y.current=!1),De(!0),null==L||L(e)),!1!==q&&!ee.current&&[f.Z.UP,f.Z.DOWN].includes(t)&&(xe(f.Z.UP===t),e.preventDefault())},onKeyUp:function(){Y.current=!1},onCompositionStart:function(){ee.current=!0},onCompositionEnd:function(){ee.current=!1,Me(K.current.value)}},o.createElement(Z,{prefixCls:v,upNode:A,downNode:F,upDisabled:pe,downDisabled:Se,onStep:xe}),o.createElement("div",{className:"".concat(X,"-wrap")},o.createElement("input",(0,r.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":N,"aria-valuemax":h,"aria-valuenow":re.isInvalidate()?null:re.toString(),step:y},V,{ref:(0,d.sQ)(K,t),className:X,value:le,onChange:function(e){var t=e.target.value;B||(t=t.replace(/ã€‚/g,".")),Me(t),null==H||H(t)},disabled:T,readOnly:C}))))}));T.displayName="InputNumber";const C=T}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aU0sR0FBa0JDLEdBRWxCN0QsTUFBQUEsR0FBa0RBLEVBQVE2RCxJQW9KMUR0RSxTQUFVQSxFQUNWQyxTQUFVQSxVQUdkWCxFQUFZb0csWUFBYyxjQUMxQixNRW5kQSxFRm1kQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hc3Rlci1kZWdyZWUvLi9ub2RlX21vZHVsZXMvcmMtaW5wdXQtbnVtYmVyL2VzL3V0aWxzL3N1cHBvcnRVdGlsLmpzIiwid2VicGFjazovL21hc3Rlci1kZWdyZWUvLi9ub2RlX21vZHVsZXMvcmMtaW5wdXQtbnVtYmVyL2VzL3V0aWxzL251bWJlclV0aWwuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1pbnB1dC1udW1iZXIvZXMvdXRpbHMvTWluaURlY2ltYWwuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1pbnB1dC1udW1iZXIvZXMvU3RlcEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1pbnB1dC1udW1iZXIvZXMvaG9va3MvdXNlTGF5b3V0RWZmZWN0LmpzIiwid2VicGFjazovL21hc3Rlci1kZWdyZWUvLi9ub2RlX21vZHVsZXMvcmMtaW5wdXQtbnVtYmVyL2VzL2hvb2tzL3VzZVVwZGF0ZUVmZmVjdC5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWlucHV0LW51bWJlci9lcy9JbnB1dE51bWJlci5qcyIsIndlYnBhY2s6Ly9tYXN0ZXItZGVncmVlLy4vbm9kZV9tb2R1bGVzL3JjLWlucHV0LW51bWJlci9lcy9ob29rcy91c2VDdXJzb3IuanMiLCJ3ZWJwYWNrOi8vbWFzdGVyLWRlZ3JlZS8uL25vZGVfbW9kdWxlcy9yYy1pbnB1dC1udW1iZXIvZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRCaWdJbnQoKSB7XG4gIHJldHVybiB0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nO1xufSIsImltcG9ydCB7IHN1cHBvcnRCaWdJbnQgfSBmcm9tICcuL3N1cHBvcnRVdGlsJztcbi8qKlxuICogRm9ybWF0IHN0cmluZyBudW1iZXIgdG8gcmVhZGFibGUgbnVtYmVyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1OdW1iZXIobnVtU3RyKSB7XG4gIHZhciBzdHIgPSBudW1TdHIudHJpbSgpO1xuICB2YXIgbmVnYXRpdmUgPSBzdHIuc3RhcnRzV2l0aCgnLScpO1xuXG4gIGlmIChuZWdhdGl2ZSkge1xuICAgIHN0ciA9IHN0ci5zbGljZSgxKTtcbiAgfVxuXG4gIHN0ciA9IHN0ciAvLyBSZW1vdmUgZGVjaW1hbCAwLiBgMS4wMDBgID0+IGAxLmAsIGAxLjEwMGAgPT4gYDEuMWBcbiAgLnJlcGxhY2UoLyhcXC5cXGQqW14wXSkwKiQvLCAnJDEnKSAvLyBSZW1vdmUgdXNlbGVzcyBkZWNpbWFsLiBgMS5gID0+IGAxYFxuICAucmVwbGFjZSgvXFwuMCokLywgJycpIC8vIFJlbW92ZSBpbnRlZ2VyIDAuIGAwMDAxYCA9PiBgMWAsIDAwMC4xJyA9PiBgLjFgXG4gIC5yZXBsYWNlKC9eMCsvLCAnJyk7XG5cbiAgaWYgKHN0ci5zdGFydHNXaXRoKCcuJykpIHtcbiAgICBzdHIgPSBcIjBcIi5jb25jYXQoc3RyKTtcbiAgfVxuXG4gIHZhciB0cmltU3RyID0gc3RyIHx8ICcwJztcbiAgdmFyIHNwbGl0TnVtYmVyID0gdHJpbVN0ci5zcGxpdCgnLicpO1xuICB2YXIgaW50ZWdlclN0ciA9IHNwbGl0TnVtYmVyWzBdIHx8ICcwJztcbiAgdmFyIGRlY2ltYWxTdHIgPSBzcGxpdE51bWJlclsxXSB8fCAnMCc7XG5cbiAgaWYgKGludGVnZXJTdHIgPT09ICcwJyAmJiBkZWNpbWFsU3RyID09PSAnMCcpIHtcbiAgICBuZWdhdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIG5lZ2F0aXZlU3RyID0gbmVnYXRpdmUgPyAnLScgOiAnJztcbiAgcmV0dXJuIHtcbiAgICBuZWdhdGl2ZTogbmVnYXRpdmUsXG4gICAgbmVnYXRpdmVTdHI6IG5lZ2F0aXZlU3RyLFxuICAgIHRyaW1TdHI6IHRyaW1TdHIsXG4gICAgaW50ZWdlclN0cjogaW50ZWdlclN0cixcbiAgICBkZWNpbWFsU3RyOiBkZWNpbWFsU3RyLFxuICAgIGZ1bGxTdHI6IFwiXCIuY29uY2F0KG5lZ2F0aXZlU3RyKS5jb25jYXQodHJpbVN0cilcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0UobnVtYmVyKSB7XG4gIHZhciBzdHIgPSBTdHJpbmcobnVtYmVyKTtcbiAgcmV0dXJuICFOdW1iZXIuaXNOYU4oTnVtYmVyKHN0cikpICYmIHN0ci5pbmNsdWRlcygnZScpO1xufVxuLyoqXG4gKiBbTGVnYWN5XSBDb252ZXJ0IDFlLTkgdG8gMC4wMDAwMDAwMDEuXG4gKiBUaGlzIG1heSBsb3NlIHNvbWUgcHJlY2lzaW9uIGlmIHVzZXIgcmVhbGx5IHdhbnQgMWUtOS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TnVtYmVyUHJlY2lzaW9uKG51bWJlcikge1xuICB2YXIgbnVtU3RyID0gU3RyaW5nKG51bWJlcik7XG5cbiAgaWYgKGlzRShudW1iZXIpKSB7XG4gICAgdmFyIHByZWNpc2lvbiA9IE51bWJlcihudW1TdHIuc2xpY2UobnVtU3RyLmluZGV4T2YoJ2UtJykgKyAyKSk7XG4gICAgdmFyIGRlY2ltYWxNYXRjaCA9IG51bVN0ci5tYXRjaCgvXFwuKFxcZCspLyk7XG5cbiAgICBpZiAoZGVjaW1hbE1hdGNoID09PSBudWxsIHx8IGRlY2ltYWxNYXRjaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVjaW1hbE1hdGNoWzFdKSB7XG4gICAgICBwcmVjaXNpb24gKz0gZGVjaW1hbE1hdGNoWzFdLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlY2lzaW9uO1xuICB9XG5cbiAgcmV0dXJuIG51bVN0ci5pbmNsdWRlcygnLicpICYmIHZhbGlkYXRlTnVtYmVyKG51bVN0cikgPyBudW1TdHIubGVuZ3RoIC0gbnVtU3RyLmluZGV4T2YoJy4nKSAtIDEgOiAwO1xufVxuLyoqXG4gKiBDb252ZXJ0IG51bWJlciAoaW5jbHVkZXMgc2NpZW50aWZpYyBub3RhdGlvbikgdG8gLXh4eC55eXkgZm9ybWF0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG51bTJzdHIobnVtYmVyKSB7XG4gIHZhciBudW1TdHIgPSBTdHJpbmcobnVtYmVyKTtcblxuICBpZiAoaXNFKG51bWJlcikpIHtcbiAgICBpZiAobnVtYmVyID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoc3VwcG9ydEJpZ0ludCgpID8gQmlnSW50KG51bWJlcikudG9TdHJpbmcoKSA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICB9XG5cbiAgICBpZiAobnVtYmVyIDwgTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoc3VwcG9ydEJpZ0ludCgpID8gQmlnSW50KG51bWJlcikudG9TdHJpbmcoKSA6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKTtcbiAgICB9XG5cbiAgICBudW1TdHIgPSBudW1iZXIudG9GaXhlZChnZXROdW1iZXJQcmVjaXNpb24obnVtU3RyKSk7XG4gIH1cblxuICByZXR1cm4gdHJpbU51bWJlcihudW1TdHIpLmZ1bGxTdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIobnVtKSB7XG4gIGlmICh0eXBlb2YgbnVtID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiAhTnVtYmVyLmlzTmFOKG51bSk7XG4gIH0gLy8gRW1wdHlcblxuXG4gIGlmICghbnVtKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuICgvLyBOb3JtYWwgdHlwZTogMTEuMjhcbiAgICAvXlxccyotP1xcZCsoXFwuXFxkKyk/XFxzKiQvLnRlc3QobnVtKSB8fCAvLyBQcmUtbnVtYmVyOiAxLlxuICAgIC9eXFxzKi0/XFxkK1xcLlxccyokLy50ZXN0KG51bSkgfHwgLy8gUG9zdC1udW1iZXI6IC4xXG4gICAgL15cXHMqLT9cXC5cXGQrXFxzKiQvLnRlc3QobnVtKVxuICApO1xufSIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtY2xhc3Nlcy1wZXItZmlsZSAqL1xuaW1wb3J0IHsgZ2V0TnVtYmVyUHJlY2lzaW9uLCBpc0UsIG51bTJzdHIsIHRyaW1OdW1iZXIsIHZhbGlkYXRlTnVtYmVyIH0gZnJvbSAnLi9udW1iZXJVdGlsJztcbmltcG9ydCB7IHN1cHBvcnRCaWdJbnQgfSBmcm9tICcuL3N1cHBvcnRVdGlsJztcbi8qKlxuICogV2UgY2FuIHJlbW92ZSB0aGlzIHdoZW4gSUUgbm90IHN1cHBvcnQgYW55bW9yZVxuICovXG5cbmV4cG9ydCB2YXIgTnVtYmVyRGVjaW1hbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE51bWJlckRlY2ltYWwodmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyRGVjaW1hbCk7XG5cbiAgICB0aGlzLm9yaWdpbiA9ICcnO1xuXG4gICAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCB8fCAhU3RyaW5nKHZhbHVlKS50cmltKCkpIHtcbiAgICAgIHRoaXMuZW1wdHkgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub3JpZ2luID0gU3RyaW5nKHZhbHVlKTtcbiAgICB0aGlzLm51bWJlciA9IE51bWJlcih2YWx1ZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTnVtYmVyRGVjaW1hbCwgW3tcbiAgICBrZXk6IFwibmVnYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcbiAgICAgIHJldHVybiBuZXcgTnVtYmVyRGVjaW1hbCgtdGhpcy50b051bWJlcigpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJEZWNpbWFsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldCA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgIGlmIChOdW1iZXIuaXNOYU4odGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIG51bWJlciA9IHRoaXMubnVtYmVyICsgdGFyZ2V0OyAvLyBbTGVnYWN5XSBCYWNrIHRvIHNhZmUgaW50ZWdlclxuXG4gICAgICBpZiAobnVtYmVyID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJEZWNpbWFsKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG51bWJlciA8IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyRGVjaW1hbChOdW1iZXIuTUlOX1NBRkVfSU5URUdFUik7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXhQcmVjaXNpb24gPSBNYXRoLm1heChnZXROdW1iZXJQcmVjaXNpb24odGhpcy5udW1iZXIpLCBnZXROdW1iZXJQcmVjaXNpb24odGFyZ2V0KSk7XG4gICAgICByZXR1cm4gbmV3IE51bWJlckRlY2ltYWwobnVtYmVyLnRvRml4ZWQobWF4UHJlY2lzaW9uKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRW1wdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVtcHR5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc05hTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc05hTigpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4odGhpcy5udW1iZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0ludmFsaWRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNJbnZhbGlkYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpIHx8IHRoaXMuaXNOYU4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXF1YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyh0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvTnVtYmVyKCkgPT09ICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXQudG9OdW1iZXIoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxlc3NFcXVhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVzc0VxdWFscyh0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZCh0YXJnZXQubmVnYXRlKCkudG9TdHJpbmcoKSkudG9OdW1iZXIoKSA8PSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b051bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b051bWJlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLm51bWJlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgc2FmZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuICAgICAgaWYgKCFzYWZlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVtMnN0cih0aGlzLm51bWJlcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE51bWJlckRlY2ltYWw7XG59KCk7XG5leHBvcnQgdmFyIEJpZ0ludERlY2ltYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCaWdJbnREZWNpbWFsKHZhbHVlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJpZ0ludERlY2ltYWwpO1xuXG4gICAgdGhpcy5vcmlnaW4gPSAnJztcblxuICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDAgfHwgIVN0cmluZyh2YWx1ZSkudHJpbSgpKSB7XG4gICAgICB0aGlzLmVtcHR5ID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm9yaWdpbiA9IFN0cmluZyh2YWx1ZSk7IC8vIEFjdCBsaWtlIE51bWJlciBjb252ZXJ0XG5cbiAgICBpZiAodmFsdWUgPT09ICctJykge1xuICAgICAgdGhpcy5uYW4gPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtZXJnZWRWYWx1ZSA9IHZhbHVlOyAvLyBXZSBuZWVkIGNvbnZlcnQgYmFjayB0byBOdW1iZXIgc2luY2UgaXQgcmVxdWlyZSBgdG9GaXhlZGAgdG8gaGFuZGxlIHRoaXNcblxuICAgIGlmIChpc0UobWVyZ2VkVmFsdWUpKSB7XG4gICAgICBtZXJnZWRWYWx1ZSA9IE51bWJlcihtZXJnZWRWYWx1ZSk7XG4gICAgfVxuXG4gICAgbWVyZ2VkVmFsdWUgPSB0eXBlb2YgbWVyZ2VkVmFsdWUgPT09ICdzdHJpbmcnID8gbWVyZ2VkVmFsdWUgOiBudW0yc3RyKG1lcmdlZFZhbHVlKTtcblxuICAgIGlmICh2YWxpZGF0ZU51bWJlcihtZXJnZWRWYWx1ZSkpIHtcbiAgICAgIHZhciB0cmltUmV0ID0gdHJpbU51bWJlcihtZXJnZWRWYWx1ZSk7XG4gICAgICB0aGlzLm5lZ2F0aXZlID0gdHJpbVJldC5uZWdhdGl2ZTtcbiAgICAgIHZhciBudW1iZXJzID0gdHJpbVJldC50cmltU3RyLnNwbGl0KCcuJyk7XG4gICAgICB0aGlzLmludGVnZXIgPSBCaWdJbnQobnVtYmVyc1swXSk7XG4gICAgICB2YXIgZGVjaW1hbFN0ciA9IG51bWJlcnNbMV0gfHwgJzAnO1xuICAgICAgdGhpcy5kZWNpbWFsID0gQmlnSW50KGRlY2ltYWxTdHIpO1xuICAgICAgdGhpcy5kZWNpbWFsTGVuID0gZGVjaW1hbFN0ci5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmFuID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQmlnSW50RGVjaW1hbCwgW3tcbiAgICBrZXk6IFwiZ2V0TWFya1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXJrKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgPyAnLScgOiAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0SW50ZWdlclN0clwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnRlZ2VyU3RyKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZWdlci50b1N0cmluZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXREZWNpbWFsU3RyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlY2ltYWxTdHIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNpbWFsLnRvU3RyaW5nKCkucGFkU3RhcnQodGhpcy5kZWNpbWFsTGVuLCAnMCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlnbiBCaWdJbnREZWNpbWFsIHdpdGggc2FtZSBkZWNpbWFsIGxlbmd0aC4gZS5nLiAxMi4zICsgNSA9IDEyMzAwMDBcbiAgICAgKiBUaGlzIGlzIHVzZWQgZm9yIGFkZCBmdW5jdGlvbiBvbmx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWxpZ25EZWNpbWFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFsaWduRGVjaW1hbChkZWNpbWFsTGVuZ3RoKSB7XG4gICAgICB2YXIgc3RyID0gXCJcIi5jb25jYXQodGhpcy5nZXRNYXJrKCkpLmNvbmNhdCh0aGlzLmdldEludGVnZXJTdHIoKSkuY29uY2F0KHRoaXMuZ2V0RGVjaW1hbFN0cigpLnBhZEVuZChkZWNpbWFsTGVuZ3RoLCAnMCcpKTtcbiAgICAgIHJldHVybiBCaWdJbnQoc3RyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmVnYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcbiAgICAgIHZhciBjbG9uZSA9IG5ldyBCaWdJbnREZWNpbWFsKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICBjbG9uZS5uZWdhdGl2ZSA9ICFjbG9uZS5uZWdhdGl2ZTtcbiAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdJbnREZWNpbWFsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9mZnNldCA9IG5ldyBCaWdJbnREZWNpbWFsKHZhbHVlKTtcblxuICAgICAgaWYgKG9mZnNldC5pc0ludmFsaWRhdGUoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIG1heERlY2ltYWxMZW5ndGggPSBNYXRoLm1heCh0aGlzLmdldERlY2ltYWxTdHIoKS5sZW5ndGgsIG9mZnNldC5nZXREZWNpbWFsU3RyKCkubGVuZ3RoKTtcbiAgICAgIHZhciBteUFsaWduZWREZWNpbWFsID0gdGhpcy5hbGlnbkRlY2ltYWwobWF4RGVjaW1hbExlbmd0aCk7XG4gICAgICB2YXIgb2Zmc2V0QWxpZ25lZERlY2ltYWwgPSBvZmZzZXQuYWxpZ25EZWNpbWFsKG1heERlY2ltYWxMZW5ndGgpO1xuICAgICAgdmFyIHZhbHVlU3RyID0gKG15QWxpZ25lZERlY2ltYWwgKyBvZmZzZXRBbGlnbmVkRGVjaW1hbCkudG9TdHJpbmcoKTsgLy8gV2UgbmVlZCBmaWxsIHN0cmluZyBsZW5ndGggYmFjayB0byBgbWF4RGVjaW1hbExlbmd0aGAgdG8gYXZvaWQgcGFyc2VyIGZhaWxlZFxuXG4gICAgICB2YXIgX3RyaW1OdW1iZXIgPSB0cmltTnVtYmVyKHZhbHVlU3RyKSxcbiAgICAgICAgICBuZWdhdGl2ZVN0ciA9IF90cmltTnVtYmVyLm5lZ2F0aXZlU3RyLFxuICAgICAgICAgIHRyaW1TdHIgPSBfdHJpbU51bWJlci50cmltU3RyO1xuXG4gICAgICB2YXIgaHlkcmF0ZVZhbHVlU3RyID0gXCJcIi5jb25jYXQobmVnYXRpdmVTdHIpLmNvbmNhdCh0cmltU3RyLnBhZFN0YXJ0KG1heERlY2ltYWxMZW5ndGggKyAxLCAnMCcpKTtcbiAgICAgIHJldHVybiBuZXcgQmlnSW50RGVjaW1hbChcIlwiLmNvbmNhdChoeWRyYXRlVmFsdWVTdHIuc2xpY2UoMCwgLW1heERlY2ltYWxMZW5ndGgpLCBcIi5cIikuY29uY2F0KGh5ZHJhdGVWYWx1ZVN0ci5zbGljZSgtbWF4RGVjaW1hbExlbmd0aCkpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNFbXB0eVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW1wdHk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzTmFOXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTmFOKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0ludmFsaWRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNJbnZhbGlkYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpIHx8IHRoaXMuaXNOYU4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXF1YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyh0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkgPT09ICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXQudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxlc3NFcXVhbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVzc0VxdWFscyh0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZCh0YXJnZXQubmVnYXRlKCkudG9TdHJpbmcoKSkudG9OdW1iZXIoKSA8PSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b051bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b051bWJlcigpIHtcbiAgICAgIGlmICh0aGlzLmlzTmFOKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE51bWJlcih0aGlzLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHZhciBzYWZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG4gICAgICBpZiAoIXNhZmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc0ludmFsaWRhdGUoKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmltTnVtYmVyKFwiXCIuY29uY2F0KHRoaXMuZ2V0TWFyaygpKS5jb25jYXQodGhpcy5nZXRJbnRlZ2VyU3RyKCksIFwiLlwiKS5jb25jYXQodGhpcy5nZXREZWNpbWFsU3RyKCkpKS5mdWxsU3RyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCaWdJbnREZWNpbWFsO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TWluaURlY2ltYWwodmFsdWUpIHtcbiAgLy8gV2UgdXNlIEJpZ0ludCBoZXJlLlxuICAvLyBXaWxsIGZhbGxiYWNrIHRvIE51bWJlciBpZiBub3Qgc3VwcG9ydC5cbiAgaWYgKHN1cHBvcnRCaWdJbnQoKSkge1xuICAgIHJldHVybiBuZXcgQmlnSW50RGVjaW1hbCh2YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IE51bWJlckRlY2ltYWwodmFsdWUpO1xufVxuLyoqXG4gKiBBbGlnbiB0aGUgbG9naWMgb2YgdG9GaXhlZCB0byBhcm91bmQgbGlrZSAxLjUgPT4gMlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKG51bVN0ciwgc2VwYXJhdG9yU3RyLCBwcmVjaXNpb24pIHtcbiAgaWYgKG51bVN0ciA9PT0gJycpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgX3RyaW1OdW1iZXIyID0gdHJpbU51bWJlcihudW1TdHIpLFxuICAgICAgbmVnYXRpdmVTdHIgPSBfdHJpbU51bWJlcjIubmVnYXRpdmVTdHIsXG4gICAgICBpbnRlZ2VyU3RyID0gX3RyaW1OdW1iZXIyLmludGVnZXJTdHIsXG4gICAgICBkZWNpbWFsU3RyID0gX3RyaW1OdW1iZXIyLmRlY2ltYWxTdHI7XG5cbiAgdmFyIHByZWNpc2lvbkRlY2ltYWxTdHIgPSBcIlwiLmNvbmNhdChzZXBhcmF0b3JTdHIpLmNvbmNhdChkZWNpbWFsU3RyKTtcbiAgdmFyIG51bWJlcldpdGhvdXREZWNpbWFsID0gXCJcIi5jb25jYXQobmVnYXRpdmVTdHIpLmNvbmNhdChpbnRlZ2VyU3RyKTtcblxuICBpZiAocHJlY2lzaW9uID49IDApIHtcbiAgICAvLyBXZSB3aWxsIGdldCBsYXN0ICsgMSBudW1iZXIgdG8gY2hlY2sgaWYgbmVlZCBhZHZhbmNlZCBudW1iZXJcbiAgICB2YXIgYWR2YW5jZWROdW0gPSBOdW1iZXIoZGVjaW1hbFN0cltwcmVjaXNpb25dKTtcblxuICAgIGlmIChhZHZhbmNlZE51bSA+PSA1KSB7XG4gICAgICB2YXIgYWR2YW5jZWREZWNpbWFsID0gZ2V0TWluaURlY2ltYWwobnVtU3RyKS5hZGQoXCIwLlwiLmNvbmNhdCgnMCcucmVwZWF0KHByZWNpc2lvbikpLmNvbmNhdCgxMCAtIGFkdmFuY2VkTnVtKSk7XG4gICAgICByZXR1cm4gdG9GaXhlZChhZHZhbmNlZERlY2ltYWwudG9TdHJpbmcoKSwgc2VwYXJhdG9yU3RyLCBwcmVjaXNpb24pO1xuICAgIH1cblxuICAgIGlmIChwcmVjaXNpb24gPT09IDApIHtcbiAgICAgIHJldHVybiBudW1iZXJXaXRob3V0RGVjaW1hbDtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQobnVtYmVyV2l0aG91dERlY2ltYWwpLmNvbmNhdChzZXBhcmF0b3JTdHIpLmNvbmNhdChkZWNpbWFsU3RyLnBhZEVuZChwcmVjaXNpb24sICcwJykuc2xpY2UoMCwgcHJlY2lzaW9uKSk7XG4gIH1cblxuICBpZiAocHJlY2lzaW9uRGVjaW1hbFN0ciA9PT0gJy4wJykge1xuICAgIHJldHVybiBudW1iZXJXaXRob3V0RGVjaW1hbDtcbiAgfVxuXG4gIHJldHVybiBcIlwiLmNvbmNhdChudW1iZXJXaXRob3V0RGVjaW1hbCkuY29uY2F0KHByZWNpc2lvbkRlY2ltYWxTdHIpO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGlzTW9iaWxlIGZyb20gXCJyYy11dGlsL2VzL2lzTW9iaWxlXCI7XG4vKipcbiAqIFdoZW4gY2xpY2sgYW5kIGhvbGQgb24gYSBidXR0b24gLSB0aGUgc3BlZWQgb2YgYXV0byBjaGFuZ2luZyB0aGUgdmFsdWUuXG4gKi9cblxudmFyIFNURVBfSU5URVJWQUwgPSAyMDA7XG4vKipcbiAqIFdoZW4gY2xpY2sgYW5kIGhvbGQgb24gYSBidXR0b24gLSB0aGUgZGVsYXkgYmVmb3JlIGF1dG8gY2hhbmdpbmcgdGhlIHZhbHVlLlxuICovXG5cbnZhciBTVEVQX0RFTEFZID0gNjAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RlcEhhbmRsZXIoX3JlZikge1xuICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG4gICAgICB1cE5vZGUgPSBfcmVmLnVwTm9kZSxcbiAgICAgIGRvd25Ob2RlID0gX3JlZi5kb3duTm9kZSxcbiAgICAgIHVwRGlzYWJsZWQgPSBfcmVmLnVwRGlzYWJsZWQsXG4gICAgICBkb3duRGlzYWJsZWQgPSBfcmVmLmRvd25EaXNhYmxlZCxcbiAgICAgIG9uU3RlcCA9IF9yZWYub25TdGVwO1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gU3RlcCA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgdmFyIHN0ZXBUaW1lb3V0UmVmID0gUmVhY3QudXNlUmVmKCk7XG4gIHZhciBvblN0ZXBSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgb25TdGVwUmVmLmN1cnJlbnQgPSBvblN0ZXA7IC8vIFdlIHdpbGwgaW50ZXJ2YWwgdXBkYXRlIHN0ZXAgd2hlbiBob2xkIG1vdXNlIGRvd25cblxuICB2YXIgb25TdGVwTW91c2VEb3duID0gZnVuY3Rpb24gb25TdGVwTW91c2VEb3duKGUsIHVwKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG9uU3RlcFJlZi5jdXJyZW50KHVwKTsgLy8gTG9vcCBzdGVwIGZvciBpbnRlcnZhbFxuXG4gICAgZnVuY3Rpb24gbG9vcFN0ZXAoKSB7XG4gICAgICBvblN0ZXBSZWYuY3VycmVudCh1cCk7XG4gICAgICBzdGVwVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dChsb29wU3RlcCwgU1RFUF9JTlRFUlZBTCk7XG4gICAgfSAvLyBGaXJzdCB0aW1lIHByZXNzIHdpbGwgd2FpdCBzb21lIHRpbWUgdG8gdHJpZ2dlciBsb29wIHN0ZXAgdXBkYXRlXG5cblxuICAgIHN0ZXBUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGxvb3BTdGVwLCBTVEVQX0RFTEFZKTtcbiAgfTtcblxuICB2YXIgb25TdG9wU3RlcCA9IGZ1bmN0aW9uIG9uU3RvcFN0ZXAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHN0ZXBUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICB9O1xuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uU3RvcFN0ZXA7XG4gIH0sIFtdKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT0gUmVuZGVyID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgaWYgKGlzTW9iaWxlKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBoYW5kbGVyQ2xhc3NOYW1lID0gXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1oYW5kbGVyXCIpO1xuICB2YXIgdXBDbGFzc05hbWUgPSBjbGFzc05hbWVzKGhhbmRsZXJDbGFzc05hbWUsIFwiXCIuY29uY2F0KGhhbmRsZXJDbGFzc05hbWUsIFwiLXVwXCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KGhhbmRsZXJDbGFzc05hbWUsIFwiLXVwLWRpc2FibGVkXCIpLCB1cERpc2FibGVkKSk7XG4gIHZhciBkb3duQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhoYW5kbGVyQ2xhc3NOYW1lLCBcIlwiLmNvbmNhdChoYW5kbGVyQ2xhc3NOYW1lLCBcIi1kb3duXCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KGhhbmRsZXJDbGFzc05hbWUsIFwiLWRvd24tZGlzYWJsZWRcIiksIGRvd25EaXNhYmxlZCkpO1xuICB2YXIgc2hhcmVkSGFuZGxlclByb3BzID0ge1xuICAgIHVuc2VsZWN0YWJsZTogJ29uJyxcbiAgICByb2xlOiAnYnV0dG9uJyxcbiAgICBvbk1vdXNlVXA6IG9uU3RvcFN0ZXAsXG4gICAgb25Nb3VzZUxlYXZlOiBvblN0b3BTdGVwXG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChoYW5kbGVyQ2xhc3NOYW1lLCBcIi13cmFwXCIpXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfZXh0ZW5kcyh7fSwgc2hhcmVkSGFuZGxlclByb3BzLCB7XG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICAgIG9uU3RlcE1vdXNlRG93bihlLCB0cnVlKTtcbiAgICB9LFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcIkluY3JlYXNlIFZhbHVlXCIsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IHVwRGlzYWJsZWQsXG4gICAgY2xhc3NOYW1lOiB1cENsYXNzTmFtZVxuICB9KSwgdXBOb2RlIHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgdW5zZWxlY3RhYmxlOiBcIm9uXCIsXG4gICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWhhbmRsZXItdXAtaW5uZXJcIilcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX2V4dGVuZHMoe30sIHNoYXJlZEhhbmRsZXJQcm9wcywge1xuICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICBvblN0ZXBNb3VzZURvd24oZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiRGVjcmVhc2UgVmFsdWVcIixcbiAgICBcImFyaWEtZGlzYWJsZWRcIjogZG93bkRpc2FibGVkLFxuICAgIGNsYXNzTmFtZTogZG93bkNsYXNzTmFtZVxuICB9KSwgZG93bk5vZGUgfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICB1bnNlbGVjdGFibGU6IFwib25cIixcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItaGFuZGxlci1kb3duLWlubmVyXCIpXG4gIH0pKSk7XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNhblVzZURvbSBmcm9tIFwicmMtdXRpbC9lcy9Eb20vY2FuVXNlRG9tXCI7XG5leHBvcnQgdmFyIHVzZUxheW91dEVmZmVjdCA9IGNhblVzZURvbSgpID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJy4vdXNlTGF5b3V0RWZmZWN0Jztcbi8qKlxuICogV29yayBhcyBgY29tcG9uZW50RGlkVXBkYXRlYFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVVwZGF0ZUVmZmVjdChjYWxsYmFjaywgY29uZGl0aW9uKSB7XG4gIHZhciBpbml0UmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWluaXRSZWYuY3VycmVudCkge1xuICAgICAgaW5pdFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH0sIGNvbmRpdGlvbik7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgS2V5Q29kZSBmcm9tIFwicmMtdXRpbC9lcy9LZXlDb2RlXCI7XG5pbXBvcnQgeyBjb21wb3NlUmVmIH0gZnJvbSBcInJjLXV0aWwvZXMvcmVmXCI7XG5pbXBvcnQgZ2V0TWluaURlY2ltYWwsIHsgdG9GaXhlZCB9IGZyb20gJy4vdXRpbHMvTWluaURlY2ltYWwnO1xuaW1wb3J0IFN0ZXBIYW5kbGVyIGZyb20gJy4vU3RlcEhhbmRsZXInO1xuaW1wb3J0IHsgZ2V0TnVtYmVyUHJlY2lzaW9uLCBudW0yc3RyLCB2YWxpZGF0ZU51bWJlciB9IGZyb20gJy4vdXRpbHMvbnVtYmVyVXRpbCc7XG5pbXBvcnQgdXNlQ3Vyc29yIGZyb20gJy4vaG9va3MvdXNlQ3Vyc29yJztcbmltcG9ydCB1c2VVcGRhdGVFZmZlY3QgZnJvbSAnLi9ob29rcy91c2VVcGRhdGVFZmZlY3QnO1xuLyoqXG4gKiBXZSBzdXBwb3J0IGBzdHJpbmdNb2RlYCB3aGljaCBuZWVkIGhhbmRsZSBjb3JyZWN0IHR5cGUgd2hlbiB1c2VyIGNhbGwgaW4gb25DaGFuZ2VcbiAqL1xuXG52YXIgZ2V0RGVjaW1hbFZhbHVlID0gZnVuY3Rpb24gZ2V0RGVjaW1hbFZhbHVlKHN0cmluZ01vZGUsIGRlY2ltYWxWYWx1ZSkge1xuICBpZiAoc3RyaW5nTW9kZSB8fCBkZWNpbWFsVmFsdWUuaXNFbXB0eSgpKSB7XG4gICAgcmV0dXJuIGRlY2ltYWxWYWx1ZS50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIGRlY2ltYWxWYWx1ZS50b051bWJlcigpO1xufTtcblxudmFyIGdldERlY2ltYWxJZlZhbGlkYXRlID0gZnVuY3Rpb24gZ2V0RGVjaW1hbElmVmFsaWRhdGUodmFsdWUpIHtcbiAgdmFyIGRlY2ltYWwgPSBnZXRNaW5pRGVjaW1hbCh2YWx1ZSk7XG4gIHJldHVybiBkZWNpbWFsLmlzSW52YWxpZGF0ZSgpID8gbnVsbCA6IGRlY2ltYWw7XG59O1xuXG52YXIgSW5wdXROdW1iZXIgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB2b2lkIDAgPyAncmMtaW5wdXQtbnVtYmVyJyA6IF9wcm9wcyRwcmVmaXhDbHMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuICAgICAgbWluID0gcHJvcHMubWluLFxuICAgICAgbWF4ID0gcHJvcHMubWF4LFxuICAgICAgX3Byb3BzJHN0ZXAgPSBwcm9wcy5zdGVwLFxuICAgICAgc3RlcCA9IF9wcm9wcyRzdGVwID09PSB2b2lkIDAgPyAxIDogX3Byb3BzJHN0ZXAsXG4gICAgICBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIHJlYWRPbmx5ID0gcHJvcHMucmVhZE9ubHksXG4gICAgICB1cEhhbmRsZXIgPSBwcm9wcy51cEhhbmRsZXIsXG4gICAgICBkb3duSGFuZGxlciA9IHByb3BzLmRvd25IYW5kbGVyLFxuICAgICAga2V5Ym9hcmQgPSBwcm9wcy5rZXlib2FyZCxcbiAgICAgIHN0cmluZ01vZGUgPSBwcm9wcy5zdHJpbmdNb2RlLFxuICAgICAgcGFyc2VyID0gcHJvcHMucGFyc2VyLFxuICAgICAgZm9ybWF0dGVyID0gcHJvcHMuZm9ybWF0dGVyLFxuICAgICAgcHJlY2lzaW9uID0gcHJvcHMucHJlY2lzaW9uLFxuICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IHByb3BzLmRlY2ltYWxTZXBhcmF0b3IsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgb25JbnB1dCA9IHByb3BzLm9uSW5wdXQsXG4gICAgICBvblByZXNzRW50ZXIgPSBwcm9wcy5vblByZXNzRW50ZXIsXG4gICAgICBvblN0ZXAgPSBwcm9wcy5vblN0ZXAsXG4gICAgICBpbnB1dFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJwcmVmaXhDbHNcIiwgXCJjbGFzc05hbWVcIiwgXCJzdHlsZVwiLCBcIm1pblwiLCBcIm1heFwiLCBcInN0ZXBcIiwgXCJkZWZhdWx0VmFsdWVcIiwgXCJ2YWx1ZVwiLCBcImRpc2FibGVkXCIsIFwicmVhZE9ubHlcIiwgXCJ1cEhhbmRsZXJcIiwgXCJkb3duSGFuZGxlclwiLCBcImtleWJvYXJkXCIsIFwic3RyaW5nTW9kZVwiLCBcInBhcnNlclwiLCBcImZvcm1hdHRlclwiLCBcInByZWNpc2lvblwiLCBcImRlY2ltYWxTZXBhcmF0b3JcIiwgXCJvbkNoYW5nZVwiLCBcIm9uSW5wdXRcIiwgXCJvblByZXNzRW50ZXJcIiwgXCJvblN0ZXBcIl0pO1xuXG4gIHZhciBpbnB1dENsYXNzTmFtZSA9IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItaW5wdXRcIik7XG4gIHZhciBpbnB1dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBmb2N1cyA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRGb2N1cyA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIHVzZXJUeXBpbmdSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB2YXIgY29tcG9zaXRpb25SZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFZhbHVlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJlYWwgdmFsdWUgY29udHJvbFxuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRNaW5pRGVjaW1hbCh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpO1xuICB9KSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIGRlY2ltYWxWYWx1ZSA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICBzZXREZWNpbWFsVmFsdWUgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuXG4gIGZ1bmN0aW9uIHNldFVuY29udHJvbGxlZERlY2ltYWxWYWx1ZShuZXdEZWNpbWFsKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldERlY2ltYWxWYWx1ZShuZXdEZWNpbWFsKTtcbiAgICB9XG4gIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PSBQYXJzZXIgJiBGb3JtYXR0ZXIgPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBgcHJlY2lzaW9uYCBpcyB1c2VkIGZvciBmb3JtYXR0ZXIgJiBvbkNoYW5nZS5cbiAgICogSXQgd2lsbCBhdXRvIGdlbmVyYXRlIGJ5IGB2YWx1ZWAgJiBgc3RlcGAuXG4gICAqIEJ1dCBpdCB3aWxsIG5vdCBibG9jayB1c2VyIHR5cGluZy5cbiAgICpcbiAgICogTm90ZTogQXV0byBnZW5lcmF0ZSBgcHJlY2lzaW9uYCBpcyB1c2VkIGZvciBsZWdhY3kgbG9naWMuXG4gICAqIFdlIHNob3VsZCByZW1vdmUgdGhpcyBzaW5jZSB3ZSBhbHJlYWR5IHN1cHBvcnQgaGlnaCBwcmVjaXNpb24gd2l0aCBCaWdJbnQuXG4gICAqXG4gICAqIEBwYXJhbSBudW1iZXIgIFByb3ZpZGUgd2hpY2ggbnVtYmVyIHNob3VsZCBjYWxjdWxhdGUgcHJlY2lzaW9uXG4gICAqIEBwYXJhbSB1c2VyVHlwaW5nICBDaGFuZ2UgYnkgdXNlciB0eXBpbmdcbiAgICovXG5cblxuICB2YXIgZ2V0UHJlY2lzaW9uID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKG51bVN0ciwgdXNlclR5cGluZykge1xuICAgIGlmICh1c2VyVHlwaW5nKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChwcmVjaXNpb24gPj0gMCkge1xuICAgICAgcmV0dXJuIHByZWNpc2lvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoZ2V0TnVtYmVyUHJlY2lzaW9uKG51bVN0ciksIGdldE51bWJlclByZWNpc2lvbihzdGVwKSk7XG4gIH0sIFtwcmVjaXNpb24sIHN0ZXBdKTsgLy8gPj4+IFBhcnNlclxuXG4gIHZhciBtZXJnZWRQYXJzZXIgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAobnVtKSB7XG4gICAgdmFyIG51bVN0ciA9IFN0cmluZyhudW0pO1xuXG4gICAgaWYgKHBhcnNlcikge1xuICAgICAgcmV0dXJuIHBhcnNlcihudW1TdHIpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRTdHIgPSBudW1TdHI7XG5cbiAgICBpZiAoZGVjaW1hbFNlcGFyYXRvcikge1xuICAgICAgcGFyc2VkU3RyID0gcGFyc2VkU3RyLnJlcGxhY2UoZGVjaW1hbFNlcGFyYXRvciwgJy4nKTtcbiAgICB9IC8vIFtMZWdhY3ldIFdlIHN0aWxsIHN1cHBvcnQgYXV0byBjb252ZXJ0IGAkIDEyMyw0NTZgIHRvIGAxMjM0NTZgXG5cblxuICAgIHJldHVybiBwYXJzZWRTdHIucmVwbGFjZSgvW15cXHcuLV0rL2csICcnKTtcbiAgfSwgW3BhcnNlciwgZGVjaW1hbFNlcGFyYXRvcl0pOyAvLyA+Pj4gRm9ybWF0dGVyXG5cbiAgdmFyIG1lcmdlZEZvcm1hdHRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChudW1iZXIsIHVzZXJUeXBpbmcpIHtcbiAgICBpZiAoZm9ybWF0dGVyKSB7XG4gICAgICByZXR1cm4gZm9ybWF0dGVyKG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIHN0ciA9IHR5cGVvZiBudW1iZXIgPT09ICdudW1iZXInID8gbnVtMnN0cihudW1iZXIpIDogbnVtYmVyOyAvLyBVc2VyIHR5cGluZyB3aWxsIG5vdCBhdXRvIGZvcm1hdCB3aXRoIHByZWNpc2lvbiBkaXJlY3RseVxuXG4gICAgaWYgKCF1c2VyVHlwaW5nKSB7XG4gICAgICB2YXIgbWVyZ2VkUHJlY2lzaW9uID0gZ2V0UHJlY2lzaW9uKHN0ciwgdXNlclR5cGluZyk7XG5cbiAgICAgIGlmICh2YWxpZGF0ZU51bWJlcihzdHIpICYmIChkZWNpbWFsU2VwYXJhdG9yIHx8IG1lcmdlZFByZWNpc2lvbiA+PSAwKSkge1xuICAgICAgICAvLyBTZXBhcmF0b3JcbiAgICAgICAgdmFyIHNlcGFyYXRvclN0ciA9IGRlY2ltYWxTZXBhcmF0b3IgfHwgJy4nO1xuICAgICAgICBzdHIgPSB0b0ZpeGVkKHN0ciwgc2VwYXJhdG9yU3RyLCBtZXJnZWRQcmVjaXNpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH0sIFtmb3JtYXR0ZXIsIGdldFByZWNpc2lvbiwgZGVjaW1hbFNlcGFyYXRvcl0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSBJbnB1dFZhbHVlID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIElucHV0IHRleHQgdmFsdWUgY29udHJvbFxuICAgKlxuICAgKiBVc2VyIGNhbiBub3QgdXBkYXRlIGlucHV0IGNvbnRlbnQgZGlyZWN0bHkuIEl0IHVwZGF0ZSB3aXRoIGZvbGxvdyBydWxlcyBieSBwcmlvcml0eTpcbiAgICogIDEuIGNvbnRyb2xsZWQgYHZhbHVlYCBjaGFuZ2VkXG4gICAqICAgICogW1NQRUNJQUxdIFR5cGluZyBsaWtlIGAxLmAgc2hvdWxkIG5vdCBpbW1lZGlhdGVseSBjb252ZXJ0IHRvIGAxYFxuICAgKiAgMi4gVXNlciB0eXBpbmcgd2l0aCBmb3JtYXQgKG5vdCBwcmVjaXNpb24pXG4gICAqICAzLiBCbHVyIG9yIEVudGVyIHRyaWdnZXIgcmV2YWxpZGF0ZVxuICAgKi9cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5pdFZhbHVlID0gZGVmYXVsdFZhbHVlICE9PSBudWxsICYmIGRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG5cbiAgICBpZiAoZGVjaW1hbFZhbHVlLmlzSW52YWxpZGF0ZSgpICYmIFsnc3RyaW5nJywgJ251bWJlciddLmluY2x1ZGVzKF90eXBlb2YoaW5pdFZhbHVlKSkpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oaW5pdFZhbHVlKSA/ICcnIDogaW5pdFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWRGb3JtYXR0ZXIoZGVjaW1hbFZhbHVlLnRvU3RyaW5nKCksIGZhbHNlKTtcbiAgfSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksXG4gICAgICBpbnB1dFZhbHVlID0gX1JlYWN0JHVzZVN0YXRlNlswXSxcbiAgICAgIHNldEludGVybmFsSW5wdXRWYWx1ZSA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07IC8vIFNob3VsZCBhbHdheXMgYmUgc3RyaW5nXG5cblxuICBmdW5jdGlvbiBzZXRJbnB1dFZhbHVlKG5ld1ZhbHVlLCB1c2VyVHlwaW5nKSB7XG4gICAgc2V0SW50ZXJuYWxJbnB1dFZhbHVlKG1lcmdlZEZvcm1hdHRlciggLy8gSW52YWxpZGF0ZSBudW1iZXIgaXMgc29tZXRpbWUgcGFzc2VkIGJ5IGV4dGVybmFsIGNvbnRyb2wsIHdlIHNob3VsZCBsZXQgaXQgZ29cbiAgICAvLyBPdGhlcndpc2UgaXMgY29udHJvbGxlZCBieSBpbnRlcm5hbCBpbnRlcmFjdGl2ZSBsb2dpYyB3aGljaCBjaGVjayBieSB1c2VyVHlwaW5nXG4gICAgLy8gWW91IGNhbiByZWYgJ3Nob3cgbGltaXRlZCB2YWx1ZSB3aGVuIGlucHV0IGlzIG5vdCBmb2N1c2VkJyB0ZXN0IGZvciBtb3JlIGluZm8uXG4gICAgbmV3VmFsdWUuaXNJbnZhbGlkYXRlKCkgPyBuZXdWYWx1ZS50b1N0cmluZyhmYWxzZSkgOiBuZXdWYWx1ZS50b1N0cmluZyghdXNlclR5cGluZyksIHVzZXJUeXBpbmcpKTtcbiAgfSAvLyA+Pj4gTWF4ICYgTWluIGxpbWl0XG5cblxuICB2YXIgbWF4RGVjaW1hbCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXREZWNpbWFsSWZWYWxpZGF0ZShtYXgpO1xuICB9LCBbbWF4XSk7XG4gIHZhciBtaW5EZWNpbWFsID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldERlY2ltYWxJZlZhbGlkYXRlKG1pbik7XG4gIH0sIFttaW5dKTtcbiAgdmFyIHVwRGlzYWJsZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIW1heERlY2ltYWwgfHwgIWRlY2ltYWxWYWx1ZSB8fCBkZWNpbWFsVmFsdWUuaXNJbnZhbGlkYXRlKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF4RGVjaW1hbC5sZXNzRXF1YWxzKGRlY2ltYWxWYWx1ZSk7XG4gIH0sIFttYXhEZWNpbWFsLCBkZWNpbWFsVmFsdWVdKTtcbiAgdmFyIGRvd25EaXNhYmxlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIGlmICghbWluRGVjaW1hbCB8fCAhZGVjaW1hbFZhbHVlIHx8IGRlY2ltYWxWYWx1ZS5pc0ludmFsaWRhdGUoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBkZWNpbWFsVmFsdWUubGVzc0VxdWFscyhtaW5EZWNpbWFsKTtcbiAgfSwgW21pbkRlY2ltYWwsIGRlY2ltYWxWYWx1ZV0pOyAvLyBDdXJzb3IgY29udHJvbGxlclxuXG4gIHZhciBfdXNlQ3Vyc29yID0gdXNlQ3Vyc29yKGlucHV0UmVmLmN1cnJlbnQsIGZvY3VzKSxcbiAgICAgIF91c2VDdXJzb3IyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUN1cnNvciwgMiksXG4gICAgICByZWNvcmRDdXJzb3IgPSBfdXNlQ3Vyc29yMlswXSxcbiAgICAgIHJlc3RvcmVDdXJzb3IgPSBfdXNlQ3Vyc29yMlsxXTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRGF0YSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBGaW5kIHRhcmdldCB2YWx1ZSBjbG9zZXQgd2l0aGluIHJhbmdlLlxuICAgKiBlLmcuIFsxMSwgMjhdOlxuICAgKiAgICAzICA9PiAxMVxuICAgKiAgICAyMyA9PiAyM1xuICAgKiAgICA5OSA9PiAyOFxuICAgKi9cblxuXG4gIHZhciBnZXRSYW5nZVZhbHVlID0gZnVuY3Rpb24gZ2V0UmFuZ2VWYWx1ZSh0YXJnZXQpIHtcbiAgICAvLyB0YXJnZXQgPiBtYXhcbiAgICBpZiAobWF4RGVjaW1hbCAmJiAhdGFyZ2V0Lmxlc3NFcXVhbHMobWF4RGVjaW1hbCkpIHtcbiAgICAgIHJldHVybiBtYXhEZWNpbWFsO1xuICAgIH0gLy8gdGFyZ2V0IDwgbWluXG5cblxuICAgIGlmIChtaW5EZWNpbWFsICYmICFtaW5EZWNpbWFsLmxlc3NFcXVhbHModGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIG1pbkRlY2ltYWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB2YWx1ZSBpcyBpbiBbbWluLCBtYXhdIHJhbmdlXG4gICAqL1xuXG5cbiAgdmFyIGlzSW5SYW5nZSA9IGZ1bmN0aW9uIGlzSW5SYW5nZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWdldFJhbmdlVmFsdWUodGFyZ2V0KTtcbiAgfTtcbiAgLyoqXG4gICAqIFRyaWdnZXIgYG9uQ2hhbmdlYCBpZiB2YWx1ZSB2YWxpZGF0ZWQgYW5kIG5vdCBlcXVhbHMgb2Ygb3JpZ2luLlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIHRoYXQgcmUtYWxpZ24gaW4gcmFuZ2UuXG4gICAqL1xuXG5cbiAgdmFyIHRyaWdnZXJWYWx1ZVVwZGF0ZSA9IGZ1bmN0aW9uIHRyaWdnZXJWYWx1ZVVwZGF0ZShuZXdWYWx1ZSwgdXNlclR5cGluZykge1xuICAgIHZhciB1cGRhdGVWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIHZhciBpc1JhbmdlVmFsaWRhdGUgPSBpc0luUmFuZ2UodXBkYXRlVmFsdWUpIHx8IHVwZGF0ZVZhbHVlLmlzRW1wdHkoKTsgLy8gU2tpcCBhbGlnbiB2YWx1ZSB3aGVuIHRyaWdnZXIgdmFsdWUgaXMgZW1wdHkuXG4gICAgLy8gV2UganVzdCB0cmlnZ2VyIG9uQ2hhbmdlKG51bGwpXG4gICAgLy8gVGhpcyBzaG91bGQgbm90IGJsb2NrIHVzZXIgdHlwaW5nXG5cbiAgICBpZiAoIXVwZGF0ZVZhbHVlLmlzRW1wdHkoKSAmJiAhdXNlclR5cGluZykge1xuICAgICAgLy8gUmV2ZXJ0IHZhbHVlIGluIHJhbmdlIGlmIG5lZWRlZFxuICAgICAgdXBkYXRlVmFsdWUgPSBnZXRSYW5nZVZhbHVlKHVwZGF0ZVZhbHVlKSB8fCB1cGRhdGVWYWx1ZTtcbiAgICAgIGlzUmFuZ2VWYWxpZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFyZWFkT25seSAmJiAhZGlzYWJsZWQgJiYgaXNSYW5nZVZhbGlkYXRlKSB7XG4gICAgICB2YXIgbnVtU3RyID0gdXBkYXRlVmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIHZhciBtZXJnZWRQcmVjaXNpb24gPSBnZXRQcmVjaXNpb24obnVtU3RyLCB1c2VyVHlwaW5nKTtcblxuICAgICAgaWYgKG1lcmdlZFByZWNpc2lvbiA+PSAwKSB7XG4gICAgICAgIHVwZGF0ZVZhbHVlID0gZ2V0TWluaURlY2ltYWwodG9GaXhlZChudW1TdHIsICcuJywgbWVyZ2VkUHJlY2lzaW9uKSk7XG4gICAgICB9IC8vIFRyaWdnZXIgZXZlbnRcblxuXG4gICAgICBpZiAoIXVwZGF0ZVZhbHVlLmVxdWFscyhkZWNpbWFsVmFsdWUpKSB7XG4gICAgICAgIHNldFVuY29udHJvbGxlZERlY2ltYWxWYWx1ZSh1cGRhdGVWYWx1ZSk7XG4gICAgICAgIG9uQ2hhbmdlID09PSBudWxsIHx8IG9uQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNoYW5nZSh1cGRhdGVWYWx1ZS5pc0VtcHR5KCkgPyBudWxsIDogZ2V0RGVjaW1hbFZhbHVlKHN0cmluZ01vZGUsIHVwZGF0ZVZhbHVlKSk7IC8vIFJlZm9ybWF0IGlucHV0IGlmIHZhbHVlIGlzIG5vdCBjb250cm9sbGVkXG5cbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRJbnB1dFZhbHVlKHVwZGF0ZVZhbHVlLCB1c2VyVHlwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlVmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlY2ltYWxWYWx1ZTtcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gVXNlciBJbnB1dCA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyA+Pj4gQ29sbGVjdCBpbnB1dCB2YWx1ZVxuXG5cbiAgdmFyIGNvbGxlY3RJbnB1dFZhbHVlID0gZnVuY3Rpb24gY29sbGVjdElucHV0VmFsdWUoaW5wdXRTdHIpIHtcbiAgICByZWNvcmRDdXJzb3IoKTsgLy8gVXBkYXRlIGlucHV0VmFsdWUgaW5jYXNlIGlucHV0IGNhbiBub3QgcGFyc2UgYXMgbnVtYmVyXG5cbiAgICBzZXRJbnRlcm5hbElucHV0VmFsdWUoaW5wdXRTdHIpOyAvLyBQYXJzZSBudW1iZXJcblxuICAgIGlmICghY29tcG9zaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgdmFyIGZpbmFsVmFsdWUgPSBtZXJnZWRQYXJzZXIoaW5wdXRTdHIpO1xuICAgICAgdmFyIGZpbmFsRGVjaW1hbCA9IGdldE1pbmlEZWNpbWFsKGZpbmFsVmFsdWUpO1xuXG4gICAgICBpZiAoIWZpbmFsRGVjaW1hbC5pc05hTigpKSB7XG4gICAgICAgIHRyaWdnZXJWYWx1ZVVwZGF0ZShmaW5hbERlY2ltYWwsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTsgLy8gPj4+IENvbXBvc2l0aW9uXG5cblxuICB2YXIgb25Db21wb3NpdGlvblN0YXJ0ID0gZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0KCkge1xuICAgIGNvbXBvc2l0aW9uUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9O1xuXG4gIHZhciBvbkNvbXBvc2l0aW9uRW5kID0gZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZCgpIHtcbiAgICBjb21wb3NpdGlvblJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgY29sbGVjdElucHV0VmFsdWUoaW5wdXRSZWYuY3VycmVudC52YWx1ZSk7XG4gIH07IC8vID4+PiBJbnB1dFxuXG5cbiAgdmFyIG9uSW50ZXJuYWxJbnB1dCA9IGZ1bmN0aW9uIG9uSW50ZXJuYWxJbnB1dChlKSB7XG4gICAgdmFyIGlucHV0U3RyID0gZS50YXJnZXQudmFsdWU7IC8vIG9wdGltaXplIGZvciBjaGluZXNlIGlucHV0IGV4cGVyaWVuY2VcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy84MTk2XG5cbiAgICBpZiAoIXBhcnNlcikge1xuICAgICAgaW5wdXRTdHIgPSBpbnB1dFN0ci5yZXBsYWNlKC/jgIIvZywgJy4nKTtcbiAgICB9XG5cbiAgICBjb2xsZWN0SW5wdXRWYWx1ZShpbnB1dFN0cik7IC8vIFRyaWdnZXIgb25JbnB1dCBsYXRlciB0byBsZXQgdXNlciBjdXN0b21pemUgdmFsdWUgaWYgdGhleSB3YW50IGRvIGhhbmRsZSBzb21ldGhpbmcgYWZ0ZXIgb25DaGFuZ2VcblxuICAgIG9uSW5wdXQgPT09IG51bGwgfHwgb25JbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25JbnB1dChpbnB1dFN0cik7XG4gIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFN0ZXAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHZhciBvbkludGVybmFsU3RlcCA9IGZ1bmN0aW9uIG9uSW50ZXJuYWxTdGVwKHVwKSB7XG4gICAgdmFyIF9pbnB1dFJlZiRjdXJyZW50O1xuXG4gICAgLy8gSWdub3JlIHN0ZXAgc2luY2Ugb3V0IG9mIHJhbmdlXG4gICAgaWYgKHVwICYmIHVwRGlzYWJsZWQgfHwgIXVwICYmIGRvd25EaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ2xlYXIgdHlwaW5nIHN0YXR1cyBzaW5jZSBpdCBtYXkgY2F1c2VkIGJ5IHVwICYgZG93biBrZXkuXG4gICAgLy8gV2Ugc2hvdWxkIHN5bmMgd2l0aCBpbnB1dCB2YWx1ZS5cblxuXG4gICAgdXNlclR5cGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgdmFyIHN0ZXBEZWNpbWFsID0gZ2V0TWluaURlY2ltYWwoc3RlcCk7XG5cbiAgICBpZiAoIXVwKSB7XG4gICAgICBzdGVwRGVjaW1hbCA9IHN0ZXBEZWNpbWFsLm5lZ2F0ZSgpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSAoZGVjaW1hbFZhbHVlIHx8IGdldE1pbmlEZWNpbWFsKDApKS5hZGQoc3RlcERlY2ltYWwudG9TdHJpbmcoKSk7XG4gICAgdmFyIHVwZGF0ZWRWYWx1ZSA9IHRyaWdnZXJWYWx1ZVVwZGF0ZSh0YXJnZXQsIGZhbHNlKTtcbiAgICBvblN0ZXAgPT09IG51bGwgfHwgb25TdGVwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblN0ZXAoZ2V0RGVjaW1hbFZhbHVlKHN0cmluZ01vZGUsIHVwZGF0ZWRWYWx1ZSksIHtcbiAgICAgIG9mZnNldDogc3RlcCxcbiAgICAgIHR5cGU6IHVwID8gJ3VwJyA6ICdkb3duJ1xuICAgIH0pO1xuICAgIChfaW5wdXRSZWYkY3VycmVudCA9IGlucHV0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9pbnB1dFJlZiRjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaW5wdXRSZWYkY3VycmVudC5mb2N1cygpO1xuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZsdXNoID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIEZsdXNoIGN1cnJlbnQgaW5wdXQgY29udGVudCB0byB0cmlnZ2VyIHZhbHVlIGNoYW5nZSAmIHJlLWZvcm1hdHRlciBpbnB1dCBpZiBuZWVkZWRcbiAgICovXG5cblxuICB2YXIgZmx1c2hJbnB1dFZhbHVlID0gZnVuY3Rpb24gZmx1c2hJbnB1dFZhbHVlKHVzZXJUeXBpbmcpIHtcbiAgICB2YXIgcGFyc2VkVmFsdWUgPSBnZXRNaW5pRGVjaW1hbChtZXJnZWRQYXJzZXIoaW5wdXRWYWx1ZSkpO1xuICAgIHZhciBmb3JtYXRWYWx1ZSA9IHBhcnNlZFZhbHVlO1xuXG4gICAgaWYgKCFwYXJzZWRWYWx1ZS5pc05hTigpKSB7XG4gICAgICAvLyBPbmx5IHZhbGlkYXRlIHZhbHVlIG9yIGVtcHR5IHZhbHVlIGNhbiBiZSByZS1maWxsIHRvIGlucHV0VmFsdWVcbiAgICAgIC8vIFJlYXNzaWduIHRoZSBmb3JtYXRWYWx1ZSB3aXRoaW4gcmFuZ2VkIG9mIHRyaWdnZXIgY29udHJvbFxuICAgICAgZm9ybWF0VmFsdWUgPSB0cmlnZ2VyVmFsdWVVcGRhdGUocGFyc2VkVmFsdWUsIHVzZXJUeXBpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtYXRWYWx1ZSA9IGRlY2ltYWxWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVzZXQgYmFjayB3aXRoIGNvbnRyb2xsZWQgdmFsdWUgZmlyc3RcbiAgICAgIHNldElucHV0VmFsdWUoZGVjaW1hbFZhbHVlLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICghZm9ybWF0VmFsdWUuaXNOYU4oKSkge1xuICAgICAgLy8gUmVzZXQgaW5wdXQgYmFjayBzaW5jZSBubyB2YWxpZGF0ZSB2YWx1ZVxuICAgICAgc2V0SW5wdXRWYWx1ZShmb3JtYXRWYWx1ZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25LZXlEb3duID0gZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIHdoaWNoID0gZXZlbnQud2hpY2g7XG4gICAgdXNlclR5cGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcblxuICAgIGlmICh3aGljaCA9PT0gS2V5Q29kZS5FTlRFUikge1xuICAgICAgaWYgKCFjb21wb3NpdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIHVzZXJUeXBpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBmbHVzaElucHV0VmFsdWUodHJ1ZSk7XG4gICAgICBvblByZXNzRW50ZXIgPT09IG51bGwgfHwgb25QcmVzc0VudGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblByZXNzRW50ZXIoZXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChrZXlib2FyZCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIERvIHN0ZXBcblxuXG4gICAgaWYgKCFjb21wb3NpdGlvblJlZi5jdXJyZW50ICYmIFtLZXlDb2RlLlVQLCBLZXlDb2RlLkRPV05dLmluY2x1ZGVzKHdoaWNoKSkge1xuICAgICAgb25JbnRlcm5hbFN0ZXAoS2V5Q29kZS5VUCA9PT0gd2hpY2gpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uS2V5VXAgPSBmdW5jdGlvbiBvbktleVVwKCkge1xuICAgIHVzZXJUeXBpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICB9OyAvLyA+Pj4gRm9jdXMgJiBCbHVyXG5cblxuICB2YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICAgIGZsdXNoSW5wdXRWYWx1ZShmYWxzZSk7XG4gICAgc2V0Rm9jdXMoZmFsc2UpO1xuICAgIHVzZXJUeXBpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSBDb250cm9sbGVkID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIElucHV0IGJ5IHByZWNpc2lvblxuXG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRlY2ltYWxWYWx1ZS5pc0ludmFsaWRhdGUoKSkge1xuICAgICAgc2V0SW5wdXRWYWx1ZShkZWNpbWFsVmFsdWUsIGZhbHNlKTtcbiAgICB9XG4gIH0sIFtwcmVjaXNpb25dKTsgLy8gSW5wdXQgYnkgdmFsdWVcblxuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXdWYWx1ZSA9IGdldE1pbmlEZWNpbWFsKHZhbHVlKTtcbiAgICBzZXREZWNpbWFsVmFsdWUobmV3VmFsdWUpOyAvLyBXaGVuIHVzZXIgdHlwaW5nIGZyb20gYDEuMmAgdG8gYDEuYCwgd2Ugc2hvdWxkIG5vdCBjb252ZXJ0IHRvIGAxYCBpbW1lZGlhdGVseS5cbiAgICAvLyBCdXQgbGV0IGl0IGdvIGlmIHVzZXIgc2V0IGBmb3JtYXR0ZXJgXG5cbiAgICBpZiAobmV3VmFsdWUuaXNOYU4oKSB8fCAhdXNlclR5cGluZ1JlZi5jdXJyZW50IHx8IGZvcm1hdHRlcikge1xuICAgICAgLy8gVXBkYXRlIHZhbHVlIGFzIGVmZmVjdFxuICAgICAgc2V0SW5wdXRWYWx1ZShuZXdWYWx1ZSwgZmFsc2UpO1xuICAgIH1cbiAgfSwgW3ZhbHVlXSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ3Vyc29yID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChmb3JtYXR0ZXIpIHtcbiAgICAgIHJlc3RvcmVDdXJzb3IoKTtcbiAgICB9XG4gIH0sIFtpbnB1dFZhbHVlXSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUmVuZGVyID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhwcmVmaXhDbHMsIGNsYXNzTmFtZSwgKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1mb2N1c2VkXCIpLCBmb2N1cyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1kaXNhYmxlZFwiKSwgZGlzYWJsZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItcmVhZG9ubHlcIiksIHJlYWRPbmx5KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLW5vdC1hLW51bWJlclwiKSwgZGVjaW1hbFZhbHVlLmlzTmFOKCkpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItb3V0LW9mLXJhbmdlXCIpLCAhZGVjaW1hbFZhbHVlLmlzSW52YWxpZGF0ZSgpICYmICFpc0luUmFuZ2UoZGVjaW1hbFZhbHVlKSksIF9jbGFzc05hbWVzKSksXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICB9LFxuICAgIG9uQmx1cjogb25CbHVyLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIG9uS2V5VXA6IG9uS2V5VXAsXG4gICAgb25Db21wb3NpdGlvblN0YXJ0OiBvbkNvbXBvc2l0aW9uU3RhcnQsXG4gICAgb25Db21wb3NpdGlvbkVuZDogb25Db21wb3NpdGlvbkVuZFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdGVwSGFuZGxlciwge1xuICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgIHVwTm9kZTogdXBIYW5kbGVyLFxuICAgIGRvd25Ob2RlOiBkb3duSGFuZGxlcixcbiAgICB1cERpc2FibGVkOiB1cERpc2FibGVkLFxuICAgIGRvd25EaXNhYmxlZDogZG93bkRpc2FibGVkLFxuICAgIG9uU3RlcDogb25JbnRlcm5hbFN0ZXBcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGlucHV0Q2xhc3NOYW1lLCBcIi13cmFwXCIpXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICByb2xlOiBcInNwaW5idXR0b25cIixcbiAgICBcImFyaWEtdmFsdWVtaW5cIjogbWluLFxuICAgIFwiYXJpYS12YWx1ZW1heFwiOiBtYXgsXG4gICAgXCJhcmlhLXZhbHVlbm93XCI6IGRlY2ltYWxWYWx1ZS5pc0ludmFsaWRhdGUoKSA/IG51bGwgOiBkZWNpbWFsVmFsdWUudG9TdHJpbmcoKSxcbiAgICBzdGVwOiBzdGVwXG4gIH0sIGlucHV0UHJvcHMsIHtcbiAgICByZWY6IGNvbXBvc2VSZWYoaW5wdXRSZWYsIHJlZiksXG4gICAgY2xhc3NOYW1lOiBpbnB1dENsYXNzTmFtZSxcbiAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICBvbkNoYW5nZTogb25JbnRlcm5hbElucHV0LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICByZWFkT25seTogcmVhZE9ubHlcbiAgfSkpKSk7XG59KTtcbklucHV0TnVtYmVyLmRpc3BsYXlOYW1lID0gJ0lucHV0TnVtYmVyJztcbmV4cG9ydCBkZWZhdWx0IElucHV0TnVtYmVyOyIsImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbi8qKlxuICogS2VlcCBpbnB1dCBjdXJzb3IgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24gaWYgcG9zc2libGUuXG4gKiBJcyB0aGlzIG5lY2Vzc2FyeSBzaW5jZSB3ZSBoYXZlIGBmb3JtYXR0ZXJgIHdoaWNoIG1heSBtYXNzIHRoZSBjb250ZW50P1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUN1cnNvcihpbnB1dCwgZm9jdXNlZCkge1xuICB2YXIgc2VsZWN0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGZ1bmN0aW9uIHJlY29yZEN1cnNvcigpIHtcbiAgICAvLyBSZWNvcmQgcG9zaXRpb25cbiAgICB0cnkge1xuICAgICAgdmFyIHN0YXJ0ID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgZW5kID0gaW5wdXQuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgIHZhbHVlID0gaW5wdXQudmFsdWU7XG4gICAgICB2YXIgYmVmb3JlVHh0ID0gdmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgICAgIHZhciBhZnRlclR4dCA9IHZhbHVlLnN1YnN0cmluZyhlbmQpO1xuICAgICAgc2VsZWN0aW9uUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgYmVmb3JlVHh0OiBiZWZvcmVUeHQsXG4gICAgICAgIGFmdGVyVHh0OiBhZnRlclR4dFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7Ly8gRml4IGVycm9yIGluIENocm9tZTpcbiAgICAgIC8vIEZhaWxlZCB0byByZWFkIHRoZSAnc2VsZWN0aW9uU3RhcnQnIHByb3BlcnR5IGZyb20gJ0hUTUxJbnB1dEVsZW1lbnQnXG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMTE3NzQ4OS8zMDQwNjA1XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlIGxvZ2ljOlxuICAgKiAgMS4gYmFjayBzdHJpbmcgc2FtZVxuICAgKiAgMi4gc3RhcnQgc3RyaW5nIHNhbWVcbiAgICovXG5cblxuICBmdW5jdGlvbiByZXN0b3JlQ3Vyc29yKCkge1xuICAgIGlmIChpbnB1dCAmJiBzZWxlY3Rpb25SZWYuY3VycmVudCAmJiBmb2N1c2VkKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgdmFyIF9zZWxlY3Rpb25SZWYkY3VycmVudCA9IHNlbGVjdGlvblJlZi5jdXJyZW50LFxuICAgICAgICAgICAgYmVmb3JlVHh0ID0gX3NlbGVjdGlvblJlZiRjdXJyZW50LmJlZm9yZVR4dCxcbiAgICAgICAgICAgIGFmdGVyVHh0ID0gX3NlbGVjdGlvblJlZiRjdXJyZW50LmFmdGVyVHh0LFxuICAgICAgICAgICAgc3RhcnQgPSBfc2VsZWN0aW9uUmVmJGN1cnJlbnQuc3RhcnQ7XG4gICAgICAgIHZhciBzdGFydFBvcyA9IHZhbHVlLmxlbmd0aDtcblxuICAgICAgICBpZiAodmFsdWUuZW5kc1dpdGgoYWZ0ZXJUeHQpKSB7XG4gICAgICAgICAgc3RhcnRQb3MgPSB2YWx1ZS5sZW5ndGggLSBzZWxlY3Rpb25SZWYuY3VycmVudC5hZnRlclR4dC5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUuc3RhcnRzV2l0aChiZWZvcmVUeHQpKSB7XG4gICAgICAgICAgc3RhcnRQb3MgPSBiZWZvcmVUeHQubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBiZWZvcmVMYXN0Q2hhciA9IGJlZm9yZVR4dFtzdGFydCAtIDFdO1xuICAgICAgICAgIHZhciBuZXdJbmRleCA9IHZhbHVlLmluZGV4T2YoYmVmb3JlTGFzdENoYXIsIHN0YXJ0IC0gMSk7XG5cbiAgICAgICAgICBpZiAobmV3SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBzdGFydFBvcyA9IG5ld0luZGV4ICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydFBvcywgc3RhcnRQb3MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIlNvbWV0aGluZyB3YXJuaW5nIG9mIGN1cnNvciByZXN0b3JlLiBQbGVhc2UgZmlyZSBpc3N1ZSBhYm91dCB0aGlzOiBcIi5jb25jYXQoZS5tZXNzYWdlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtyZWNvcmRDdXJzb3IsIHJlc3RvcmVDdXJzb3JdO1xufSIsImltcG9ydCBJbnB1dE51bWJlciBmcm9tICcuL0lucHV0TnVtYmVyJztcbmV4cG9ydCBkZWZhdWx0IElucHV0TnVtYmVyOyJdLCJuYW1lcyI6WyJzdXBwb3J0QmlnSW50IiwiQmlnSW50IiwidHJpbU51bWJlciIsIm51bVN0ciIsInN0ciIsInRyaW0iLCJuZWdhdGl2ZSIsInN0YXJ0c1dpdGgiLCJzbGljZSIsInJlcGxhY2UiLCJjb25jYXQiLCJ0cmltU3RyIiwic3BsaXROdW1iZXIiLCJzcGxpdCIsImludGVnZXJTdHIiLCJkZWNpbWFsU3RyIiwibmVnYXRpdmVTdHIiLCJmdWxsU3RyIiwiaXNFIiwibnVtYmVyIiwiU3RyaW5nIiwiTnVtYmVyIiwiaXNOYU4iLCJpbmNsdWRlcyIsImdldE51bWJlclByZWNpc2lvbiIsInByZWNpc2lvbiIsImluZGV4T2YiLCJkZWNpbWFsTWF0Y2giLCJtYXRjaCIsImxlbmd0aCIsInZhbGlkYXRlTnVtYmVyIiwibnVtMnN0ciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJ0b1N0cmluZyIsIk1JTl9TQUZFX0lOVEVHRVIiLCJ0b0ZpeGVkIiwibnVtIiwidGVzdCIsIk51bWJlckRlY2ltYWwiLCJ2YWx1ZSIsInRoaXMiLCJvcmlnaW4iLCJlbXB0eSIsImtleSIsInRvTnVtYmVyIiwiaXNJbnZhbGlkYXRlIiwidGFyZ2V0IiwibWF4UHJlY2lzaW9uIiwiTWF0aCIsIm1heCIsImlzRW1wdHkiLCJhZGQiLCJuZWdhdGUiLCJzYWZlIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiQmlnSW50RGVjaW1hbCIsIm1lcmdlZFZhbHVlIiwidHJpbVJldCIsIm51bWJlcnMiLCJpbnRlZ2VyIiwiZGVjaW1hbCIsImRlY2ltYWxMZW4iLCJuYW4iLCJwYWRTdGFydCIsImRlY2ltYWxMZW5ndGgiLCJnZXRNYXJrIiwiZ2V0SW50ZWdlclN0ciIsImdldERlY2ltYWxTdHIiLCJwYWRFbmQiLCJjbG9uZSIsIm9mZnNldCIsIm1heERlY2ltYWxMZW5ndGgiLCJfdHJpbU51bWJlciIsImFsaWduRGVjaW1hbCIsImh5ZHJhdGVWYWx1ZVN0ciIsIk5hTiIsImdldE1pbmlEZWNpbWFsIiwic2VwYXJhdG9yU3RyIiwiX3RyaW1OdW1iZXIyIiwicHJlY2lzaW9uRGVjaW1hbFN0ciIsIm51bWJlcldpdGhvdXREZWNpbWFsIiwiYWR2YW5jZWROdW0iLCJyZXBlYXQiLCJTdGVwSGFuZGxlciIsIl9yZWYiLCJwcmVmaXhDbHMiLCJ1cE5vZGUiLCJkb3duTm9kZSIsInVwRGlzYWJsZWQiLCJkb3duRGlzYWJsZWQiLCJvblN0ZXAiLCJzdGVwVGltZW91dFJlZiIsIm9uU3RlcFJlZiIsImN1cnJlbnQiLCJvblN0ZXBNb3VzZURvd24iLCJlIiwidXAiLCJwcmV2ZW50RGVmYXVsdCIsInNldFRpbWVvdXQiLCJsb29wU3RlcCIsIm9uU3RvcFN0ZXAiLCJjbGVhclRpbWVvdXQiLCJpc01vYmlsZSIsImhhbmRsZXJDbGFzc05hbWUiLCJ1cENsYXNzTmFtZSIsImRvd25DbGFzc05hbWUiLCJzaGFyZWRIYW5kbGVyUHJvcHMiLCJ1bnNlbGVjdGFibGUiLCJyb2xlIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIiwiY2xhc3NOYW1lIiwib25Nb3VzZURvd24iLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VVcGRhdGVFZmZlY3QiLCJjYWxsYmFjayIsImNvbmRpdGlvbiIsImluaXRSZWYiLCJnZXREZWNpbWFsVmFsdWUiLCJzdHJpbmdNb2RlIiwiZGVjaW1hbFZhbHVlIiwiZ2V0RGVjaW1hbElmVmFsaWRhdGUiLCJJbnB1dE51bWJlciIsInByb3BzIiwicmVmIiwiX2NsYXNzTmFtZXMiLCJfcHJvcHMkcHJlZml4Q2xzIiwic3R5bGUiLCJtaW4iLCJfcHJvcHMkc3RlcCIsInN0ZXAiLCJkZWZhdWx0VmFsdWUiLCJkaXNhYmxlZCIsInJlYWRPbmx5IiwidXBIYW5kbGVyIiwiZG93bkhhbmRsZXIiLCJrZXlib2FyZCIsInBhcnNlciIsImZvcm1hdHRlciIsImRlY2ltYWxTZXBhcmF0b3IiLCJvbkNoYW5nZSIsIm9uSW5wdXQiLCJvblByZXNzRW50ZXIiLCJpbnB1dFByb3BzIiwiaW5wdXRDbGFzc05hbWUiLCJpbnB1dFJlZiIsIl9SZWFjdCR1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJmb2N1cyIsInNldEZvY3VzIiwidXNlclR5cGluZ1JlZiIsImNvbXBvc2l0aW9uUmVmIiwiX1JlYWN0JHVzZVN0YXRlMyIsIl9SZWFjdCR1c2VTdGF0ZTQiLCJzZXREZWNpbWFsVmFsdWUiLCJnZXRQcmVjaXNpb24iLCJ1c2VyVHlwaW5nIiwibWVyZ2VkUGFyc2VyIiwicGFyc2VkU3RyIiwibWVyZ2VkRm9ybWF0dGVyIiwibWVyZ2VkUHJlY2lzaW9uIiwiX1JlYWN0JHVzZVN0YXRlNSIsImluaXRWYWx1ZSIsIl9SZWFjdCR1c2VTdGF0ZTYiLCJpbnB1dFZhbHVlIiwic2V0SW50ZXJuYWxJbnB1dFZhbHVlIiwic2V0SW5wdXRWYWx1ZSIsIm5ld1ZhbHVlIiwiaW5wdXQiLCJmb2N1c2VkIiwic2VsZWN0aW9uUmVmIiwibWF4RGVjaW1hbCIsIm1pbkRlY2ltYWwiLCJsZXNzRXF1YWxzIiwiX3VzZUN1cnNvciIsInVzZVJlZiIsInN0YXJ0Iiwic2VsZWN0aW9uU3RhcnQiLCJlbmQiLCJzZWxlY3Rpb25FbmQiLCJiZWZvcmVUeHQiLCJzdWJzdHJpbmciLCJhZnRlclR4dCIsIl9zZWxlY3Rpb25SZWYkY3VycmVudCIsInN0YXJ0UG9zIiwiZW5kc1dpdGgiLCJiZWZvcmVMYXN0Q2hhciIsIm5ld0luZGV4Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJ3YXJuaW5nIiwibWVzc2FnZSIsIl91c2VDdXJzb3IyIiwicmVjb3JkQ3Vyc29yIiwicmVzdG9yZUN1cnNvciIsImdldFJhbmdlVmFsdWUiLCJpc0luUmFuZ2UiLCJ0cmlnZ2VyVmFsdWVVcGRhdGUiLCJuZXdEZWNpbWFsIiwidXBkYXRlVmFsdWUiLCJpc1JhbmdlVmFsaWRhdGUiLCJlcXVhbHMiLCJjb2xsZWN0SW5wdXRWYWx1ZSIsImlucHV0U3RyIiwiZmluYWxEZWNpbWFsIiwib25JbnRlcm5hbFN0ZXAiLCJfaW5wdXRSZWYkY3VycmVudCIsInN0ZXBEZWNpbWFsIiwidXBkYXRlZFZhbHVlIiwidHlwZSIsImZsdXNoSW5wdXRWYWx1ZSIsInBhcnNlZFZhbHVlIiwiZm9ybWF0VmFsdWUiLCJvbkZvY3VzIiwib25CbHVyIiwib25LZXlEb3duIiwiZXZlbnQiLCJ3aGljaCIsIktleUNvZGUiLCJvbktleVVwIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsImF1dG9Db21wbGV0ZSIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==